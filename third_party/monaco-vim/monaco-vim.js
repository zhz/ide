<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for monaco-vim"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2021-09-08T07:13:21.766Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - monaco-vim</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"monaco-vim","packageVersion":"0.1.18","availableVersions":["0.0.1","0.0.2","0.0.3","0.0.4","0.0.5","0.0.7","0.0.8","0.0.9","0.0.10","0.0.11","0.0.12","0.0.13","0.0.14","0.0.15","0.1.0","0.1.1","0.1.2","0.1.3","0.1.4","0.1.5","0.1.6","0.1.7","0.1.8","0.1.9","0.1.10","0.1.11","0.1.12","0.1.13","0.1.14","0.1.15","0.1.16","0.1.17","0.1.18"],"filename":"/dist/monaco-vim.js","target":{"path":"/dist/monaco-vim.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-KSuHEgsEGW+B4p/hmcK80Y5hpr85W0FYfmOG3G+E74vjym/0o++tXH4AJKBNGreF","language":"JavaScript","size":100056,"uri":null,"highlights":["<span class=\"code-comment\">/*!\n</span>","<span class=\"code-comment\"> * monaco-vim\n</span>","<span class=\"code-comment\"> * Version - 0.1.18\n</span>","<span class=\"code-comment\"> * Author - Brijesh Bittu &lt;brijesh@bitwiser.in&gt; (http://bitwiser.in/)\n</span>","<span class=\"code-comment\"> * License - MIT\n</span>","<span class=\"code-comment\"> */</span>\n","!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span>?<span class=\"code-built_in\">module</span>.exports=t(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"monaco-editor\"</span>),<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"monaco-editor/esm/vs/editor/common/controller/cursorTypeOperations\"</span>)):<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> define&amp;&amp;define.amd?define([<span class=\"code-string\">\"vs/editor/editor.main\"</span>,<span class=\"code-string\">\"vs/editor/common/controller/cursorTypeOperations\"</span>],t):<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports?exports.MonacoVim=t(<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"monaco-editor\"</span>),<span class=\"code-built_in\">require</span>(<span class=\"code-string\">\"monaco-editor/esm/vs/editor/common/controller/cursorTypeOperations\"</span>)):e.MonacoVim=t(e.monaco,e[<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>])}(self,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">if</span>(t[r])<span class=\"code-keyword\">return</span> t[r].exports;<span class=\"code-keyword\">var</span> o=t[r]={<span class=\"code-attr\">i</span>:r,<span class=\"code-attr\">l</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">exports</span>:{}};<span class=\"code-keyword\">return</span> e[r].call(o.exports,o,o.exports,n),o.l=!<span class=\"code-number\">0</span>,o.exports}<span class=\"code-keyword\">return</span> n.m=e,n.c=t,n.d=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,r</span>)</span>{n.o(e,t)||<span class=\"code-built_in\">Object</span>.defineProperty(e,t,{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:r})},n.r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;<span class=\"code-built_in\">Symbol</span>.toStringTag&amp;&amp;<span class=\"code-built_in\">Object</span>.defineProperty(e,<span class=\"code-built_in\">Symbol</span>.toStringTag,{<span class=\"code-attr\">value</span>:<span class=\"code-string\">\"Module\"</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(e,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>})},n.t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>&amp;t&amp;&amp;(e=n(e)),<span class=\"code-number\">8</span>&amp;t)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">4</span>&amp;t&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;e&amp;&amp;e.__esModule)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Object</span>.create(<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">if</span>(n.r(r),<span class=\"code-built_in\">Object</span>.defineProperty(r,<span class=\"code-string\">\"default\"</span>,{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">value</span>:e}),<span class=\"code-number\">2</span>&amp;t&amp;&amp;<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> e)n.d(r,o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e[t]}.bind(<span class=\"code-literal\">null</span>,o));<span class=\"code-keyword\">return</span> r},n.n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e&amp;&amp;e.__esModule?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.default}:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e};<span class=\"code-keyword\">return</span> n.d(t,<span class=\"code-string\">\"a\"</span>,t),t},n.o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(e,t)},n.p=<span class=\"code-string\">\"\"</span>,n(n.s=<span class=\"code-number\">2</span>)}([<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n</span>)</span>{t.exports=e},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{e.exports=t},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-string\">\"use strict\"</span>;n.r(t);<span class=\"code-keyword\">var</span> r=n(<span class=\"code-number\">0</span>),o=n(<span class=\"code-number\">1</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(e))<span class=\"code-keyword\">return</span> e}(e)||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!(<span class=\"code-built_in\">Symbol</span>.iterator <span class=\"code-keyword\">in</span> <span class=\"code-built_in\">Object</span>(e)||<span class=\"code-string\">\"[object Arguments]\"</span>===<span class=\"code-built_in\">Object</span>.prototype.toString.call(e)))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> n=[],r=!<span class=\"code-number\">0</span>,o=!<span class=\"code-number\">1</span>,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a,s=e[<span class=\"code-built_in\">Symbol</span>.iterator]();!(r=(a=s.next()).done)&amp;&amp;(n.push(a.value),!t||n.length!==t);r=!<span class=\"code-number\">0</span>);}<span class=\"code-keyword\">catch</span>(e){o=!<span class=\"code-number\">0</span>,i=e}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">try</span>{r||<span class=\"code-literal\">null</span>==s.return||s.return()}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">if</span>(o)<span class=\"code-keyword\">throw</span> i}}<span class=\"code-keyword\">return</span> n}(e,t)||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Invalid attempt to destructure non-iterable instance\"</span>)}()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(a=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;<span class=\"code-string\">\"symbol\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>.iterator?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> e}:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e.constructor===<span class=\"code-built_in\">Symbol</span>&amp;&amp;e!==<span class=\"code-built_in\">Symbol</span>.prototype?<span class=\"code-string\">\"symbol\"</span>:<span class=\"code-keyword\">typeof</span> e})(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!(e <span class=\"code-keyword\">instanceof</span> t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Cannot call a class as a function\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.length;n++){<span class=\"code-keyword\">var</span> r=t[n];r.enumerable=r.enumerable||!<span class=\"code-number\">1</span>,r.configurable=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"value\"</span><span class=\"code-keyword\">in</span> r&amp;&amp;(r.writable=!<span class=\"code-number\">0</span>),<span class=\"code-built_in\">Object</span>.defineProperty(e,r.key,r)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">c</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;l(e.prototype,t),n&amp;&amp;l(e,n),e}<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">4</span>,h={<span class=\"code-attr\">readOnly</span>:<span class=\"code-number\">65</span>,<span class=\"code-attr\">cursorWidth</span>:<span class=\"code-number\">20</span>,<span class=\"code-attr\">fontInfo</span>:<span class=\"code-number\">32</span>},f=<span class=\"code-built_in\">window</span>.navigator,p=f.userAgent,d=f.platform,g=(!<span class=\"code-regexp\">/Edge\\/(\\d+)/</span>.exec(p)&amp;&amp;<span class=\"code-regexp\">/AppleWebKit/</span>.test(p)&amp;&amp;<span class=\"code-regexp\">/Mobile\\/\\w+/</span>.test(p)||<span class=\"code-regexp\">/Mac/</span>.test(d),/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">m</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!(<span class=\"code-keyword\">this</span> <span class=\"code-keyword\">instanceof</span> m))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> m(e,t);<span class=\"code-keyword\">this</span>.line=e,<span class=\"code-keyword\">this</span>.ch=t}<span class=\"code-built_in\">String</span>.prototype.normalize?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.normalize(<span class=\"code-string\">\"NFD\"</span>).toLowerCase()}:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.toLowerCase()};<span class=\"code-keyword\">var</span> v=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.pos=<span class=\"code-keyword\">this</span>.start=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.string=e,<span class=\"code-keyword\">this</span>.tabSize=t||<span class=\"code-number\">8</span>,<span class=\"code-keyword\">this</span>.lastColumnPos=<span class=\"code-keyword\">this</span>.lastColumnValue=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.lineStart=<span class=\"code-number\">0</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">y</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> m(e.lineNumber<span class=\"code-number\">-1</span>,e.column<span class=\"code-number\">-1</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">k</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> r.Position(e.line+<span class=\"code-number\">1</span>,e.ch+<span class=\"code-number\">1</span>)}v.prototype={<span class=\"code-attr\">eol</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pos&gt;=<span class=\"code-keyword\">this</span>.string.length},<span class=\"code-attr\">sol</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pos==<span class=\"code-keyword\">this</span>.lineStart},<span class=\"code-attr\">peek</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.string.charAt(<span class=\"code-keyword\">this</span>.pos)||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},<span class=\"code-attr\">next</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.pos&lt;<span class=\"code-keyword\">this</span>.string.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.string.charAt(<span class=\"code-keyword\">this</span>.pos++)},<span class=\"code-attr\">eat</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.string.charAt(<span class=\"code-keyword\">this</span>.pos);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">var</span> n=t==e;<span class=\"code-keyword\">else</span> n=t&amp;&amp;(e.test?e.test(t):e(t));<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">return</span>++<span class=\"code-keyword\">this</span>.pos,t},<span class=\"code-attr\">eatWhile</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.pos;<span class=\"code-keyword\">this</span>.eat(e););<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pos&gt;t},<span class=\"code-attr\">eatSpace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.pos;<span class=\"code-regexp\">/[\\s\\u00a0]/</span>.test(<span class=\"code-keyword\">this</span>.string.charAt(<span class=\"code-keyword\">this</span>.pos));)++<span class=\"code-keyword\">this</span>.pos;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pos&gt;e},<span class=\"code-attr\">skipToEnd</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.pos=<span class=\"code-keyword\">this</span>.string.length},<span class=\"code-attr\">skipTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.string.indexOf(e,<span class=\"code-keyword\">this</span>.pos);<span class=\"code-keyword\">if</span>(t&gt;<span class=\"code-number\">-1</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pos=t,!<span class=\"code-number\">0</span>},<span class=\"code-attr\">backUp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.pos-=e},<span class=\"code-attr\">column</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span><span class=\"code-string\">\"not implemented\"</span>},<span class=\"code-attr\">indentation</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span><span class=\"code-string\">\"not implemented\"</span>},<span class=\"code-attr\">match</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.string.slice(<span class=\"code-keyword\">this</span>.pos).match(e);<span class=\"code-keyword\">return</span> r&amp;&amp;r.index&gt;<span class=\"code-number\">0</span>?<span class=\"code-literal\">null</span>:(r&amp;&amp;!<span class=\"code-number\">1</span>!==t&amp;&amp;(<span class=\"code-keyword\">this</span>.pos+=r[<span class=\"code-number\">0</span>].length),r)}<span class=\"code-keyword\">var</span> o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n?e.toLowerCase():e};<span class=\"code-keyword\">if</span>(o(<span class=\"code-keyword\">this</span>.string.substr(<span class=\"code-keyword\">this</span>.pos,e.length))==o(e))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>!==t&amp;&amp;(<span class=\"code-keyword\">this</span>.pos+=e.length),!<span class=\"code-number\">0</span>},<span class=\"code-attr\">current</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.string.slice(<span class=\"code-keyword\">this</span>.start,<span class=\"code-keyword\">this</span>.pos)},<span class=\"code-attr\">hideFirstChars</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.lineStart+=e;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> t()}<span class=\"code-keyword\">finally</span>{<span class=\"code-keyword\">this</span>.lineStart-=e}}};<span class=\"code-keyword\">var</span> C=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,n,r,o</span>)</span>{s(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">this</span>.cm=t,<span class=\"code-keyword\">this</span>.id=n,<span class=\"code-keyword\">this</span>.lineNumber=r+<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.column=o+<span class=\"code-number\">1</span>,t.marks[<span class=\"code-keyword\">this</span>.id]=<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> c(e,[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"clear\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.cm.marks[<span class=\"code-keyword\">this</span>.id]}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"find\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> y(<span class=\"code-keyword\">this</span>)}}]),e}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">1</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]&amp;&amp;<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>],n=!<span class=\"code-number\">0</span>,o=r.KeyCode[e.keyCode];e.key&amp;&amp;(o=e.key,n=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> i=o,a=t;<span class=\"code-keyword\">switch</span>(e.keyCode){<span class=\"code-keyword\">case</span> r.KeyCode.Shift:<span class=\"code-keyword\">case</span> r.KeyCode.Meta:<span class=\"code-keyword\">case</span> r.KeyCode.Alt:<span class=\"code-keyword\">case</span> r.KeyCode.Ctrl:<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">case</span> r.KeyCode.Escape:a=!<span class=\"code-number\">0</span>,i=<span class=\"code-string\">\"Esc\"</span>}<span class=\"code-keyword\">return</span> o.startsWith(<span class=\"code-string\">\"KEY_\"</span>)?i=o[o.length<span class=\"code-number\">-1</span>].toLowerCase():o.endsWith(<span class=\"code-string\">\"Arrow\"</span>)?(a=!<span class=\"code-number\">0</span>,i=o.substr(<span class=\"code-number\">0</span>,o.length<span class=\"code-number\">-5</span>)):o.startsWith(<span class=\"code-string\">\"US_\"</span>)&amp;&amp;(i=e.browserEvent.key),a||e.altKey||e.ctrlKey||e.metaKey?(e.altKey&amp;&amp;(i=<span class=\"code-string\">\"Alt-\"</span>.concat(i)),e.ctrlKey&amp;&amp;(i=<span class=\"code-string\">\"Ctrl-\"</span>.concat(i)),e.metaKey&amp;&amp;(i=<span class=\"code-string\">\"Meta-\"</span>.concat(i)),e.shiftKey&amp;&amp;(i=<span class=\"code-string\">\"Shift-\"</span>.concat(i))):i=e.key||e.browserEvent.key,<span class=\"code-number\">1</span>===i.length&amp;&amp;n&amp;&amp;(i=<span class=\"code-string\">\"'\"</span>.concat(i,<span class=\"code-string\">\"'\"</span>)),i}<span class=\"code-keyword\">var</span> S=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{s(<span class=\"code-keyword\">this</span>,e),M.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.editor=t,<span class=\"code-keyword\">this</span>.state={},<span class=\"code-keyword\">this</span>.marks={},<span class=\"code-keyword\">this</span>.$uid=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.disposables=[],<span class=\"code-keyword\">this</span>.listeners={},<span class=\"code-keyword\">this</span>.curOp={},<span class=\"code-keyword\">this</span>.attached=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.statusBar=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.addLocalListeners(),<span class=\"code-keyword\">this</span>.ctxInsert=<span class=\"code-keyword\">this</span>.editor.createContextKey(<span class=\"code-string\">\"insertMode\"</span>,!<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">return</span> c(e,[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"attach\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.keyMap.vim.attach(<span class=\"code-keyword\">this</span>)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"addLocalListeners\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.disposables.push(<span class=\"code-keyword\">this</span>.editor.onDidChangeCursorPosition(<span class=\"code-keyword\">this</span>.handleCursorChange),<span class=\"code-keyword\">this</span>.editor.onDidChangeModelContent(<span class=\"code-keyword\">this</span>.handleChange),<span class=\"code-keyword\">this</span>.editor.onKeyDown(<span class=\"code-keyword\">this</span>.handleKeyDown))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"handleReplaceMode\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=!<span class=\"code-number\">1</span>,o=e,i=<span class=\"code-keyword\">this</span>.editor.getPosition(),a=<span class=\"code-keyword\">new</span> r.Range(i.lineNumber,i.column,i.lineNumber,i.column+<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(e.startsWith(<span class=\"code-string\">\"'\"</span>))o=e[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"Enter\"</span>===o)o=<span class=\"code-string\">\"\\n\"</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"Backspace\"</span>!==o)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>.replaceStack.pop();<span class=\"code-keyword\">if</span>(!s)<span class=\"code-keyword\">return</span>;n=!<span class=\"code-number\">0</span>,o=s,a=<span class=\"code-keyword\">new</span> r.Range(i.lineNumber,i.column,i.lineNumber,i.column<span class=\"code-number\">-1</span>)}t.preventDefault(),t.stopPropagation(),<span class=\"code-keyword\">this</span>.replaceStack||(<span class=\"code-keyword\">this</span>.replaceStack=[]),n||<span class=\"code-keyword\">this</span>.replaceStack.push(<span class=\"code-keyword\">this</span>.editor.getModel().getValueInRange(a)),<span class=\"code-keyword\">this</span>.editor.executeEdits(<span class=\"code-string\">\"vim\"</span>,[{<span class=\"code-attr\">text</span>:o,<span class=\"code-attr\">range</span>:a,<span class=\"code-attr\">forceMoveMarkers</span>:!<span class=\"code-number\">0</span>}]),n&amp;&amp;<span class=\"code-keyword\">this</span>.editor.setPosition(a.getStartPosition())}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setOption\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.state[e]=t,<span class=\"code-string\">\"theme\"</span>===e&amp;&amp;r.editor.setTheme(t)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getConfiguration\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.editor,t=h;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.getConfiguration?e.getConfiguration():(<span class=\"code-string\">\"EditorOption\"</span><span class=\"code-keyword\">in</span> r.editor&amp;&amp;(t=r.editor.EditorOption),{<span class=\"code-attr\">readOnly</span>:e.getOption(t.readOnly),<span class=\"code-attr\">viewInfo</span>:{<span class=\"code-attr\">cursorWidth</span>:e.getOption(t.cursorWidth)},<span class=\"code-attr\">fontInfo</span>:e.getOption(t.fontInfo)})}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getOption\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"readOnly\"</span>===e?<span class=\"code-keyword\">this</span>.getConfiguration().readOnly:<span class=\"code-string\">\"firstLineNumber\"</span>===e?<span class=\"code-keyword\">this</span>.firstLine()+<span class=\"code-number\">1</span>:<span class=\"code-string\">\"indentWithTabs\"</span>===e?!<span class=\"code-keyword\">this</span>.editor.getModel().getOptions().insertSpaces:<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.editor.getConfiguration?<span class=\"code-keyword\">this</span>.editor.getRawConfiguration()[e]:<span class=\"code-keyword\">this</span>.editor.getRawOptions()[e]}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"dispatch\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">arguments</span>.length,n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(t&gt;<span class=\"code-number\">1</span>?t<span class=\"code-number\">-1</span>:<span class=\"code-number\">0</span>),r=<span class=\"code-number\">1</span>;r&lt;t;r++)n[r<span class=\"code-number\">-1</span>]=<span class=\"code-built_in\">arguments</span>[r];<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.listeners[e];o&amp;&amp;o.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.apply(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,n)}))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"on\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.listeners[e]||(<span class=\"code-keyword\">this</span>.listeners[e]=[]),<span class=\"code-keyword\">this</span>.listeners[e].push(t)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"off\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.listeners[e];n&amp;&amp;(<span class=\"code-keyword\">this</span>.listeners[e]=n.filter((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e!==t})))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"firstLine\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"lastLine\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.lineCount()<span class=\"code-number\">-1</span>}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"lineCount\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.editor.getModel().getLineCount()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"defaultTextHeight\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getLine\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.editor.getModel().getLineCount();<span class=\"code-keyword\">return</span> e+<span class=\"code-number\">1</span>&gt;t&amp;&amp;(e=t<span class=\"code-number\">-1</span>),<span class=\"code-keyword\">this</span>.editor.getModel().getLineContent(e+<span class=\"code-number\">1</span>)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getAnchorForSelection\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.isEmpty()?e.getPosition():e.getDirection()===r.SelectionDirection.LTR?e.getStartPosition():e.getEndPosition()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getHeadForSelection\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.isEmpty()?e.getPosition():e.getDirection()===r.SelectionDirection.LTR?e.getEndPosition():e.getStartPosition()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getCursor\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">0</span>]?<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">0</span>]:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> y(<span class=\"code-keyword\">this</span>.editor.getPosition());<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.editor.getSelection();<span class=\"code-keyword\">return</span> y(t.isEmpty()?t.getPosition():<span class=\"code-string\">\"anchor\"</span>===e?<span class=\"code-keyword\">this</span>.getAnchorForSelection(t):<span class=\"code-keyword\">this</span>.getHeadForSelection(t))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getRange\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=k(e),o=k(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.editor.getModel().getValueInRange(r.Range.fromPositions(n,o))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getSelection\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=[],t=<span class=\"code-keyword\">this</span>.editor,n=<span class=\"code-keyword\">this</span>.state.vim;<span class=\"code-keyword\">return</span> t.getSelections().map((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{n.visualBlock&amp;&amp;(r.endColumn+=<span class=\"code-number\">1</span>),e.push(t.getModel().getValueInRange(r))})),e.join(<span class=\"code-string\">\"\\n\"</span>)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"replaceRange\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> o=k(t),i=n?k(n):o;<span class=\"code-keyword\">this</span>.editor.executeEdits(<span class=\"code-string\">\"vim\"</span>,[{<span class=\"code-attr\">text</span>:e,<span class=\"code-attr\">range</span>:r.Range.fromPositions(o,i)}]),<span class=\"code-keyword\">this</span>.pushUndoStop()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"pushUndoStop\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.editor.pushUndoStop()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setCursor\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=e;<span class=\"code-string\">\"object\"</span>!==a(e)&amp;&amp;((n={}).line=e,n.ch=t);<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.editor.getModel().validatePosition(k(n));<span class=\"code-keyword\">this</span>.editor.setPosition(k(n)),<span class=\"code-keyword\">this</span>.editor.revealPosition(r)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"somethingSelected\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-keyword\">this</span>.editor.getSelection().isEmpty()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"operation\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"listSelections\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-keyword\">this</span>.editor.getSelections();<span class=\"code-keyword\">return</span>!t.length||<span class=\"code-keyword\">this</span>.inVirtualSelectionMode?[{<span class=\"code-attr\">anchor</span>:<span class=\"code-keyword\">this</span>.getCursor(<span class=\"code-string\">\"anchor\"</span>),<span class=\"code-attr\">head</span>:<span class=\"code-keyword\">this</span>.getCursor(<span class=\"code-string\">\"head\"</span>)}]:t.map((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.getPosition(),t.getStartPosition(),t.getEndPosition();<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">anchor</span>:e.clipPos(y(e.getAnchorForSelection(t))),<span class=\"code-attr\">head</span>:e.clipPos(y(e.getHeadForSelection(t)))}}))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"focus\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.editor.focus()}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setSelections\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=!!<span class=\"code-keyword\">this</span>.editor.getSelections().length,o=e.map((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> o=e.anchor,i=e.head;<span class=\"code-keyword\">return</span> n?r.Selection.fromPositions(k(o),k(i)):r.Selection.fromPositions(k(i),k(o))}));<span class=\"code-keyword\">if</span>(t&amp;&amp;o[t]&amp;&amp;o.push(o.splice(t,<span class=\"code-number\">1</span>)[<span class=\"code-number\">0</span>]),o.length){<span class=\"code-keyword\">var</span> i,a=o[<span class=\"code-number\">0</span>];i=a.getDirection()===r.SelectionDirection.LTR?a.getEndPosition():a.getStartPosition(),<span class=\"code-keyword\">this</span>.editor.setSelections(o),<span class=\"code-keyword\">this</span>.editor.revealPosition(i)}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setSelection\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=r.Range.fromPositions(k(e),k(t));<span class=\"code-keyword\">this</span>.editor.setSelection(n)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getSelections\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.editor;<span class=\"code-keyword\">return</span> e.getSelections().map((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.getModel().getValueInRange(t)}))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"replaceSelections\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.editor;t.getSelections().forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r</span>)</span>{t.executeEdits(<span class=\"code-string\">\"vim\"</span>,[{<span class=\"code-attr\">range</span>:n,<span class=\"code-attr\">text</span>:e[r],<span class=\"code-attr\">forceMoveMarkers</span>:!<span class=\"code-number\">1</span>}])}))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"toggleOverwrite\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e?(<span class=\"code-keyword\">this</span>.enterVimMode(),<span class=\"code-keyword\">this</span>.replaceMode=!<span class=\"code-number\">0</span>):(<span class=\"code-keyword\">this</span>.leaveVimMode(),<span class=\"code-keyword\">this</span>.replaceMode=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.replaceStack=[])}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"charCoords\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">top</span>:e.line,<span class=\"code-attr\">left</span>:e.ch}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"coordsChar\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"clipPos\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> y(<span class=\"code-keyword\">this</span>.editor.getModel().validatePosition(k(e)))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setBookmark\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> C(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.$uid++,e.line,e.ch);<span class=\"code-keyword\">return</span> t&amp;&amp;t.insertLeft||(n.$insertRight=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.marks[n.id]=n,n}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getScrollInfo\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.editor,t=i(e.getVisibleRanges(),<span class=\"code-number\">1</span>)[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">left</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">top</span>:t.startLineNumber<span class=\"code-number\">-1</span>,<span class=\"code-attr\">height</span>:e.getModel().getLineCount(),<span class=\"code-attr\">clientHeight</span>:t.endLineNumber-t.startLineNumber+<span class=\"code-number\">1</span>}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"triggerEditorAction\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.editor.trigger(<span class=\"code-string\">\"vim\"</span>,e)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.dispatch(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.removeOverlay(),e.keyMap.vim&amp;&amp;e.keyMap.vim.detach(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.disposables.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.dispose()}))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getInputField\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getWrapperElement\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"enterVimMode\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{!(<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">0</span>])||<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">this</span>.ctxInsert.set(!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.getConfiguration();<span class=\"code-keyword\">this</span>.initialCursorWidth=e.viewInfo.cursorWidth||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.editor.updateOptions({<span class=\"code-attr\">cursorWidth</span>:e.fontInfo.typicalFullwidthCharacterWidth,<span class=\"code-attr\">cursorBlinking</span>:<span class=\"code-string\">\"solid\"</span>})}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"leaveVimMode\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.ctxInsert.set(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.editor.updateOptions({<span class=\"code-attr\">cursorWidth</span>:<span class=\"code-keyword\">this</span>.initialCursorWidth||<span class=\"code-number\">0</span>,<span class=\"code-attr\">cursorBlinking</span>:<span class=\"code-string\">\"blink\"</span>})}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"virtualSelectionMode\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.inVirtualSelectionMode}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"markText\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">clear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">find</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getUserVisibleLines\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.editor.getVisibleRanges();<span class=\"code-keyword\">if</span>(!e.length)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">top</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">bottom</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">top</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-attr\">bottom</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">return</span> e.reduce((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t.startLineNumber&lt;e.top&amp;&amp;(e.top=t.startLineNumber),t.endLineNumber&gt;e.bottom&amp;&amp;(e.bottom=t.endLineNumber),e}),t),t.top-=<span class=\"code-number\">1</span>,t.bottom-=<span class=\"code-number\">1</span>,t}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"findPosV\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.editor,o=t,i=n,a=k(e);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"page\"</span>===n){<span class=\"code-keyword\">var</span> s=r.getLayoutInfo().height,l=<span class=\"code-keyword\">this</span>.getConfiguration().fontInfo.lineHeight;o*=<span class=\"code-built_in\">Math</span>.floor(s/l),i=<span class=\"code-string\">\"line\"</span>}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"line\"</span>===i&amp;&amp;(a.lineNumber+=o),y(a)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"findMatchingBracket\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=k(e),n=<span class=\"code-keyword\">this</span>.editor.getModel().matchBracket(t);<span class=\"code-keyword\">return</span> n&amp;&amp;<span class=\"code-number\">2</span>===n.length?{<span class=\"code-attr\">to</span>:y(n[<span class=\"code-number\">1</span>].getStartPosition())}:{<span class=\"code-attr\">to</span>:<span class=\"code-literal\">null</span>}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"findFirstNonWhiteSpaceCharacter\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.editor.getModel().getLineFirstNonWhitespaceColumn(e+<span class=\"code-number\">1</span>)<span class=\"code-number\">-1</span>}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"scrollTo\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{(e||t)&amp;&amp;(e||(t&lt;<span class=\"code-number\">0</span>&amp;&amp;(t=<span class=\"code-keyword\">this</span>.editor.getPosition().lineNumber-t),<span class=\"code-keyword\">this</span>.editor.setScrollTop(<span class=\"code-keyword\">this</span>.editor.getTopForLineNumber(t+<span class=\"code-number\">1</span>))))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"moveCurrentLineTo\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.editor,n=t.getPosition(),o=r.Range.fromPositions(n,n);<span class=\"code-keyword\">switch</span>(e){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"top\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> t.revealRangeAtTop(o);<span class=\"code-keyword\">case</span><span class=\"code-string\">\"center\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> t.revealRangeInCenter(o);<span class=\"code-keyword\">case</span><span class=\"code-string\">\"bottom\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> t._revealRange(o,u)}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"getSearchCursor\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=!<span class=\"code-number\">1</span>,o=!<span class=\"code-number\">1</span>;e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">RegExp</span>&amp;&amp;!e.global&amp;&amp;(r=!e.ignoreCase,e=e.source,o=!<span class=\"code-number\">0</span>),<span class=\"code-literal\">null</span>==t.ch&amp;&amp;(t.ch=<span class=\"code-built_in\">Number</span>.MAX_VALUE);<span class=\"code-keyword\">var</span> i=k(t),a=<span class=\"code-keyword\">this</span>,s=<span class=\"code-keyword\">this</span>.editor,l=<span class=\"code-literal\">null</span>,c=s.getModel(),u=c.findMatches(e,!<span class=\"code-number\">1</span>,o,r)||[];<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">getMatches</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> u},<span class=\"code-attr\">findNext</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.find(!<span class=\"code-number\">1</span>)},<span class=\"code-attr\">findPrevious</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.find(!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">jumpTo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!u||!u.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> t=u[e];<span class=\"code-keyword\">return</span> l=t.range,a.highlightRanges([l],<span class=\"code-string\">\"currentFindMatch\"</span>),a.highlightRanges(u.map((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.range})).filter((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!e.equalsRange(l)}))),l},<span class=\"code-attr\">find</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!u||!u.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">var</span> s=l?l.getStartPosition():i;<span class=\"code-keyword\">if</span>(!(n=c.findPreviousMatch(e,s,o,r))||!n.range.getStartPosition().isBeforeOrEqual(s))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> h=l?c.getPositionAt(c.getOffsetAt(l.getStartPosition())+<span class=\"code-number\">1</span>):i;<span class=\"code-keyword\">if</span>(!(n=c.findNextMatch(e,h,o,r))||!h.isBeforeOrEqual(n.range.getStartPosition()))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span> l=n.range,a.highlightRanges([l],<span class=\"code-string\">\"currentFindMatch\"</span>),a.highlightRanges(u.map((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.range})).filter((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!e.equalsRange(l)}))),l},<span class=\"code-attr\">from</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> l&amp;&amp;y(l.getStartPosition())},<span class=\"code-attr\">to</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> l&amp;&amp;y(l.getEndPosition())},<span class=\"code-attr\">replace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{l&amp;&amp;(s.executeEdits(<span class=\"code-string\">\"vim\"</span>,[{<span class=\"code-attr\">range</span>:l,<span class=\"code-attr\">text</span>:e,<span class=\"code-attr\">forceMoveMarkers</span>:!<span class=\"code-number\">0</span>}]),l.setEndPosition(s.getPosition()),s.setPosition(l.getStartPosition()))}}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"highlightRanges\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">1</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]?<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]:<span class=\"code-string\">\"findMatch\"</span>,n=<span class=\"code-string\">\"decoration\"</span>.concat(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[n]=<span class=\"code-keyword\">this</span>.editor.deltaDecorations(<span class=\"code-keyword\">this</span>[n]||[],e.map((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">range</span>:e,<span class=\"code-attr\">options</span>:{<span class=\"code-attr\">stickiness</span>:r.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,<span class=\"code-attr\">zIndex</span>:<span class=\"code-number\">13</span>,<span class=\"code-attr\">className</span>:t,<span class=\"code-attr\">showIfCollapsed</span>:!<span class=\"code-number\">0</span>}}}))),<span class=\"code-keyword\">this</span>[n]}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"addOverlay\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.query,o=!<span class=\"code-number\">1</span>,i=!<span class=\"code-number\">1</span>;r&amp;&amp;r <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">RegExp</span>&amp;&amp;!r.global&amp;&amp;(i=!<span class=\"code-number\">0</span>,o=!r.ignoreCase,r=r.source);<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.editor.getModel().findNextMatch(r,<span class=\"code-keyword\">this</span>.editor.getPosition(),i,o);a&amp;&amp;a.range&amp;&amp;<span class=\"code-keyword\">this</span>.highlightRanges([a.range])}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"removeOverlay\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;[<span class=\"code-string\">\"currentFindMatch\"</span>,<span class=\"code-string\">\"findMatch\"</span>].forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e.editor.deltaDecorations(e[<span class=\"code-string\">\"decoration\"</span>.concat(t)]||[],[])}))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"scrollIntoView\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e&amp;&amp;<span class=\"code-keyword\">this</span>.editor.revealPosition(k(e))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"moveH\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"char\"</span>===t){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.editor.getPosition();<span class=\"code-keyword\">this</span>.editor.setPosition(<span class=\"code-keyword\">new</span> r.Position(n.lineNumber,n.column+e))}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"scanForBracket\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n,r,o</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=o.bracketRegex,a=k(t),s=<span class=\"code-keyword\">this</span>.editor.getModel(),l=(<span class=\"code-number\">-1</span>===n?s.findPreviousMatch:s.findNextMatch).bind(s),c=[],u=<span class=\"code-number\">0</span>;;){<span class=\"code-keyword\">if</span>(u&gt;<span class=\"code-number\">10</span>)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> h=l(i.source,a,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>,<span class=\"code-literal\">null</span>,!<span class=\"code-number\">0</span>),f=h.matches[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===h)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> p=e.matchingBrackets[f];<span class=\"code-keyword\">if</span>(p&amp;&amp;<span class=\"code-string\">\"&gt;\"</span>===p.charAt(<span class=\"code-number\">1</span>)==n&gt;<span class=\"code-number\">0</span>)c.push(f);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===c.length)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">pos</span>:y(h.range.getStartPosition())};c.pop()}a=s.getPositionAt(s.getOffsetAt(h.range.getStartPosition())+n),u+=<span class=\"code-number\">1</span>}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"indexFromPos\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.editor.getModel().getOffsetAt(k(e))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"posFromIndex\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> y(<span class=\"code-keyword\">this</span>.editor.getModel().getPositionAt(e))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"indentLine\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,n=!(<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">1</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>])||<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>],i=<span class=\"code-keyword\">this</span>.editor;t=i._getViewModel?i._getViewModel().cursorConfig:i._getCursors().context.config;<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> r.Position(e+<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>),s=r.Selection.fromPositions(a,a);i.executeCommands(<span class=\"code-string\">\"editor.action.\"</span>.concat(n?<span class=\"code-string\">\"indent\"</span>:<span class=\"code-string\">\"outdent\"</span>,<span class=\"code-string\">\"Lines\"</span>),o.TypeOperations[n?<span class=\"code-string\">\"indent\"</span>:<span class=\"code-string\">\"outdent\"</span>](t,<span class=\"code-keyword\">this</span>.editor.getModel(),[s]))}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setStatusBar\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.statusBar=e}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"openDialog\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.statusBar)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.statusBar.setSec(e,t,n)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"openNotification\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.statusBar&amp;&amp;<span class=\"code-keyword\">this</span>.statusBar.showNotification(e)}}]),e}();S.Pos=m,S.signal=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{e.dispatch(t,n)},S.on=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},S.off=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},S.addClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},S.rmClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},S.defineOption=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},S.keyMap={<span class=\"code-attr\">default</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}}},S.matchingBrackets={<span class=\"code-string\">\"(\"</span>:<span class=\"code-string\">\")&gt;\"</span>,<span class=\"code-string\">\")\"</span>:<span class=\"code-string\">\"(&lt;\"</span>,<span class=\"code-string\">\"[\"</span>:<span class=\"code-string\">\"]&gt;\"</span>,<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"[&lt;\"</span>,<span class=\"code-string\">\"{\"</span>:<span class=\"code-string\">\"}&gt;\"</span>,<span class=\"code-string\">\"}\"</span>:<span class=\"code-string\">\"{&lt;\"</span>,<span class=\"code-string\">\"&lt;\"</span>:<span class=\"code-string\">\"&gt;&gt;\"</span>,<span class=\"code-string\">\"&gt;\"</span>:<span class=\"code-string\">\"&lt;&lt;\"</span>},S.isWordChar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/\\w/</span>.test(e)||e&gt;<span class=\"code-string\">\"\u0080\"</span>&amp;&amp;(e.toUpperCase()!=e.toLowerCase()||g.test(e))},S.keyName=w,S.StringStream=v,S.e_stop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.stopPropagation?e.stopPropagation():e.cancelBubble=!<span class=\"code-number\">0</span>,S.e_preventDefault(e),!<span class=\"code-number\">1</span>},S.e_preventDefault=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.preventDefault?(e.preventDefault(),e.browserEvent&amp;&amp;e.browserEvent.preventDefault()):e.returnValue=!<span class=\"code-number\">1</span>,!<span class=\"code-number\">1</span>},S.commands={<span class=\"code-attr\">redo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.editor.getModel().redo()},<span class=\"code-attr\">undo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.editor.getModel().undo()},<span class=\"code-attr\">newlineAndIndent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.triggerEditorAction(<span class=\"code-string\">\"editor.action.insertLineAfter\"</span>)}},S.lookupKey=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,n,r</span>)</span>{<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> n&amp;&amp;(n=S.keyMap[n]);<span class=\"code-keyword\">var</span> o=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> n?n(t):n[t];<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===o)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"nothing\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"...\"</span>===o)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"multi\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!=o&amp;&amp;r(o))<span class=\"code-keyword\">return</span><span class=\"code-string\">\"handled\"</span>;<span class=\"code-keyword\">if</span>(n.fallthrough){<span class=\"code-keyword\">if</span>(!<span class=\"code-built_in\">Array</span>.isArray(n.fallthrough))<span class=\"code-keyword\">return</span> e(t,n.fallthrough,r);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;n.fallthrough.length;i++){<span class=\"code-keyword\">var</span> a=e(t,n.fallthrough[i],r);<span class=\"code-keyword\">if</span>(a)<span class=\"code-keyword\">return</span> a}}},S.defineExtension=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{S.prototype[e]=t};<span class=\"code-keyword\">var</span> M=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!(t.browserEvent.defaultPrevented&amp;t.keyCode!==r.KeyCode.Escape)&amp;&amp;e.attached){<span class=\"code-keyword\">var</span> n=w(t);<span class=\"code-keyword\">if</span>(e.replaceMode&amp;&amp;e.handleReplaceMode(n,t),n&amp;&amp;S.keyMap.vim&amp;&amp;S.keyMap.vim.call){<span class=\"code-keyword\">var</span> o=S.keyMap.vim.call(n,e);<span class=\"code-keyword\">if</span>(o){t.preventDefault(),t.stopPropagation();<span class=\"code-keyword\">try</span>{o()}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-built_in\">console</span>.error(e)}}}}},<span class=\"code-keyword\">this</span>.handleCursorChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.position,o=(t.source,e.editor),i=o.getSelection();<span class=\"code-keyword\">if</span>(!e.ctxInsert.get()&amp;&amp;<span class=\"code-string\">\"mouse\"</span>===t.source&amp;&amp;i.isEmpty()){<span class=\"code-keyword\">var</span> a=o.getModel().getLineMaxColumn(n.lineNumber);<span class=\"code-keyword\">if</span>(t.position.column===a)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> o.setPosition(<span class=\"code-keyword\">new</span> r.Position(t.position.lineNumber,a<span class=\"code-number\">-1</span>))}e.dispatch(<span class=\"code-string\">\"cursorActivity\"</span>,e,t)},<span class=\"code-keyword\">this</span>.handleChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">text</span>:t.changes.reduce((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.push(t.text),e}),[]),<span class=\"code-attr\">origin</span>:<span class=\"code-string\">\"+input\"</span>},r=e.curOp=e.curOp||{};r.changeHandlers||(r.changeHandlers=e.listeners.change&amp;&amp;e.listeners.change.slice()),e.virtualSelectionMode()||(r.lastChange?r.lastChange.next=r.lastChange=n:r.lastChange=r.change=n,e.dispatch(<span class=\"code-string\">\"change\"</span>,e,n))}},x=S;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">b</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(b=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;<span class=\"code-string\">\"symbol\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>.iterator?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">typeof</span> e}:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;e.constructor===<span class=\"code-built_in\">Symbol</span>&amp;&amp;e!==<span class=\"code-built_in\">Symbol</span>.prototype?<span class=\"code-string\">\"symbol\"</span>:<span class=\"code-keyword\">typeof</span> e})(e)}<span class=\"code-keyword\">var</span> A=[{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;Left&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"h\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;Right&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"l\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;Up&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"k\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;Down&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"j\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;Space&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"l\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;BS&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"h\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-Space&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"W\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-BS&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"B\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;S-Space&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"w\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;S-BS&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"b\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-n&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"j\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-p&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"k\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-[&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"&lt;Esc&gt;\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-c&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"&lt;Esc&gt;\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-[&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"&lt;Esc&gt;\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"insert\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-c&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"&lt;Esc&gt;\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"insert\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"s\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"cl\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"s\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"c\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"S\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"cc\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"S\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"VdO\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;Home&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"0\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;End&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"$\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;PageUp&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"&lt;C-b&gt;\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;PageDown&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"&lt;C-f&gt;\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;CR&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"j^\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;CR&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:<span class=\"code-string\">\"j^\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;Ins&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"toggleOverwrite\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"insert\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"H\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToTopLine\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"M\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToMiddleLine\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"L\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToBottomLine\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"h\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByCharacters\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"l\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByCharacters\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"j\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByLines\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"k\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByLines\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"gj\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByDisplayLines\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"gk\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByDisplayLines\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"w\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"W\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">bigWord</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"e\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"E\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">bigWord</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"b\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"B\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">bigWord</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"ge\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"gE\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">bigWord</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"{\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByParagraph\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"}\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByParagraph\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"(\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveBySentence\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\")\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveBySentence\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-f&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByPage\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-b&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByPage\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-d&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByScroll\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">explicitRepeat</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-u&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByScroll\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">explicitRepeat</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"gg\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToLineOrEdgeOfDocument\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">explicitRepeat</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"G\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToLineOrEdgeOfDocument\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">explicitRepeat</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"0\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToStartOfLine\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"^\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToFirstNonWhiteSpaceCharacter\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"+\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByLines\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toFirstChar</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"-\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByLines\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toFirstChar</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"_\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByLines\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toFirstChar</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">repeatOffset</span>:<span class=\"code-number\">-1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"$\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToEol\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"%\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToMatchedSymbol\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"f&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToCharacter\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"F&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToCharacter\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"t&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveTillCharacter\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"T&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveTillCharacter\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\";\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"repeatLastCharacterSearch\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\",\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"repeatLastCharacterSearch\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"'&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"goToMark\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"`&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"goToMark\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"]`\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"jumpToMark\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"[`\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"jumpToMark\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"]'\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"jumpToMark\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"['\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"jumpToMark\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"]p\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"paste\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">after</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">matchIndent</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"[p\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"paste\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">after</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">matchIndent</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"]&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToSymbol\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"[&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToSymbol\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"|\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToColumn\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"o\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToOtherHighlightedEnd\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"O\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToOtherHighlightedEnd\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">sameLine</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"d\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"delete\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"y\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"yank\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"c\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"change\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"indent\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">indentRight</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"indent\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">indentRight</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"g~\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"changeCase\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"gu\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"changeCase\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">toLower</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"gU\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"changeCase\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">toLower</span>:!<span class=\"code-number\">1</span>},<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"n\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"findNext\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"N\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"findNext\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"x\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operatorMotion\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"delete\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByCharacters\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">operatorMotionArgs</span>:{<span class=\"code-attr\">visualLine</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"X\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operatorMotion\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"delete\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByCharacters\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>},<span class=\"code-attr\">operatorMotionArgs</span>:{<span class=\"code-attr\">visualLine</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"D\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operatorMotion\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"delete\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToEol\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"D\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"delete\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"Y\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operatorMotion\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"yank\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"expandToLine\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"Y\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"yank\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"C\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operatorMotion\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"change\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToEol\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">inclusive</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"C\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"change\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"~\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operatorMotion\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"changeCase\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByCharacters\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">shouldMoveCursor</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"~\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"changeCase\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-w&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operatorMotion\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"delete\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveByWords\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">wordEnd</span>:!<span class=\"code-number\">1</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"insert\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-i&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"jumpListWalk\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-o&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"jumpListWalk\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-e&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scroll\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-y&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scroll\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"a\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">insertAt</span>:<span class=\"code-string\">\"charAfter\"</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"A\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">insertAt</span>:<span class=\"code-string\">\"eol\"</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"A\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">insertAt</span>:<span class=\"code-string\">\"endOfSelectedArea\"</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"i\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">insertAt</span>:<span class=\"code-string\">\"inplace\"</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"I\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">insertAt</span>:<span class=\"code-string\">\"firstNonBlank\"</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"I\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">insertAt</span>:<span class=\"code-string\">\"startOfSelectedArea\"</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"o\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"newLineAndEnterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">interlaceInsertRepeat</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">after</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"O\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"newLineAndEnterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">interlaceInsertRepeat</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">after</span>:!<span class=\"code-number\">1</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"v\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"toggleVisualMode\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"V\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"toggleVisualMode\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-v&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"toggleVisualMode\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">blockwise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-q&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"toggleVisualMode\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">blockwise</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"gv\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"reselectLastSelection\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"J\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"joinLines\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"p\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"paste\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">after</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"P\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"paste\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">after</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"r&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"replace\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"@&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"replayMacro\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"q&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterMacroRecordMode\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"R\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"enterInsertMode\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">replace</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"u\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"undo\"</span>,<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"normal\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"u\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"changeCase\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">toLower</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"U\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"operator\"</span>,<span class=\"code-attr\">operator</span>:<span class=\"code-string\">\"changeCase\"</span>,<span class=\"code-attr\">operatorArgs</span>:{<span class=\"code-attr\">toLower</span>:!<span class=\"code-number\">1</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"visual\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-r&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"redo\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"m&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"setMark\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">'\"&lt;character&gt;'</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"setRegister\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"zz\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scrollToCursor\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"center\"</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"z.\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scrollToCursor\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"center\"</span>},<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToFirstNonWhiteSpaceCharacter\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"zt\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scrollToCursor\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"top\"</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"z&lt;CR&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scrollToCursor\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"top\"</span>},<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToFirstNonWhiteSpaceCharacter\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"z-\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scrollToCursor\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"bottom\"</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"zb\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"scrollToCursor\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"bottom\"</span>},<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToFirstNonWhiteSpaceCharacter\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\".\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"repeatLastEdit\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-a&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"incrementNumberToken\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">increase</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">backtrack</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-x&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"incrementNumberToken\"</span>,<span class=\"code-attr\">isEdit</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">increase</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">backtrack</span>:!<span class=\"code-number\">1</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-t&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"indent\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">indentRight</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"insert\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"&lt;C-d&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"action\"</span>,<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"indent\"</span>,<span class=\"code-attr\">actionArgs</span>:{<span class=\"code-attr\">indentRight</span>:!<span class=\"code-number\">1</span>},<span class=\"code-attr\">context</span>:<span class=\"code-string\">\"insert\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"a&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"textObjectManipulation\"</span>},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"i&lt;character&gt;\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"textObjectManipulation\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">textObjectInner</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"/\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"search\"</span>,<span class=\"code-attr\">searchArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">querySrc</span>:<span class=\"code-string\">\"prompt\"</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"?\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"search\"</span>,<span class=\"code-attr\">searchArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">querySrc</span>:<span class=\"code-string\">\"prompt\"</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"*\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"search\"</span>,<span class=\"code-attr\">searchArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">querySrc</span>:<span class=\"code-string\">\"wordUnderCursor\"</span>,<span class=\"code-attr\">wholeWordOnly</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"#\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"search\"</span>,<span class=\"code-attr\">searchArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">querySrc</span>:<span class=\"code-string\">\"wordUnderCursor\"</span>,<span class=\"code-attr\">wholeWordOnly</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"g*\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"search\"</span>,<span class=\"code-attr\">searchArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">querySrc</span>:<span class=\"code-string\">\"wordUnderCursor\"</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\"g#\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"search\"</span>,<span class=\"code-attr\">searchArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">querySrc</span>:<span class=\"code-string\">\"wordUnderCursor\"</span>,<span class=\"code-attr\">toJumplist</span>:!<span class=\"code-number\">0</span>}},{<span class=\"code-attr\">keys</span>:<span class=\"code-string\">\":\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"ex\"</span>}],L=[{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"colorscheme\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"colo\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"map\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"imap\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"im\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"nmap\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"nm\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vmap\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"vm\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"unmap\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"write\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"w\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"undo\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"u\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"redo\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"red\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"set\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"se\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"set\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"se\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"setlocal\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"setl\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"setglobal\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"setg\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"sort\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"sor\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"substitute\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"s\"</span>,<span class=\"code-attr\">possiblyAsync</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"nohlsearch\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"noh\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"yank\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"y\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"delmarks\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"delm\"</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"registers\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"reg\"</span>,<span class=\"code-attr\">excludeFromCommandHistory</span>:!<span class=\"code-number\">0</span>},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"global\"</span>,<span class=\"code-attr\">shortName</span>:<span class=\"code-string\">\"g\"</span>}],E=x.Pos;x.Vim=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,n</span>)</span>{e.attached=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>==x.keyMap.vim&amp;&amp;x.rmClass(e.getWrapperElement(),<span class=\"code-string\">\"cm-fat-cursor\"</span>),n&amp;&amp;n.attach==t||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.setOption(<span class=\"code-string\">\"disableInput\"</span>,!<span class=\"code-number\">1</span>),e.off(<span class=\"code-string\">\"cursorActivity\"</span>,$e),e.state.vim=<span class=\"code-literal\">null</span>,e.leaveVimMode()}(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">this</span>==x.keyMap.vim&amp;&amp;(e.attached=!<span class=\"code-number\">0</span>),n&amp;&amp;n.attach==t||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.setOption(<span class=\"code-string\">\"disableInput\"</span>,!<span class=\"code-number\">0</span>),e.setOption(<span class=\"code-string\">\"showCursorWhenSelecting\"</span>,!<span class=\"code-number\">1</span>),x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"normal\"</span>}),e.on(<span class=\"code-string\">\"cursorActivity\"</span>,$e),B(e),e.enterVimMode()}(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>[e])<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[e];<span class=\"code-keyword\">var</span> n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"'\"</span>==e.charAt(<span class=\"code-number\">0</span>))<span class=\"code-keyword\">return</span> e.charAt(<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"AltGraph\"</span>==e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> t=e.split(<span class=\"code-regexp\">/-(?!$)/</span>),n=t[t.length<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>==t.length&amp;&amp;<span class=\"code-number\">1</span>==t[<span class=\"code-number\">0</span>].length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">2</span>==t.length&amp;&amp;<span class=\"code-string\">\"Shift\"</span>==t[<span class=\"code-number\">0</span>]&amp;&amp;<span class=\"code-number\">1</span>==n.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=!<span class=\"code-number\">1</span>,a=<span class=\"code-number\">0</span>;a&lt;t.length;a++){<span class=\"code-keyword\">var</span> s=t[a];s <span class=\"code-keyword\">in</span> r?t[a]=r[s]:i=!<span class=\"code-number\">0</span>,s <span class=\"code-keyword\">in</span> o&amp;&amp;(t[a]=o[s])}<span class=\"code-keyword\">if</span>(!i)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;m(n)&amp;&amp;(t[t.length<span class=\"code-number\">-1</span>]=n.toLowerCase());<span class=\"code-keyword\">return</span><span class=\"code-string\">\"&lt;\"</span>+t.join(<span class=\"code-string\">\"-\"</span>)+<span class=\"code-string\">\"&gt;\"</span>}(e);<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> i=x.Vim.findKey(t,n);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> i&amp;&amp;x.signal(t,<span class=\"code-string\">\"vim-keypress\"</span>,n),i}}x.defineOption(<span class=\"code-string\">\"vimMode\"</span>,!<span class=\"code-number\">1</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{t&amp;&amp;<span class=\"code-string\">\"vim\"</span>!=e.getOption(<span class=\"code-string\">\"keyMap\"</span>)?e.setOption(<span class=\"code-string\">\"keyMap\"</span>,<span class=\"code-string\">\"vim\"</span>):!t&amp;&amp;n!=x.Init&amp;&amp;<span class=\"code-regexp\">/^vim/</span>.test(e.getOption(<span class=\"code-string\">\"keyMap\"</span>))&amp;&amp;e.setOption(<span class=\"code-string\">\"keyMap\"</span>,<span class=\"code-string\">\"default\"</span>)}));<span class=\"code-keyword\">var</span> r={<span class=\"code-attr\">Shift</span>:<span class=\"code-string\">\"S\"</span>,<span class=\"code-attr\">Ctrl</span>:<span class=\"code-string\">\"C\"</span>,<span class=\"code-attr\">Alt</span>:<span class=\"code-string\">\"A\"</span>,<span class=\"code-attr\">Cmd</span>:<span class=\"code-string\">\"D\"</span>,<span class=\"code-attr\">Mod</span>:<span class=\"code-string\">\"A\"</span>},o={<span class=\"code-attr\">Enter</span>:<span class=\"code-string\">\"CR\"</span>,<span class=\"code-attr\">Backspace</span>:<span class=\"code-string\">\"BS\"</span>,<span class=\"code-attr\">Delete</span>:<span class=\"code-string\">\"Del\"</span>,<span class=\"code-attr\">Insert</span>:<span class=\"code-string\">\"Ins\"</span>};<span class=\"code-keyword\">var</span> i=<span class=\"code-regexp\">/[\\d]/</span>,a=[x.isWordChar,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;!x.isWordChar(e)&amp;&amp;!<span class=\"code-regexp\">/\\s/</span>.test(e)}],s=[<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/\\S/</span>.test(e)}];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],r=e;r&lt;e+t;r++)n.push(<span class=\"code-built_in\">String</span>.fromCharCode(r));<span class=\"code-keyword\">return</span> n}<span class=\"code-keyword\">var</span> c=l(<span class=\"code-number\">65</span>,<span class=\"code-number\">26</span>),u=l(<span class=\"code-number\">97</span>,<span class=\"code-number\">26</span>),h=l(<span class=\"code-number\">48</span>,<span class=\"code-number\">10</span>),f=[].concat(c,u,h,[<span class=\"code-string\">\"&lt;\"</span>,<span class=\"code-string\">\"&gt;\"</span>]),p=[].concat(c,u,h,[<span class=\"code-string\">\"-\"</span>,<span class=\"code-string\">'\"'</span>,<span class=\"code-string\">\".\"</span>,<span class=\"code-string\">\":\"</span>,<span class=\"code-string\">\"/\"</span>]);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">d</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t&gt;=e.firstLine()&amp;&amp;t&lt;=e.lastLine()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">g</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/^[a-z]$/</span>.test(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">m</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/^[A-Z]$/</span>.test(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">v</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/^\\s*$/</span>.test(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">y</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!=<span class=\"code-string\">\".?!\"</span>.indexOf(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">k</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.length;n++)<span class=\"code-keyword\">if</span>(t[n]==e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">var</span> C={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;!o)<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"defaultValue is required unless callback is provided\"</span>);<span class=\"code-keyword\">if</span>(n||(n=<span class=\"code-string\">\"string\"</span>),C[e]={<span class=\"code-attr\">type</span>:n,<span class=\"code-attr\">defaultValue</span>:t,<span class=\"code-attr\">callback</span>:o},r)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;r.length;i++)C[r[i]]=C[e];t&amp;&amp;S(e,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">S</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=C[e],i=(r=r||{}).scope;<span class=\"code-keyword\">if</span>(!o)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unknown option: \"</span>+e);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"boolean\"</span>==o.type){<span class=\"code-keyword\">if</span>(t&amp;&amp;!<span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid argument: \"</span>+e+<span class=\"code-string\">\"=\"</span>+t);!<span class=\"code-number\">1</span>!==t&amp;&amp;(t=!<span class=\"code-number\">0</span>)}o.callback?(<span class=\"code-string\">\"local\"</span>!==i&amp;&amp;o.callback(t,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>),<span class=\"code-string\">\"global\"</span>!==i&amp;&amp;n&amp;&amp;o.callback(t,n)):(<span class=\"code-string\">\"local\"</span>!==i&amp;&amp;(o.value=<span class=\"code-string\">\"boolean\"</span>==o.type?!!t:t),<span class=\"code-string\">\"global\"</span>!==i&amp;&amp;n&amp;&amp;(n.state.vim.options[e]={<span class=\"code-attr\">value</span>:t}))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">M</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=C[e],o=(n=n||{}).scope;<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unknown option: \"</span>+e);<span class=\"code-keyword\">if</span>(r.callback){<span class=\"code-keyword\">var</span> i=t&amp;&amp;r.callback(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,t);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"global\"</span>!==o&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i?i:<span class=\"code-string\">\"local\"</span>!==o?r.callback():<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>((i=<span class=\"code-string\">\"global\"</span>!==o&amp;&amp;t&amp;&amp;t.state.vim.options[e])||<span class=\"code-string\">\"local\"</span>!==o&amp;&amp;r||{}).value}w(<span class=\"code-string\">\"filetype\"</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-string\">\"string\"</span>,[<span class=\"code-string\">\"ft\"</span>],(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"null\"</span>==(n=t.getOption(<span class=\"code-string\">\"mode\"</span>))?<span class=\"code-string\">\"\"</span>:n;<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"\"</span>==e?<span class=\"code-string\">\"null\"</span>:e;t.setOption(<span class=\"code-string\">\"mode\"</span>,n)}}));<span class=\"code-keyword\">var</span> T,R,O=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e?{<span class=\"code-attr\">changes</span>:e.changes,<span class=\"code-attr\">expectCursorActivityForChange</span>:e.expectCursorActivityForChange}:{<span class=\"code-attr\">changes</span>:[],<span class=\"code-attr\">expectCursorActivityForChange</span>:!<span class=\"code-number\">1</span>}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">I</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.latestRegister=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.isPlaying=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.isRecording=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.replaySearchQueries=[],<span class=\"code-keyword\">this</span>.onRecordingDone=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.lastInsertModeChanges=O()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">B</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.state.vim||(e.state.vim={<span class=\"code-attr\">inputState</span>:<span class=\"code-keyword\">new</span> K,<span class=\"code-attr\">lastEditInputState</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">lastEditActionCommand</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">lastHPos</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">lastHSPos</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">lastMotion</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">marks</span>:{},<span class=\"code-attr\">fakeCursor</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">insertMode</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">insertModeRepeat</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">visualMode</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">visualLine</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">visualBlock</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">lastSelection</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">lastPastedText</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">sel</span>:{},<span class=\"code-attr\">options</span>:{}}),e.state.vim}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">P</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,n,r;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> T={<span class=\"code-attr\">searchQuery</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">searchIsReversed</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">lastSubstituteReplacePart</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">jumpList</span>:(e=<span class=\"code-number\">-1</span>,t=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(<span class=\"code-number\">100</span>),{<span class=\"code-attr\">cachedCursor</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">add</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">o,i,a</span>)</span>{<span class=\"code-keyword\">var</span> s=r[e%<span class=\"code-number\">100</span>];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=++e%<span class=\"code-number\">100</span>,i=r[n];i&amp;&amp;i.clear(),r[n]=o.setBookmark(t)}<span class=\"code-keyword\">if</span>(s){<span class=\"code-keyword\">var</span> c=s.find();c&amp;&amp;!Y(c,i)&amp;&amp;l(i)}<span class=\"code-keyword\">else</span> l(i);l(a),t=e,(n=e<span class=\"code-number\">-100</span>+<span class=\"code-number\">1</span>)&lt;<span class=\"code-number\">0</span>&amp;&amp;(n=<span class=\"code-number\">0</span>)},<span class=\"code-attr\">move</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">o,i</span>)</span>{(e+=i)&gt;t?e=t:e&lt;n&amp;&amp;(e=n);<span class=\"code-keyword\">var</span> a=r[(<span class=\"code-number\">100</span>+e)%<span class=\"code-number\">100</span>];<span class=\"code-keyword\">if</span>(a&amp;&amp;!a.find()){<span class=\"code-keyword\">var</span> s,l=i&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>,c=o.getCursor();<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">if</span>((a=r[(<span class=\"code-number\">100</span>+(e+=l))%<span class=\"code-number\">100</span>])&amp;&amp;(s=a.find())&amp;&amp;!Y(c,s))<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">while</span>(e&lt;t&amp;&amp;e&gt;n)}<span class=\"code-keyword\">return</span> a}}),<span class=\"code-attr\">macroModeState</span>:<span class=\"code-keyword\">new</span> I,<span class=\"code-attr\">lastCharacterSearch</span>:{<span class=\"code-attr\">increment</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">selectedCharacter</span>:<span class=\"code-string\">\"\"</span>},<span class=\"code-attr\">registerController</span>:<span class=\"code-keyword\">new</span> D({}),<span class=\"code-attr\">searchHistoryController</span>:<span class=\"code-keyword\">new</span> _,<span class=\"code-attr\">exCommandHistoryController</span>:<span class=\"code-keyword\">new</span> _},C){<span class=\"code-keyword\">var</span> i=C[o];i.value=i.defaultValue}}I.prototype={<span class=\"code-attr\">exitMacroRecordMode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=T.macroModeState;e.onRecordingDone&amp;&amp;e.onRecordingDone(),e.onRecordingDone=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e.isRecording=!<span class=\"code-number\">1</span>},<span class=\"code-attr\">enterMacroRecordMode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=T.registerController.getRegister(t);n&amp;&amp;(n.clear(),<span class=\"code-keyword\">this</span>.latestRegister=t,e.openDialog&amp;&amp;(<span class=\"code-keyword\">this</span>.onRecordingDone=e.openDialog(<span class=\"code-string\">\"(recording)[\"</span>+t+<span class=\"code-string\">\"]\"</span>,<span class=\"code-literal\">null</span>,{<span class=\"code-attr\">bottom</span>:!<span class=\"code-number\">0</span>})),<span class=\"code-keyword\">this</span>.isRecording=!<span class=\"code-number\">0</span>)}};<span class=\"code-keyword\">var</span> N={<span class=\"code-attr\">buildKeyMap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">getRegisterController</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> T.registerController},<span class=\"code-attr\">resetVimGlobalState_</span>:P,<span class=\"code-attr\">getVimGlobalState_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> T},<span class=\"code-attr\">maybeInitVimState_</span>:B,<span class=\"code-attr\">suppressErrorLogging</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">InsertModeKey</span>:Qe,<span class=\"code-attr\">map</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{je.map(e,t,n)},<span class=\"code-attr\">unmap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{je.unmap(e,t)},<span class=\"code-attr\">noremap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e?[e]:[<span class=\"code-string\">\"normal\"</span>,<span class=\"code-string\">\"insert\"</span>,<span class=\"code-string\">\"visual\"</span>]}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=r(n),i=A.length,a=i-defaultKeymapLength;a&lt;i&amp;&amp;o.length;a++){<span class=\"code-keyword\">var</span> s=A[a];<span class=\"code-keyword\">if</span>(!(s.keys!=t||n&amp;&amp;s.context&amp;&amp;s.context!==n||<span class=\"code-string\">\"ex\"</span>===s.type.substr(<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>)||<span class=\"code-string\">\"key\"</span>===s.type.substr(<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>))){<span class=\"code-keyword\">var</span> l={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c <span class=\"code-keyword\">in</span> s)l[c]=s[c];l.keys=e,n&amp;&amp;!l.context&amp;&amp;(l.context=n),<span class=\"code-keyword\">this</span>._mapCommand(l);<span class=\"code-keyword\">var</span> u=r(s.context);o=o.filter((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===u.indexOf(e)}))}}},<span class=\"code-attr\">setOption</span>:S,<span class=\"code-attr\">getOption</span>:M,<span class=\"code-attr\">defineOption</span>:w,<span class=\"code-attr\">defineEx</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==e.indexOf(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'(Vim.defineEx) \"'</span>+t+<span class=\"code-string\">'\" is not a prefix of \"'</span>+e+<span class=\"code-string\">'\", command not registered'</span>)}<span class=\"code-keyword\">else</span> t=e;_e[e]=n,je.commandMap_[t]={<span class=\"code-attr\">name</span>:e,<span class=\"code-attr\">shortName</span>:t,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"api\"</span>}},<span class=\"code-attr\">handleKey</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.findKey(e,t,n);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> r)<span class=\"code-keyword\">return</span> r()},<span class=\"code-attr\">findKey</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r,o=B(e);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> r=T.macroModeState;<span class=\"code-keyword\">if</span>(r.isRecording){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"q\"</span>==t)<span class=\"code-keyword\">return</span> r.exitMacroRecordMode(),V(e),!<span class=\"code-number\">0</span>;<span class=\"code-string\">\"mapping\"</span>!=n&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e.isPlaying)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> n=e.latestRegister,r=T.registerController.getRegister(n);r&amp;&amp;r.pushText(t)}(r,t)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"&lt;Esc&gt;\"</span>==t)<span class=\"code-keyword\">return</span> V(e),o.visualMode?he(e):o.insertMode&amp;&amp;Fe(e),!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>===(r=o.insertMode?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(a())<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=o.inputState.keyBuffer=o.inputState.keyBuffer+t,r=<span class=\"code-number\">1</span>==t.length,i=j.matchCommand(n,A,o.inputState,<span class=\"code-string\">\"insert\"</span>);n.length&gt;<span class=\"code-number\">1</span>&amp;&amp;<span class=\"code-string\">\"full\"</span>!=i.type;){n=o.inputState.keyBuffer=n.slice(<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> s=j.matchCommand(n,A,o.inputState,<span class=\"code-string\">\"insert\"</span>);<span class=\"code-string\">\"none\"</span>!=s.type&amp;&amp;(i=s)}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"none\"</span>==i.type)<span class=\"code-keyword\">return</span> V(e),!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"partial\"</span>==i.type)<span class=\"code-keyword\">return</span> R&amp;&amp;<span class=\"code-built_in\">window</span>.clearTimeout(R),R=<span class=\"code-built_in\">window</span>.setTimeout((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{o.insertMode&amp;&amp;o.inputState.keyBuffer&amp;&amp;V(e)}),M(<span class=\"code-string\">\"insertModeEscKeysTimeout\"</span>)),!r;<span class=\"code-keyword\">if</span>(R&amp;&amp;<span class=\"code-built_in\">window</span>.clearTimeout(R),r){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=e.listSelections(),c=<span class=\"code-number\">0</span>;c&lt;l.length;c++){<span class=\"code-keyword\">var</span> u=l[c].head;e.replaceRange(<span class=\"code-string\">\"\"</span>,Q(u,<span class=\"code-number\">0</span>,-(n.length<span class=\"code-number\">-1</span>)),u,<span class=\"code-string\">\"+input\"</span>)}T.macroModeState.lastInsertModeChanges.changes.pop()}<span class=\"code-keyword\">return</span> V(e),i.command}():<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(i()||a())<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> n=o.inputState.keyBuffer=o.inputState.keyBuffer+t;<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/^[1-9]\\d*$/</span>.test(n))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(!(r=<span class=\"code-regexp\">/^(\\d*)(.*)$/</span>.exec(n)))<span class=\"code-keyword\">return</span> V(e),!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> r,s=o.visualMode?<span class=\"code-string\">\"visual\"</span>:<span class=\"code-string\">\"normal\"</span>,l=j.matchCommand(r[<span class=\"code-number\">2</span>]||r[<span class=\"code-number\">1</span>],A,o.inputState,s);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"none\"</span>==l.type?(V(e),!<span class=\"code-number\">1</span>):<span class=\"code-string\">\"partial\"</span>==l.type||(o.inputState.keyBuffer=<span class=\"code-string\">\"\"</span>,(r=<span class=\"code-regexp\">/^(\\d*)(.*)$/</span>.exec(n))[<span class=\"code-number\">1</span>]&amp;&amp;<span class=\"code-string\">\"0\"</span>!=r[<span class=\"code-number\">1</span>]&amp;&amp;o.inputState.pushRepeatDigit(r[<span class=\"code-number\">1</span>]),l.command)}())?o.insertMode||<span class=\"code-number\">1</span>!==t.length?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}:!<span class=\"code-number\">0</span>===r?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.operation((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.curOp.isVimOp=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-string\">\"keyToKey\"</span>==r.type?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r;n;)r=<span class=\"code-regexp\">/&lt;\\w+-.+?&gt;|&lt;\\w+&gt;|./</span>.exec(n),t=r[<span class=\"code-number\">0</span>],n=n.substring(r.index+t.length),x.Vim.handleKey(e,t,<span class=\"code-string\">\"mapping\"</span>)}(r.toKeys):j.processCommand(e,o,r)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">throw</span> e.state.vim=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,B(e),x.Vim.suppressErrorLogging||<span class=\"code-built_in\">console</span>.log(t),t}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}))}},<span class=\"code-attr\">handleEx</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{je.processCommand(e,t)},<span class=\"code-attr\">defineMotion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{F[e]=t},<span class=\"code-attr\">defineAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{q[e]=t},<span class=\"code-attr\">defineOperator</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{U[e]=t},<span class=\"code-attr\">mapCommand</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{<span class=\"code-keyword\">var</span> i={<span class=\"code-attr\">keys</span>:e,<span class=\"code-attr\">type</span>:t};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> i[t]=n,i[t+<span class=\"code-string\">\"Args\"</span>]=r,o)i[a]=o[a];He(i)},<span class=\"code-attr\">_mapCommand</span>:He,<span class=\"code-attr\">defineRegister</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=T.registerController.registers;<span class=\"code-keyword\">if</span>(!e||<span class=\"code-number\">1</span>!=e.length)<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Register name must be 1 character\"</span>);<span class=\"code-keyword\">if</span>(n[e])<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Register already defined \"</span>+e);n[e]=t,p.push(e)},<span class=\"code-attr\">exitVisualMode</span>:he,<span class=\"code-attr\">exitInsertMode</span>:Fe};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">K</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.prefixRepeat=[],<span class=\"code-keyword\">this</span>.motionRepeat=[],<span class=\"code-keyword\">this</span>.operator=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.operatorArgs=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.motion=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.motionArgs=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.keyBuffer=[],<span class=\"code-keyword\">this</span>.registerName=<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">V</span>(<span class=\"code-params\">e,t</span>)</span>{e.state.vim.inputState=<span class=\"code-keyword\">new</span> K,x.signal(e,<span class=\"code-string\">\"vim-command-done\"</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">W</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">this</span>.clear(),<span class=\"code-keyword\">this</span>.keyBuffer=[e||<span class=\"code-string\">\"\"</span>],<span class=\"code-keyword\">this</span>.insertModeChanges=[],<span class=\"code-keyword\">this</span>.searchQueries=[],<span class=\"code-keyword\">this</span>.linewise=!!t,<span class=\"code-keyword\">this</span>.blockwise=!!n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">D</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.registers=e,<span class=\"code-keyword\">this</span>.unnamedRegister=e[<span class=\"code-string\">'\"'</span>]=<span class=\"code-keyword\">new</span> W,e[<span class=\"code-string\">\".\"</span>]=<span class=\"code-keyword\">new</span> W,e[<span class=\"code-string\">\":\"</span>]=<span class=\"code-keyword\">new</span> W,e[<span class=\"code-string\">\"/\"</span>]=<span class=\"code-keyword\">new</span> W}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.historyBuffer=[],<span class=\"code-keyword\">this</span>.iterator=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.initialPrefix=<span class=\"code-literal\">null</span>}K.prototype.pushRepeatDigit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.operator?<span class=\"code-keyword\">this</span>.motionRepeat=<span class=\"code-keyword\">this</span>.motionRepeat.concat(e):<span class=\"code-keyword\">this</span>.prefixRepeat=<span class=\"code-keyword\">this</span>.prefixRepeat.concat(e)},K.prototype.getRepeat=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>(<span class=\"code-keyword\">this</span>.prefixRepeat.length&gt;<span class=\"code-number\">0</span>||<span class=\"code-keyword\">this</span>.motionRepeat.length&gt;<span class=\"code-number\">0</span>)&amp;&amp;(e=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.prefixRepeat.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(e*=<span class=\"code-built_in\">parseInt</span>(<span class=\"code-keyword\">this</span>.prefixRepeat.join(<span class=\"code-string\">\"\"</span>),<span class=\"code-number\">10</span>)),<span class=\"code-keyword\">this</span>.motionRepeat.length&gt;<span class=\"code-number\">0</span>&amp;&amp;(e*=<span class=\"code-built_in\">parseInt</span>(<span class=\"code-keyword\">this</span>.motionRepeat.join(<span class=\"code-string\">\"\"</span>),<span class=\"code-number\">10</span>))),e},W.prototype={<span class=\"code-attr\">setText</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">this</span>.keyBuffer=[e||<span class=\"code-string\">\"\"</span>],<span class=\"code-keyword\">this</span>.linewise=!!t,<span class=\"code-keyword\">this</span>.blockwise=!!n},<span class=\"code-attr\">pushText</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t&amp;&amp;(<span class=\"code-keyword\">this</span>.linewise||<span class=\"code-keyword\">this</span>.keyBuffer.push(<span class=\"code-string\">\"\\n\"</span>),<span class=\"code-keyword\">this</span>.linewise=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.keyBuffer.push(e)},<span class=\"code-attr\">pushInsertModeChanges</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.insertModeChanges.push(O(e))},<span class=\"code-attr\">pushSearchQuery</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.searchQueries.push(e)},<span class=\"code-attr\">clear</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.keyBuffer=[],<span class=\"code-keyword\">this</span>.insertModeChanges=[],<span class=\"code-keyword\">this</span>.searchQueries=[],<span class=\"code-keyword\">this</span>.linewise=!<span class=\"code-number\">1</span>},<span class=\"code-attr\">toString</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.keyBuffer.join(<span class=\"code-string\">\"\"</span>)}},D.prototype={<span class=\"code-attr\">pushText</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{r&amp;&amp;<span class=\"code-string\">\"\\n\"</span>!==n.charAt(n.length<span class=\"code-number\">-1</span>)&amp;&amp;(n+=<span class=\"code-string\">\"\\n\"</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.isValidRegister(e)?<span class=\"code-keyword\">this</span>.getRegister(e):<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(i){m(e)?i.pushText(n,r):i.setText(n,r,o),<span class=\"code-keyword\">this</span>.unnamedRegister.setText(i.toString(),r)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"yank\"</span>:<span class=\"code-keyword\">this</span>.registers[<span class=\"code-number\">0</span>]=<span class=\"code-keyword\">new</span> W(n,r,o);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"delete\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"change\"</span>:<span class=\"code-number\">-1</span>==n.indexOf(<span class=\"code-string\">\"\\n\"</span>)?<span class=\"code-keyword\">this</span>.registers[<span class=\"code-string\">\"-\"</span>]=<span class=\"code-keyword\">new</span> W(n,r):(<span class=\"code-keyword\">this</span>.shiftNumericRegisters_(),<span class=\"code-keyword\">this</span>.registers[<span class=\"code-number\">1</span>]=<span class=\"code-keyword\">new</span> W(n,r))}<span class=\"code-keyword\">this</span>.unnamedRegister.setText(n,r,o)}},<span class=\"code-attr\">getRegister</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isValidRegister(e)?(e=e.toLowerCase(),<span class=\"code-keyword\">this</span>.registers[e]||(<span class=\"code-keyword\">this</span>.registers[e]=<span class=\"code-keyword\">new</span> W),<span class=\"code-keyword\">this</span>.registers[e]):<span class=\"code-keyword\">this</span>.unnamedRegister},<span class=\"code-attr\">isValidRegister</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;k(e,p)},<span class=\"code-attr\">shiftNumericRegisters_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">9</span>;e&gt;=<span class=\"code-number\">2</span>;e--)<span class=\"code-keyword\">this</span>.registers[e]=<span class=\"code-keyword\">this</span>.getRegister(<span class=\"code-string\">\"\"</span>+(e<span class=\"code-number\">-1</span>))}},_.prototype={<span class=\"code-attr\">nextMatch</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.historyBuffer,r=t?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>;<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.initialPrefix&amp;&amp;(<span class=\"code-keyword\">this</span>.initialPrefix=e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>.iterator+r;t?o&gt;=<span class=\"code-number\">0</span>:o&lt;n.length;o+=r)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=n[o],a=<span class=\"code-number\">0</span>;a&lt;=i.length;a++)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.initialPrefix==i.substring(<span class=\"code-number\">0</span>,a))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.iterator=o,i;<span class=\"code-keyword\">return</span> o&gt;=n.length?(<span class=\"code-keyword\">this</span>.iterator=n.length,<span class=\"code-keyword\">this</span>.initialPrefix):o&lt;<span class=\"code-number\">0</span>?e:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},<span class=\"code-attr\">pushInput</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.historyBuffer.indexOf(e);t&gt;<span class=\"code-number\">-1</span>&amp;&amp;<span class=\"code-keyword\">this</span>.historyBuffer.splice(t,<span class=\"code-number\">1</span>),e.length&amp;&amp;<span class=\"code-keyword\">this</span>.historyBuffer.push(e)},<span class=\"code-attr\">reset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.initialPrefix=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.iterator=<span class=\"code-keyword\">this</span>.historyBuffer.length}};<span class=\"code-keyword\">var</span> j={<span class=\"code-attr\">matchCommand</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o,i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o,i=[],a=[],s=<span class=\"code-number\">0</span>;s&lt;t.length;s++){<span class=\"code-keyword\">var</span> l=t[s];<span class=\"code-string\">\"insert\"</span>==n&amp;&amp;<span class=\"code-string\">\"insert\"</span>!=l.context||l.context&amp;&amp;l.context!=n||r.operator&amp;&amp;<span class=\"code-string\">\"action\"</span>==l.type||!(o=z(e,l.keys))||(<span class=\"code-string\">\"partial\"</span>==o&amp;&amp;i.push(l),<span class=\"code-string\">\"full\"</span>==o&amp;&amp;a.push(l))}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">partial</span>:i.length&amp;&amp;i,<span class=\"code-attr\">full</span>:a.length&amp;&amp;a}}(e,t,r,n);<span class=\"code-keyword\">if</span>(!i.full&amp;&amp;!i.partial)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"none\"</span>};<span class=\"code-keyword\">if</span>(!i.full&amp;&amp;i.partial)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"partial\"</span>};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;i.full.length;a++){<span class=\"code-keyword\">var</span> s=i.full[a];o||(o=s)}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"&lt;character&gt;\"</span>==o.keys.slice(<span class=\"code-number\">-11</span>)){<span class=\"code-keyword\">var</span> l=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-regexp\">/^.*(&lt;[^&gt;]+&gt;)$/</span>.exec(e),n=t?t[<span class=\"code-number\">1</span>]:e.slice(<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">if</span>(n.length&gt;<span class=\"code-number\">1</span>)<span class=\"code-keyword\">switch</span>(n){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"&lt;CR&gt;\"</span>:n=<span class=\"code-string\">\"\\n\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"&lt;Space&gt;\"</span>:n=<span class=\"code-string\">\" \"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:n=<span class=\"code-string\">\"\"</span>}<span class=\"code-keyword\">return</span> n}(e);<span class=\"code-keyword\">if</span>(!l)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"none\"</span>};n.selectedCharacter=l}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"full\"</span>,<span class=\"code-attr\">command</span>:o}},<span class=\"code-attr\">processCommand</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">switch</span>(t.inputState.repeatOverride=n.repeatOverride,n.type){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"motion\"</span>:<span class=\"code-keyword\">this</span>.processMotion(e,t,n);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"operator\"</span>:<span class=\"code-keyword\">this</span>.processOperator(e,t,n);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"operatorMotion\"</span>:<span class=\"code-keyword\">this</span>.processOperatorMotion(e,t,n);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"action\"</span>:<span class=\"code-keyword\">this</span>.processAction(e,t,n);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"search\"</span>:<span class=\"code-keyword\">this</span>.processSearch(e,t,n);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ex\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"keyToEx\"</span>:<span class=\"code-keyword\">this</span>.processEx(e,t,n)}},<span class=\"code-attr\">processMotion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{t.inputState.motion=n.motion,t.inputState.motionArgs=J(n.motionArgs),<span class=\"code-keyword\">this</span>.evalInput(e,t)},<span class=\"code-attr\">processOperator</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.inputState;<span class=\"code-keyword\">if</span>(r.operator){<span class=\"code-keyword\">if</span>(r.operator==n.operator)<span class=\"code-keyword\">return</span> r.motion=<span class=\"code-string\">\"expandToLine\"</span>,r.motionArgs={<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>},<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.evalInput(e,t);V(e)}r.operator=n.operator,r.operatorArgs=J(n.operatorArgs),t.visualMode&amp;&amp;<span class=\"code-keyword\">this</span>.evalInput(e,t)},<span class=\"code-attr\">processOperatorMotion</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.visualMode,o=J(n.operatorMotionArgs);o&amp;&amp;r&amp;&amp;o.visualLine&amp;&amp;(t.visualLine=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.processOperator(e,t,n),r||<span class=\"code-keyword\">this</span>.processMotion(e,t,n)},<span class=\"code-attr\">processAction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.inputState,o=r.getRepeat(),i=!!o,a=J(n.actionArgs)||{};r.selectedCharacter&amp;&amp;(a.selectedCharacter=r.selectedCharacter),n.operator&amp;&amp;<span class=\"code-keyword\">this</span>.processOperator(e,t,n),n.motion&amp;&amp;<span class=\"code-keyword\">this</span>.processMotion(e,t,n),(n.motion||n.operator)&amp;&amp;<span class=\"code-keyword\">this</span>.evalInput(e,t),a.repeat=o||<span class=\"code-number\">1</span>,a.repeatIsExplicit=i,a.registerName=r.registerName,V(e),t.lastMotion=<span class=\"code-literal\">null</span>,n.isEdit&amp;&amp;<span class=\"code-keyword\">this</span>.recordLastEdit(t,r,n),q[n.action](e,a,t)},<span class=\"code-attr\">processSearch</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(e.getSearchCursor){<span class=\"code-keyword\">var</span> r=n.searchArgs.forward,o=n.searchArgs.wholeWordOnly;Me(e).setReversed(!r);<span class=\"code-keyword\">var</span> i=r?<span class=\"code-string\">\"/\"</span>:<span class=\"code-string\">\"?\"</span>,a=Me(e).getQuery(),s=e.getScrollInfo();<span class=\"code-keyword\">switch</span>(n.searchArgs.querySrc){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"prompt\"</span>:<span class=\"code-keyword\">var</span> l=T.macroModeState;<span class=\"code-keyword\">if</span>(l.isPlaying)f(h=l.replaySearchQueries.shift(),!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">else</span> Ie(e,{<span class=\"code-attr\">onClose</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{e.scrollTo(s.left,s.top),f(t,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> n=T.macroModeState;n.isRecording&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e.isPlaying)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> n=e.latestRegister,r=T.registerController.getRegister(n);r&amp;&amp;r.pushSearchQuery&amp;&amp;r.pushSearchQuery(t)}(n,t)},<span class=\"code-attr\">prefix</span>:i,<span class=\"code-attr\">desc</span>:Oe,<span class=\"code-attr\">onKeyUp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n,o</span>)</span>{<span class=\"code-keyword\">var</span> i,a,l,c=x.keyName(t);<span class=\"code-string\">\"Up\"</span>==c||<span class=\"code-string\">\"Down\"</span>==c?(i=<span class=\"code-string\">\"Up\"</span>==c,a=t.target?t.target.selectionEnd:<span class=\"code-number\">0</span>,o(n=T.searchHistoryController.nextMatch(n,i)||<span class=\"code-string\">\"\"</span>),a&amp;&amp;t.target&amp;&amp;(t.target.selectionEnd=t.target.selectionStart=<span class=\"code-built_in\">Math</span>.min(a,t.target.value.length))):<span class=\"code-string\">\"Left\"</span>!=c&amp;&amp;<span class=\"code-string\">\"Right\"</span>!=c&amp;&amp;<span class=\"code-string\">\"Ctrl\"</span>!=c&amp;&amp;<span class=\"code-string\">\"Alt\"</span>!=c&amp;&amp;<span class=\"code-string\">\"Shift\"</span>!=c&amp;&amp;T.searchHistoryController.reset();<span class=\"code-keyword\">try</span>{l=Be(e,n,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">catch</span>(t){}l?e.scrollIntoView(Ne(e,!r,l),<span class=\"code-number\">30</span>):(Ke(e),e.scrollTo(s.left,s.top))},<span class=\"code-attr\">onKeyDown</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=x.keyName(t);<span class=\"code-string\">\"Esc\"</span>==o||<span class=\"code-string\">\"Ctrl-C\"</span>==o||<span class=\"code-string\">\"Ctrl-[\"</span>==o||<span class=\"code-string\">\"Backspace\"</span>==o&amp;&amp;<span class=\"code-string\">\"\"</span>==n?(T.searchHistoryController.pushInput(n),T.searchHistoryController.reset(),Be(e,a),Ke(e),e.scrollTo(s.left,s.top),x.e_stop(t),V(e),r(),e.focus()):<span class=\"code-string\">\"Up\"</span>==o||<span class=\"code-string\">\"Down\"</span>==o?x.e_stop(t):<span class=\"code-string\">\"Ctrl-U\"</span>==o&amp;&amp;(x.e_stop(t),r(<span class=\"code-string\">\"\"</span>))}});<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"wordUnderCursor\"</span>:<span class=\"code-keyword\">var</span> c=fe(e,!<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>),u=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(c||(c=fe(e,!<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>,!<span class=\"code-number\">1</span>),u=!<span class=\"code-number\">1</span>),!c)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> h=e.getLine(c.start.line).substring(c.start.ch,c.end.ch);h=u&amp;&amp;o?<span class=\"code-string\">\"\\\\b\"</span>+h+<span class=\"code-string\">\"\\\\b\"</span>:h.replace(<span class=\"code-regexp\">/([.?*+$\\[\\]\\/\\\\(){}|\\-])/g</span>,<span class=\"code-string\">\"\\\\$1\"</span>),T.jumpList.cachedCursor=e.getCursor(),e.setCursor(c.start),f(h,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">f</span>(<span class=\"code-params\">r,o,i</span>)</span>{T.searchHistoryController.pushInput(r),T.searchHistoryController.reset();<span class=\"code-keyword\">try</span>{Be(e,r,o,i)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">return</span> Re(e,<span class=\"code-string\">\"Invalid regex: \"</span>+r),<span class=\"code-keyword\">void</span> V(e)}j.processMotion(e,t,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"findNext\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">toJumplist</span>:n.searchArgs.toJumplist}})}},<span class=\"code-attr\">processEx</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t</span>)</span>{T.exCommandHistoryController.pushInput(t),T.exCommandHistoryController.reset(),je.processCommand(e,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o,i,a=x.keyName(t);(<span class=\"code-string\">\"Esc\"</span>==a||<span class=\"code-string\">\"Ctrl-C\"</span>==a||<span class=\"code-string\">\"Ctrl-[\"</span>==a||<span class=\"code-string\">\"Backspace\"</span>==a&amp;&amp;<span class=\"code-string\">\"\"</span>==n)&amp;&amp;(T.exCommandHistoryController.pushInput(n),T.exCommandHistoryController.reset(),x.e_stop(t),V(e),r(),e.focus()),<span class=\"code-string\">\"Up\"</span>==a||<span class=\"code-string\">\"Down\"</span>==a?(x.e_stop(t),o=<span class=\"code-string\">\"Up\"</span>==a,i=t.target?t.target.selectionEnd:<span class=\"code-number\">0</span>,r(n=T.exCommandHistoryController.nextMatch(n,o)||<span class=\"code-string\">\"\"</span>),i&amp;&amp;t.target&amp;&amp;(t.target.selectionEnd=t.target.selectionStart=<span class=\"code-built_in\">Math</span>.min(i,t.target.value.length))):<span class=\"code-string\">\"Ctrl-U\"</span>==a?(x.e_stop(t),r(<span class=\"code-string\">\"\"</span>)):<span class=\"code-string\">\"Left\"</span>!=a&amp;&amp;<span class=\"code-string\">\"Right\"</span>!=a&amp;&amp;<span class=\"code-string\">\"Ctrl\"</span>!=a&amp;&amp;<span class=\"code-string\">\"Alt\"</span>!=a&amp;&amp;<span class=\"code-string\">\"Shift\"</span>!=a&amp;&amp;T.exCommandHistoryController.reset()}<span class=\"code-string\">\"keyToEx\"</span>==n.type?je.processCommand(e,n.exArgs.input):t.visualMode?Ie(e,{<span class=\"code-attr\">onClose</span>:r,<span class=\"code-attr\">prefix</span>:<span class=\"code-string\">\":\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-string\">\"'&lt;,'&gt;\"</span>,<span class=\"code-attr\">onKeyDown</span>:o,<span class=\"code-attr\">selectValueOnOpen</span>:!<span class=\"code-number\">1</span>}):Ie(e,{<span class=\"code-attr\">onClose</span>:r,<span class=\"code-attr\">prefix</span>:<span class=\"code-string\">\":\"</span>,<span class=\"code-attr\">onKeyDown</span>:o})},<span class=\"code-attr\">evalInput</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n,r,o,i=t.inputState,a=i.motion,s=i.motionArgs||{},l=i.operator,c=i.operatorArgs||{},u=i.registerName,h=t.sel,f=X(t.visualMode?$(e,h.head):e.getCursor(<span class=\"code-string\">\"head\"</span>)),p=X(t.visualMode?$(e,h.anchor):e.getCursor(<span class=\"code-string\">\"anchor\"</span>)),d=X(f),g=X(p);<span class=\"code-keyword\">if</span>(l&amp;&amp;<span class=\"code-keyword\">this</span>.recordLastEdit(t,i),(o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i.repeatOverride?i.repeatOverride:i.getRepeat())&gt;<span class=\"code-number\">0</span>&amp;&amp;s.explicitRepeat?s.repeatIsExplicit=!<span class=\"code-number\">0</span>:(s.noRepeat||!s.explicitRepeat&amp;&amp;<span class=\"code-number\">0</span>===o)&amp;&amp;(o=<span class=\"code-number\">1</span>,s.repeatIsExplicit=!<span class=\"code-number\">1</span>),i.selectedCharacter&amp;&amp;(s.selectedCharacter=c.selectedCharacter=i.selectedCharacter),s.repeat=o,V(e),a){<span class=\"code-keyword\">var</span> m=F[a](e,f,s,t);<span class=\"code-keyword\">if</span>(t.lastMotion=F[a],!m)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(s.toJumplist){<span class=\"code-keyword\">var</span> y=T.jumpList,k=y.cachedCursor;k?(pe(e,k,m),<span class=\"code-keyword\">delete</span> y.cachedCursor):pe(e,f,m)}m <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>?(r=m[<span class=\"code-number\">0</span>],n=m[<span class=\"code-number\">1</span>]):n=m,n||(n=X(f)),t.visualMode?(t.visualBlock&amp;&amp;n.ch===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>||(n=$(e,n,t.visualBlock)),r&amp;&amp;(r=$(e,r,!<span class=\"code-number\">0</span>)),r=r||g,h.anchor=r,h.head=n,ce(e),ke(e,t,<span class=\"code-string\">\"&lt;\"</span>,Z(r,n)?r:n),ke(e,t,<span class=\"code-string\">\"&gt;\"</span>,Z(r,n)?n:r)):l||(n=$(e,n),e.setCursor(n.line,n.ch))}<span class=\"code-keyword\">if</span>(l){<span class=\"code-keyword\">if</span>(c.lastSel){r=g;<span class=\"code-keyword\">var</span> C=c.lastSel,w=<span class=\"code-built_in\">Math</span>.abs(C.head.line-C.anchor.line),S=<span class=\"code-built_in\">Math</span>.abs(C.head.ch-C.anchor.ch);n=C.visualLine?E(g.line+w,g.ch):C.visualBlock?E(g.line+w,g.ch+S):C.head.line==C.anchor.line?E(g.line,g.ch+S):E(g.line+w,g.ch),t.visualMode=!<span class=\"code-number\">0</span>,t.visualLine=C.visualLine,t.visualBlock=C.visualBlock,h=t.sel={<span class=\"code-attr\">anchor</span>:r,<span class=\"code-attr\">head</span>:n},ce(e)}<span class=\"code-keyword\">else</span> t.visualMode&amp;&amp;(c.lastSel={<span class=\"code-attr\">anchor</span>:X(h.anchor),<span class=\"code-attr\">head</span>:X(h.head),<span class=\"code-attr\">visualBlock</span>:t.visualBlock,<span class=\"code-attr\">visualLine</span>:t.visualLine});<span class=\"code-keyword\">var</span> M,x,b,A,L;<span class=\"code-keyword\">if</span>(t.visualMode){<span class=\"code-keyword\">if</span>(M=ee(h.head,h.anchor),x=te(h.head,h.anchor),b=t.visualLine||c.linewise,L=ue(e,{<span class=\"code-attr\">anchor</span>:M,<span class=\"code-attr\">head</span>:x},A=t.visualBlock?<span class=\"code-string\">\"block\"</span>:b?<span class=\"code-string\">\"line\"</span>:<span class=\"code-string\">\"char\"</span>),b){<span class=\"code-keyword\">var</span> R=L.ranges;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"block\"</span>==A)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> O=<span class=\"code-number\">0</span>;O&lt;R.length;O++)R[O].head.ch=re(e,R[O].head.line);<span class=\"code-keyword\">else</span><span class=\"code-string\">\"line\"</span>==A&amp;&amp;(R[<span class=\"code-number\">0</span>].head=E(R[<span class=\"code-number\">0</span>].head.line+<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>))}}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(M=X(r||g),Z(x=X(n||d),M)){<span class=\"code-keyword\">var</span> I=M;M=x,x=I}(b=s.linewise||c.linewise)?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{t.ch=<span class=\"code-number\">0</span>,n.ch=<span class=\"code-number\">0</span>,n.line++}(<span class=\"code-number\">0</span>,M,x):s.forward&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.getRange(t,n);<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/\\n\\s*$/</span>.test(r)){<span class=\"code-keyword\">var</span> o=r.split(<span class=\"code-string\">\"\\n\"</span>);o.pop();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=o.pop();o.length&gt;<span class=\"code-number\">0</span>&amp;&amp;i&amp;&amp;v(i);i=o.pop())n.line--,n.ch=<span class=\"code-number\">0</span>;i?(n.line--,n.ch=re(e,n.line)):n.ch=<span class=\"code-number\">0</span>}}(e,M,x),L=ue(e,{<span class=\"code-attr\">anchor</span>:M,<span class=\"code-attr\">head</span>:x},A=<span class=\"code-string\">\"char\"</span>,!s.inclusive||b)}e.setSelections(L.ranges,L.primary),t.lastMotion=<span class=\"code-literal\">null</span>,c.repeat=o,c.registerName=u,c.linewise=b;<span class=\"code-keyword\">var</span> B=U[l](e,c,L.ranges,g,n);t.visualMode&amp;&amp;he(e,<span class=\"code-literal\">null</span>!=B),B&amp;&amp;e.setCursor(B)}},<span class=\"code-attr\">recordLastEdit</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=T.macroModeState;r.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,r.lastInsertModeChanges.changes=[],r.lastInsertModeChanges.expectCursorActivityForChange=!<span class=\"code-number\">1</span>)}},F={<span class=\"code-attr\">moveToTopLine</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=Ve(e).top+n.repeat<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">return</span> E(r,e.findFirstNonWhiteSpaceCharacter(r))},<span class=\"code-attr\">moveToMiddleLine</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Ve(e),n=<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-number\">.5</span>*(t.top+t.bottom));<span class=\"code-keyword\">return</span> E(n,e.findFirstNonWhiteSpaceCharacter(n))},<span class=\"code-attr\">moveToBottomLine</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=Ve(e).bottom-n.repeat+<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> E(r,e.findFirstNonWhiteSpaceCharacter(r))},<span class=\"code-attr\">expandToLine</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> E(t.line+n.repeat<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>)},<span class=\"code-attr\">findNext</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=Me(e),o=r.getQuery();<span class=\"code-keyword\">if</span>(o){<span class=\"code-keyword\">var</span> i=!n.forward;<span class=\"code-keyword\">return</span> i=r.isReversed()?!i:i,Pe(e,o),Ne(e,i,o,n.repeat)}},<span class=\"code-attr\">goToMark</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=We(e,r,n.selectedCharacter);<span class=\"code-keyword\">return</span> o?n.linewise?{<span class=\"code-attr\">line</span>:o.line,<span class=\"code-attr\">ch</span>:e.findFirstNonWhiteSpaceCharacter(o.line)}:o:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">moveToOtherHighlightedEnd</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(r.visualBlock&amp;&amp;n.sameLine){<span class=\"code-keyword\">var</span> o=r.sel;<span class=\"code-keyword\">return</span>[$(e,E(o.anchor.line,o.head.ch)),$(e,E(o.head.line,o.anchor.ch))]}<span class=\"code-keyword\">return</span>[r.sel.head,r.sel.anchor]},<span class=\"code-attr\">jumpToMark</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=t,i=<span class=\"code-number\">0</span>;i&lt;n.repeat;i++){<span class=\"code-keyword\">var</span> a=o;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s <span class=\"code-keyword\">in</span> r.marks)<span class=\"code-keyword\">if</span>(g(s)){<span class=\"code-keyword\">var</span> l=r.marks[s].find();<span class=\"code-keyword\">if</span>(!((n.forward?Z(l,a):Z(a,l))||n.linewise&amp;&amp;l.line==a.line)){<span class=\"code-keyword\">var</span> c=Y(a,o),u=n.forward?ne(a,l,o):ne(o,l,a);(c||u)&amp;&amp;(o=l)}}}<span class=\"code-keyword\">return</span> n.linewise&amp;&amp;(o=E(o.line,e.findFirstNonWhiteSpaceCharacter(o.line))),o},<span class=\"code-attr\">moveByCharacters</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t,o=n.repeat,i=n.forward?r.ch+o:r.ch-o;<span class=\"code-keyword\">return</span> E(r.line,i)},<span class=\"code-attr\">moveByLines</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=t,i=o.ch;<span class=\"code-keyword\">switch</span>(r.lastMotion){<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveByLines:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveByDisplayLines:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveByScroll:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveToColumn:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveToEol:i=r.lastHPos;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:r.lastHPos=i}<span class=\"code-keyword\">var</span> a=n.repeat+(n.repeatOffset||<span class=\"code-number\">0</span>),s=n.forward?o.line+a:o.line-a,l=e.firstLine(),c=e.lastLine();<span class=\"code-keyword\">return</span> s&lt;l&amp;&amp;o.line==l?<span class=\"code-keyword\">this</span>.moveToStartOfLine(e,t,n,r):s&gt;c&amp;&amp;o.line==c?<span class=\"code-keyword\">this</span>.moveToEol(e,t,n,r):(n.toFirstChar&amp;&amp;(i=e.findFirstNonWhiteSpaceCharacter(s),r.lastHPos=i),r.lastHSPos=e.charCoords(E(s,i),<span class=\"code-string\">\"div\"</span>).left,E(s,i))},<span class=\"code-attr\">moveByDisplayLines</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=t;<span class=\"code-keyword\">switch</span>(r.lastMotion){<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveByDisplayLines:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveByScroll:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveByLines:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveToColumn:<span class=\"code-keyword\">case</span> <span class=\"code-keyword\">this</span>.moveToEol:<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:r.lastHSPos=e.charCoords(o,<span class=\"code-string\">\"div\"</span>).left}<span class=\"code-keyword\">var</span> i=n.repeat;<span class=\"code-keyword\">if</span>((s=e.findPosV(o,n.forward?i:-i,<span class=\"code-string\">\"line\"</span>,r.lastHSPos)).hitSide)<span class=\"code-keyword\">if</span>(n.forward)<span class=\"code-keyword\">var</span> a={<span class=\"code-attr\">top</span>:e.charCoords(s,<span class=\"code-string\">\"div\"</span>).top+<span class=\"code-number\">8</span>,<span class=\"code-attr\">left</span>:r.lastHSPos},s=e.coordsChar(a,<span class=\"code-string\">\"div\"</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> l=e.charCoords(E(e.firstLine(),<span class=\"code-number\">0</span>),<span class=\"code-string\">\"div\"</span>);l.left=r.lastHSPos,s=e.coordsChar(l,<span class=\"code-string\">\"div\"</span>)}<span class=\"code-keyword\">return</span> r.lastHPos=s.ch,s},<span class=\"code-attr\">moveByPage</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t,o=n.repeat;<span class=\"code-keyword\">return</span> e.findPosV(r,n.forward?o:-o,<span class=\"code-string\">\"page\"</span>)},<span class=\"code-attr\">moveByParagraph</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n.forward?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">return</span> we(e,t,n.repeat,r)},<span class=\"code-attr\">moveBySentence</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n.forward?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(t.pos+t.dir&lt;<span class=\"code-number\">0</span>||t.pos+t.dir&gt;=t.line.length){<span class=\"code-keyword\">if</span>(t.ln+=t.dir,!d(e,t.ln))<span class=\"code-keyword\">return</span> t.line=<span class=\"code-literal\">null</span>,t.ln=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">void</span>(t.pos=<span class=\"code-literal\">null</span>);t.line=e.getLine(t.ln),t.pos=t.dir&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">0</span>:t.line.length<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">else</span> t.pos+=t.dir}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-string\">\"\"</span>===(c=e.getLine(t)),a={<span class=\"code-attr\">line</span>:c,<span class=\"code-attr\">ln</span>:t,<span class=\"code-attr\">pos</span>:n,<span class=\"code-attr\">dir</span>:r},s={<span class=\"code-attr\">ln</span>:a.ln,<span class=\"code-attr\">pos</span>:a.pos},l=<span class=\"code-string\">\"\"</span>===a.line;<span class=\"code-keyword\">for</span>(o(e,a);<span class=\"code-literal\">null</span>!==a.line;){<span class=\"code-keyword\">if</span>(s.ln=a.ln,s.pos=a.pos,<span class=\"code-string\">\"\"</span>===a.line&amp;&amp;!l)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">ln</span>:a.ln,<span class=\"code-attr\">pos</span>:a.pos};<span class=\"code-keyword\">if</span>(i&amp;&amp;<span class=\"code-string\">\"\"</span>!==a.line&amp;&amp;!v(a.line[a.pos]))<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">ln</span>:a.ln,<span class=\"code-attr\">pos</span>:a.pos};!y(a.line[a.pos])||i||a.pos!==a.line.length<span class=\"code-number\">-1</span>&amp;&amp;!v(a.line[a.pos+<span class=\"code-number\">1</span>])||(i=!<span class=\"code-number\">0</span>),o(e,a)}<span class=\"code-keyword\">var</span> c=e.getLine(s.ln);s.pos=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=c.length<span class=\"code-number\">-1</span>;u&gt;=<span class=\"code-number\">0</span>;--u)<span class=\"code-keyword\">if</span>(!v(c[u])){s.pos=u;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">return</span> s}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> i={<span class=\"code-attr\">line</span>:l=e.getLine(t),<span class=\"code-attr\">ln</span>:t,<span class=\"code-attr\">pos</span>:n,<span class=\"code-attr\">dir</span>:r},a={<span class=\"code-attr\">ln</span>:i.ln,<span class=\"code-attr\">pos</span>:<span class=\"code-literal\">null</span>},s=<span class=\"code-string\">\"\"</span>===i.line;<span class=\"code-keyword\">for</span>(o(e,i);<span class=\"code-literal\">null</span>!==i.line;){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\"</span>===i.line&amp;&amp;!s)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==a.pos?a:{<span class=\"code-attr\">ln</span>:i.ln,<span class=\"code-attr\">pos</span>:i.pos};<span class=\"code-keyword\">if</span>(y(i.line[i.pos])&amp;&amp;<span class=\"code-literal\">null</span>!==a.pos&amp;&amp;(i.ln!==a.ln||i.pos+<span class=\"code-number\">1</span>!==a.pos))<span class=\"code-keyword\">return</span> a;<span class=\"code-string\">\"\"</span>===i.line||v(i.line[i.pos])||(s=!<span class=\"code-number\">1</span>,a={<span class=\"code-attr\">ln</span>:i.ln,<span class=\"code-attr\">pos</span>:i.pos}),o(e,i)}<span class=\"code-keyword\">var</span> l=e.getLine(a.ln);a.pos=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;l.length;++c)<span class=\"code-keyword\">if</span>(!v(l[c])){a.pos=c;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">return</span> a}<span class=\"code-keyword\">var</span> s={<span class=\"code-attr\">ln</span>:t.line,<span class=\"code-attr\">pos</span>:t.ch};<span class=\"code-keyword\">for</span>(;n&gt;<span class=\"code-number\">0</span>;)s=r&lt;<span class=\"code-number\">0</span>?a(e,s.ln,s.pos,r):i(e,s.ln,s.pos,r),n--;<span class=\"code-keyword\">return</span> E(s.ln,s.pos)}(e,t,n.repeat,r)},<span class=\"code-attr\">moveByScroll</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=e.getScrollInfo(),i=<span class=\"code-literal\">null</span>,a=n.repeat;a||(a=<span class=\"code-built_in\">Math</span>.floor(o.clientHeight/(<span class=\"code-number\">2</span>*e.defaultTextHeight())));<span class=\"code-keyword\">var</span> s=e.charCoords(t,<span class=\"code-string\">\"local\"</span>);<span class=\"code-keyword\">if</span>(n.repeat=a,!(i=F.moveByDisplayLines(e,t,n,r)))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> l=e.charCoords(i,<span class=\"code-string\">\"local\"</span>);<span class=\"code-keyword\">return</span> e.scrollTo(<span class=\"code-literal\">null</span>,o.top+l.top-s.top),i},<span class=\"code-attr\">moveByWords</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r,o,i</span>)</span>{<span class=\"code-keyword\">var</span> a=X(t),s=[];(r&amp;&amp;!o||!r&amp;&amp;o)&amp;&amp;n++;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=!(r&amp;&amp;o),c=<span class=\"code-number\">0</span>;c&lt;n;c++){<span class=\"code-keyword\">var</span> u=ve(e,t,r,i,l);<span class=\"code-keyword\">if</span>(!u){<span class=\"code-keyword\">var</span> h=re(e,e.lastLine());s.push(r?{<span class=\"code-attr\">line</span>:e.lastLine(),<span class=\"code-attr\">from</span>:h,<span class=\"code-attr\">to</span>:h}:{<span class=\"code-attr\">line</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">from</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">to</span>:<span class=\"code-number\">0</span>});<span class=\"code-keyword\">break</span>}s.push(u),t=E(u.line,r?u.to<span class=\"code-number\">-1</span>:u.from)}<span class=\"code-keyword\">var</span> f=s.length!=n,p=s[<span class=\"code-number\">0</span>],d=s.pop();<span class=\"code-keyword\">return</span> r&amp;&amp;!o?(f||p.from==a.ch&amp;&amp;p.line==a.line||(d=s.pop()),E(d.line,d.from)):r&amp;&amp;o?E(d.line,d.to<span class=\"code-number\">-1</span>):!r&amp;&amp;o?(f||p.to==a.ch&amp;&amp;p.line==a.line||(d=s.pop()),E(d.line,d.to)):E(d.line,d.from)}(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},<span class=\"code-attr\">moveTillCharacter</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=ye(e,n.repeat,n.forward,n.selectedCharacter),o=n.forward?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> de(o,n),r?(r.ch+=o,r):<span class=\"code-literal\">null</span>},<span class=\"code-attr\">moveToCharacter</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n.repeat;<span class=\"code-keyword\">return</span> de(<span class=\"code-number\">0</span>,n),ye(e,r,n.forward,n.selectedCharacter)||t},<span class=\"code-attr\">moveToSymbol</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=X(e.getCursor()),i=n?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>,a=n?e.lineCount():<span class=\"code-number\">-1</span>,s=o.ch,l=o.line,c=e.getLine(l),u={<span class=\"code-attr\">lineText</span>:c,<span class=\"code-attr\">nextCh</span>:c.charAt(s),<span class=\"code-attr\">lastCh</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">index</span>:s,<span class=\"code-attr\">symb</span>:r,<span class=\"code-attr\">reverseSymb</span>:(n?{<span class=\"code-string\">\")\"</span>:<span class=\"code-string\">\"(\"</span>,<span class=\"code-string\">\"}\"</span>:<span class=\"code-string\">\"{\"</span>}:{<span class=\"code-string\">\"(\"</span>:<span class=\"code-string\">\")\"</span>,<span class=\"code-string\">\"{\"</span>:<span class=\"code-string\">\"}\"</span>})[r],<span class=\"code-attr\">forward</span>:n,<span class=\"code-attr\">depth</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">curMoveThrough</span>:!<span class=\"code-number\">1</span>},h=ge[r];<span class=\"code-keyword\">if</span>(!h)<span class=\"code-keyword\">return</span> o;<span class=\"code-keyword\">var</span> f=me[h].init,p=me[h].isComplete;f&amp;&amp;f(u);<span class=\"code-keyword\">for</span>(;l!==a&amp;&amp;t;){<span class=\"code-keyword\">if</span>(u.index+=i,u.nextCh=u.lineText.charAt(u.index),!u.nextCh){<span class=\"code-keyword\">if</span>(l+=i,u.lineText=e.getLine(l)||<span class=\"code-string\">\"\"</span>,i&gt;<span class=\"code-number\">0</span>)u.index=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> d=u.lineText.length;u.index=d&gt;<span class=\"code-number\">0</span>?d<span class=\"code-number\">-1</span>:<span class=\"code-number\">0</span>}u.nextCh=u.lineText.charAt(u.index)}p(u)&amp;&amp;(o.line=l,o.ch=u.index,t--)}<span class=\"code-keyword\">if</span>(u.nextCh||u.curMoveThrough)<span class=\"code-keyword\">return</span> E(l,u.index);<span class=\"code-keyword\">return</span> o}(e,n.repeat,n.forward,n.selectedCharacter)||t},<span class=\"code-attr\">moveToColumn</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=n.repeat;<span class=\"code-keyword\">return</span> r.lastHPos=o<span class=\"code-number\">-1</span>,r.lastHSPos=e.charCoords(t,<span class=\"code-string\">\"div\"</span>).left,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=e.getCursor().line;<span class=\"code-keyword\">return</span> $(e,E(n,t<span class=\"code-number\">-1</span>))}(e,o)},<span class=\"code-attr\">moveToEol</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=t;r.lastHPos=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> i=E(o.line+n.repeat<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>),a=e.clipPos(i);<span class=\"code-keyword\">return</span> a.ch--,r.lastHSPos=e.charCoords(a,<span class=\"code-string\">\"div\"</span>).left,i},<span class=\"code-attr\">moveToFirstNonWhiteSpaceCharacter</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t;<span class=\"code-keyword\">return</span> E(n.line,e.findFirstNonWhiteSpaceCharacter(n.line))},<span class=\"code-attr\">moveToMatchedSymbol</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t,r=n.line,o=n.ch;<span class=\"code-keyword\">return</span> o&lt;e.getLine(r).length?e.findMatchingBracket(E(r,o)).to:n},<span class=\"code-attr\">moveToStartOfLine</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> E(t.line,<span class=\"code-number\">0</span>)},<span class=\"code-attr\">moveToLineOrEdgeOfDocument</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n.forward?e.lastLine():e.firstLine();<span class=\"code-keyword\">return</span> n.repeatIsExplicit&amp;&amp;(r=n.repeat-e.getOption(<span class=\"code-string\">\"firstLineNumber\"</span>)),E(r,e.findFirstNonWhiteSpaceCharacter(r))},<span class=\"code-attr\">textObjectManipulation</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=n.selectedCharacter;<span class=\"code-string\">\"b\"</span>==o?o=<span class=\"code-string\">\"(\"</span>:<span class=\"code-string\">\"B\"</span>==o&amp;&amp;(o=<span class=\"code-string\">\"{\"</span>);<span class=\"code-keyword\">var</span> i,a=!n.textObjectInner;<span class=\"code-keyword\">if</span>({<span class=\"code-string\">\"(\"</span>:<span class=\"code-string\">\")\"</span>,<span class=\"code-string\">\")\"</span>:<span class=\"code-string\">\"(\"</span>,<span class=\"code-string\">\"{\"</span>:<span class=\"code-string\">\"}\"</span>,<span class=\"code-string\">\"}\"</span>:<span class=\"code-string\">\"{\"</span>,<span class=\"code-string\">\"[\"</span>:<span class=\"code-string\">\"]\"</span>,<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"[\"</span>}[o])i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o,i,a=t,s={<span class=\"code-string\">\"(\"</span>:<span class=\"code-regexp\">/[()]/</span>,<span class=\"code-string\">\")\"</span>:<span class=\"code-regexp\">/[()]/</span>,<span class=\"code-string\">\"[\"</span>:<span class=\"code-regexp\">/[[\\]]/</span>,<span class=\"code-string\">\"]\"</span>:<span class=\"code-regexp\">/[[\\]]/</span>,<span class=\"code-string\">\"{\"</span>:<span class=\"code-regexp\">/[{}]/</span>,<span class=\"code-string\">\"}\"</span>:<span class=\"code-regexp\">/[{}]/</span>}[n],l={<span class=\"code-string\">\"(\"</span>:<span class=\"code-string\">\"(\"</span>,<span class=\"code-string\">\")\"</span>:<span class=\"code-string\">\"(\"</span>,<span class=\"code-string\">\"[\"</span>:<span class=\"code-string\">\"[\"</span>,<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"[\"</span>,<span class=\"code-string\">\"{\"</span>:<span class=\"code-string\">\"{\"</span>,<span class=\"code-string\">\"}\"</span>:<span class=\"code-string\">\"{\"</span>}[n],c=e.getLine(a.line).charAt(a.ch)===l?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(o=e.scanForBracket(E(a.line,a.ch+c),<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,{<span class=\"code-attr\">bracketRegex</span>:s}),i=e.scanForBracket(E(a.line,a.ch+c),<span class=\"code-number\">1</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,{<span class=\"code-attr\">bracketRegex</span>:s}),!o||!i)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:a,<span class=\"code-attr\">end</span>:a};<span class=\"code-keyword\">if</span>(o=o.pos,i=i.pos,o.line==i.line&amp;&amp;o.ch&gt;i.ch||o.line&gt;i.line){<span class=\"code-keyword\">var</span> u=o;o=i,i=u}r?i.ch+=<span class=\"code-number\">1</span>:o.ch+=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:o,<span class=\"code-attr\">end</span>:i}}(e,t,o,a);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>({<span class=\"code-string\">\"'\"</span>:!<span class=\"code-number\">0</span>,<span class=\"code-string\">'\"'</span>:!<span class=\"code-number\">0</span>}[o])i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o,i,a,s,l=X(t),c=e.getLine(l.line).split(<span class=\"code-string\">\"\"</span>),u=c.indexOf(n);l.ch&lt;u?l.ch=u:u&lt;l.ch&amp;&amp;c[l.ch]==n&amp;&amp;(i=l.ch,--l.ch);<span class=\"code-keyword\">if</span>(c[l.ch]!=n||i)<span class=\"code-keyword\">for</span>(a=l.ch;a&gt;<span class=\"code-number\">-1</span>&amp;&amp;!o;a--)c[a]==n&amp;&amp;(o=a+<span class=\"code-number\">1</span>);<span class=\"code-keyword\">else</span> o=l.ch+<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(o&amp;&amp;!i)<span class=\"code-keyword\">for</span>(a=o,s=c.length;a&lt;s&amp;&amp;!i;a++)c[a]==n&amp;&amp;(i=a);<span class=\"code-keyword\">if</span>(!o||!i)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:l,<span class=\"code-attr\">end</span>:l};r&amp;&amp;(--o,++i);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:E(l.line,o),<span class=\"code-attr\">end</span>:E(l.line,i)}}(e,t,o,a);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"W\"</span>===o)i=fe(e,a,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"w\"</span>===o)i=fe(e,a,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"p\"</span>!==o)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(i=we(e,t,n.repeat,<span class=\"code-number\">0</span>,a),n.linewise=!<span class=\"code-number\">0</span>,r.visualMode)r.visualLine||(r.visualLine=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> s=r.inputState.operatorArgs;s&amp;&amp;(s.linewise=!<span class=\"code-number\">0</span>),i.end.line--}}<span class=\"code-keyword\">return</span> e.state.vim.visualMode?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r,o=e.state.vim.sel,i=o.head,a=o.anchor;Z(n,t)&amp;&amp;(r=n,n=t,t=r);Z(i,a)?(i=ee(t,i),a=te(a,n)):(a=ee(t,a),<span class=\"code-number\">-1</span>==(i=Q(i=te(i,n),<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>)).ch&amp;&amp;i.line!=e.firstLine()&amp;&amp;(i=E(i.line<span class=\"code-number\">-1</span>,re(e,i.line<span class=\"code-number\">-1</span>))));<span class=\"code-keyword\">return</span>[a,i]}(e,i.start,i.end):[i.start,i.end]},<span class=\"code-attr\">repeatLastCharacterSearch</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=T.lastCharacterSearch,o=n.repeat,i=n.forward===r.forward,a=(r.increment?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>)*(i?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>);e.moveH(<span class=\"code-number\">-1</span>*a,<span class=\"code-string\">\"char\"</span>),n.inclusive=!!i;<span class=\"code-keyword\">var</span> s=ye(e,o,i,r.selectedCharacter);<span class=\"code-keyword\">return</span> s?(s.ch+=a,s):(e.moveH(a,<span class=\"code-string\">\"char\"</span>),t)}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">H</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],r=<span class=\"code-number\">0</span>;r&lt;t;r++)n.push(e);<span class=\"code-keyword\">return</span> n}<span class=\"code-keyword\">var</span> U={<span class=\"code-attr\">change</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r,o,i=e.state.vim;<span class=\"code-keyword\">if</span>(T.macroModeState.lastInsertModeChanges.inVisualBlock=i.visualBlock,i.visualMode){o=e.getSelection();<span class=\"code-keyword\">var</span> a=H(<span class=\"code-string\">\"\"</span>,n.length);e.replaceSelections(a),r=ee(n[<span class=\"code-number\">0</span>].head,n[<span class=\"code-number\">0</span>].anchor)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> s=n[<span class=\"code-number\">0</span>].anchor,l=n[<span class=\"code-number\">0</span>].head;o=e.getRange(s,l);<span class=\"code-keyword\">var</span> c=i.lastEditInputState||{};<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"moveByWords\"</span>==c.motion&amp;&amp;!v(o)){<span class=\"code-keyword\">var</span> u=<span class=\"code-regexp\">/\\s+$/</span>.exec(o);u&amp;&amp;c.motionArgs&amp;&amp;c.motionArgs.forward&amp;&amp;(l=Q(l,<span class=\"code-number\">0</span>,-u[<span class=\"code-number\">0</span>].length),o=o.slice(<span class=\"code-number\">0</span>,-u[<span class=\"code-number\">0</span>].length))}<span class=\"code-keyword\">var</span> h=<span class=\"code-keyword\">new</span> E(s.line<span class=\"code-number\">-1</span>,<span class=\"code-built_in\">Number</span>.MAX_VALUE),f=e.firstLine()==e.lastLine();l.line&gt;e.lastLine()&amp;&amp;t.linewise&amp;&amp;!f?e.replaceRange(<span class=\"code-string\">\"\"</span>,h,l):e.replaceRange(<span class=\"code-string\">\"\"</span>,s,l),t.linewise&amp;&amp;(f||(e.setCursor(h),x.commands.newlineAndIndent(e)),s.ch=<span class=\"code-built_in\">Number</span>.MAX_VALUE),r=s}T.registerController.pushText(t.registerName,<span class=\"code-string\">\"change\"</span>,o,t.linewise,n.length&gt;<span class=\"code-number\">1</span>),q.enterInsertMode(e,{<span class=\"code-attr\">head</span>:r},e.state.vim)},<span class=\"code-attr\">delete</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r,o;e.pushUndoStop();<span class=\"code-keyword\">var</span> i=e.state.vim;<span class=\"code-keyword\">if</span>(i.visualBlock){o=e.getSelection();<span class=\"code-keyword\">var</span> a=H(<span class=\"code-string\">\"\"</span>,n.length);e.replaceSelections(a),r=n[<span class=\"code-number\">0</span>].anchor}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> s=n[<span class=\"code-number\">0</span>].anchor,l=n[<span class=\"code-number\">0</span>].head;t.linewise&amp;&amp;l.line!=e.firstLine()&amp;&amp;s.line==e.lastLine()&amp;&amp;s.line==l.line<span class=\"code-number\">-1</span>&amp;&amp;(s.line==e.firstLine()?s.ch=<span class=\"code-number\">0</span>:s=E(s.line<span class=\"code-number\">-1</span>,re(e,s.line<span class=\"code-number\">-1</span>))),o=e.getRange(s,l),e.replaceRange(<span class=\"code-string\">\"\"</span>,s,l),r=s,t.linewise&amp;&amp;(r=F.moveToFirstNonWhiteSpaceCharacter(e,s))}<span class=\"code-keyword\">return</span> T.registerController.pushText(t.registerName,<span class=\"code-string\">\"delete\"</span>,o,t.linewise,i.visualBlock),$(e,r,i.insertMode)},<span class=\"code-attr\">indent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.state.vim,o=n[<span class=\"code-number\">0</span>].anchor.line,i=r.visualBlock?n[n.length<span class=\"code-number\">-1</span>].anchor.line:n[<span class=\"code-number\">0</span>].head.line,a=r.visualMode?t.repeat:<span class=\"code-number\">1</span>;t.linewise&amp;&amp;i--,e.pushUndoStop();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=o;s&lt;=i;s++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>;l&lt;a;l++)e.indentLine(s,t.indentRight);<span class=\"code-keyword\">return</span> e.pushUndoStop(),F.moveToFirstNonWhiteSpaceCharacter(e,n[<span class=\"code-number\">0</span>].anchor)},<span class=\"code-attr\">changeCase</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e.getSelections(),a=[],s=t.toLower,l=<span class=\"code-number\">0</span>;l&lt;i.length;l++){<span class=\"code-keyword\">var</span> c=i[l],u=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">0</span>===s)u=c.toLowerCase();<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===s)u=c.toUpperCase();<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>;h&lt;c.length;h++){<span class=\"code-keyword\">var</span> f=c.charAt(h);u+=m(f)?f.toLowerCase():f.toUpperCase()}a.push(u)}<span class=\"code-keyword\">return</span> e.replaceSelections(a),t.shouldMoveCursor?o:!e.state.vim.visualMode&amp;&amp;t.linewise&amp;&amp;n[<span class=\"code-number\">0</span>].anchor.line+<span class=\"code-number\">1</span>==n[<span class=\"code-number\">0</span>].head.line?F.moveToFirstNonWhiteSpaceCharacter(e,r):t.linewise?r:ee(n[<span class=\"code-number\">0</span>].anchor,n[<span class=\"code-number\">0</span>].head)},<span class=\"code-attr\">yank</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=e.state.vim,i=e.getSelection(),a=o.visualMode?ee(o.sel.anchor,o.sel.head,n[<span class=\"code-number\">0</span>].head,n[<span class=\"code-number\">0</span>].anchor):r;<span class=\"code-keyword\">return</span> T.registerController.pushText(t.registerName,<span class=\"code-string\">\"yank\"</span>,i,t.linewise,o.visualBlock),a}};<span class=\"code-keyword\">var</span> q={<span class=\"code-attr\">jumpListWalk</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(!n.visualMode){<span class=\"code-keyword\">var</span> r=t.repeat,o=t.forward,i=T.jumpList.move(e,o?r:-r),a=i?i.find():<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;a=a||e.getCursor(),e.setCursor(a)}},<span class=\"code-attr\">scroll</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(!n.visualMode){<span class=\"code-keyword\">var</span> r=t.repeat||<span class=\"code-number\">1</span>,o=e.defaultTextHeight(),i=e.getScrollInfo().top,a=o*r,s=t.forward?i+a:i-a,l=X(e.getCursor()),c=e.charCoords(l,<span class=\"code-string\">\"local\"</span>);<span class=\"code-keyword\">if</span>(t.forward)s&gt;c.top?(l.line+=(s-c.top)/o,l.line=<span class=\"code-built_in\">Math</span>.ceil(l.line),e.setCursor(l),c=e.charCoords(l,<span class=\"code-string\">\"local\"</span>),e.scrollTo(<span class=\"code-literal\">null</span>,c.top)):e.scrollTo(<span class=\"code-literal\">null</span>,s);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> u=s+e.getScrollInfo().clientHeight;u&lt;c.bottom?(l.line-=(c.bottom-u)/o,l.line=<span class=\"code-built_in\">Math</span>.floor(l.line),e.setCursor(l),c=e.charCoords(l,<span class=\"code-string\">\"local\"</span>),e.scrollTo(<span class=\"code-literal\">null</span>,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(<span class=\"code-literal\">null</span>,s)}}},<span class=\"code-attr\">scrollToCursor</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.moveCurrentLineTo(t.position)},<span class=\"code-attr\">replayMacro</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.selectedCharacter,o=t.repeat,i=T.macroModeState;<span class=\"code-keyword\">for</span>(<span class=\"code-string\">\"@\"</span>==r&amp;&amp;(r=i.latestRegister);o--;)Ue(e,n,i,r)},<span class=\"code-attr\">enterMacroRecordMode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=T.macroModeState,r=t.selectedCharacter;T.registerController.isValidRegister(r)&amp;&amp;n.enterMacroRecordMode(e,r)},<span class=\"code-attr\">toggleOverwrite</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.replaceMode?(e.toggleOverwrite(!<span class=\"code-number\">1</span>),e.setOption(<span class=\"code-string\">\"keyMap\"</span>,<span class=\"code-string\">\"vim-insert\"</span>),x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"insert\"</span>})):(e.toggleOverwrite(!<span class=\"code-number\">0</span>),e.setOption(<span class=\"code-string\">\"keyMap\"</span>,<span class=\"code-string\">\"vim-replace\"</span>),x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"replace\"</span>}))},<span class=\"code-attr\">enterInsertMode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(!e.getOption(<span class=\"code-string\">\"readOnly\"</span>)){n.insertMode=!<span class=\"code-number\">0</span>,n.insertModeRepeat=t&amp;&amp;t.repeat||<span class=\"code-number\">1</span>,e.leaveVimMode();<span class=\"code-keyword\">var</span> r=t?t.insertAt:<span class=\"code-literal\">null</span>,o=n.sel,i=t.head||e.getCursor(<span class=\"code-string\">\"head\"</span>),a=e.listSelections().length;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"eol\"</span>==r)i=E(i.line,re(e,i.line));<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"charAfter\"</span>==r)i=Q(i,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"firstNonBlank\"</span>==r)i=F.moveToFirstNonWhiteSpaceCharacter(e,i);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"startOfSelectedArea\"</span>==r)n.visualBlock?(i=E(<span class=\"code-built_in\">Math</span>.min(o.head.line,o.anchor.line),<span class=\"code-built_in\">Math</span>.min(o.head.ch,o.anchor.ch)),a=<span class=\"code-built_in\">Math</span>.abs(o.head.line-o.anchor.line)+<span class=\"code-number\">1</span>):i=o.head.line&lt;o.anchor.line?o.head:E(o.anchor.line,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"endOfSelectedArea\"</span>==r)n.visualBlock?(i=E(<span class=\"code-built_in\">Math</span>.min(o.head.line,o.anchor.line),<span class=\"code-built_in\">Math</span>.max(o.head.ch+<span class=\"code-number\">1</span>,o.anchor.ch)),a=<span class=\"code-built_in\">Math</span>.abs(o.head.line-o.anchor.line)+<span class=\"code-number\">1</span>):i=o.head.line&gt;=o.anchor.line?Q(o.head,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>):E(o.anchor.line,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"inplace\"</span>==r&amp;&amp;n.visualMode)<span class=\"code-keyword\">return</span>;e.setOption(<span class=\"code-string\">\"disableInput\"</span>,!<span class=\"code-number\">1</span>),n.visualMode&amp;&amp;he(e),t&amp;&amp;t.replace?(e.toggleOverwrite(!<span class=\"code-number\">0</span>),e.setOption(<span class=\"code-string\">\"keyMap\"</span>,<span class=\"code-string\">\"vim-replace\"</span>),x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"replace\"</span>})):(e.toggleOverwrite(!<span class=\"code-number\">1</span>),e.setOption(<span class=\"code-string\">\"keyMap\"</span>,<span class=\"code-string\">\"vim-insert\"</span>),x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"insert\"</span>})),T.macroModeState.isPlaying||(e.on(<span class=\"code-string\">\"change\"</span>,qe),x.on(e.getInputField(),<span class=\"code-string\">\"keydown\"</span>,ze)),se(e,i,a)}},<span class=\"code-attr\">toggleVisualMode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r,o=t.repeat,i=e.getCursor();n.visualMode?n.visualLine^t.linewise||n.visualBlock^t.blockwise?(n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"visual\"</span>,<span class=\"code-attr\">subMode</span>:n.visualLine?<span class=\"code-string\">\"linewise\"</span>:n.visualBlock?<span class=\"code-string\">\"blockwise\"</span>:<span class=\"code-string\">\"\"</span>}),ce(e)):he(e):(n.visualMode=!<span class=\"code-number\">0</span>,n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,r=$(e,E(i.line,i.ch+o<span class=\"code-number\">-1</span>),!<span class=\"code-number\">0</span>),n.sel={<span class=\"code-attr\">anchor</span>:i,<span class=\"code-attr\">head</span>:r},x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"visual\"</span>,<span class=\"code-attr\">subMode</span>:n.visualLine?<span class=\"code-string\">\"linewise\"</span>:n.visualBlock?<span class=\"code-string\">\"blockwise\"</span>:<span class=\"code-string\">\"\"</span>}),ce(e),ke(e,n,<span class=\"code-string\">\"&lt;\"</span>,ee(i,r)),ke(e,n,<span class=\"code-string\">\"&gt;\"</span>,te(i,r)))},<span class=\"code-attr\">reselectLastSelection</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n.lastSelection;<span class=\"code-keyword\">if</span>(n.visualMode&amp;&amp;le(e,n),r){<span class=\"code-keyword\">var</span> o=r.anchorMark.find(),i=r.headMark.find();<span class=\"code-keyword\">if</span>(!o||!i)<span class=\"code-keyword\">return</span>;n.sel={<span class=\"code-attr\">anchor</span>:o,<span class=\"code-attr\">head</span>:i},n.visualMode=!<span class=\"code-number\">0</span>,n.visualLine=r.visualLine,n.visualBlock=r.visualBlock,ce(e),ke(e,n,<span class=\"code-string\">\"&lt;\"</span>,ee(o,i)),ke(e,n,<span class=\"code-string\">\"&gt;\"</span>,te(o,i)),x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"visual\"</span>,<span class=\"code-attr\">subMode</span>:n.visualLine?<span class=\"code-string\">\"linewise\"</span>:n.visualBlock?<span class=\"code-string\">\"blockwise\"</span>:<span class=\"code-string\">\"\"</span>})}},<span class=\"code-attr\">joinLines</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r,o;<span class=\"code-keyword\">if</span>(n.visualMode){<span class=\"code-keyword\">if</span>(r=e.getCursor(<span class=\"code-string\">\"anchor\"</span>),Z(o=e.getCursor(<span class=\"code-string\">\"head\"</span>),r)){<span class=\"code-keyword\">var</span> i=o;o=r,r=i}o.ch=re(e,o.line)<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-built_in\">Math</span>.max(t.repeat,<span class=\"code-number\">2</span>);r=e.getCursor(),o=$(e,E(r.line+a<span class=\"code-number\">-1</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>,l=r.line;l&lt;o.line;l++){s=re(e,r.line);i=E(r.line+<span class=\"code-number\">1</span>,re(e,r.line+<span class=\"code-number\">1</span>));<span class=\"code-keyword\">var</span> c=e.getRange(r,i);c=c.replace(<span class=\"code-regexp\">/\\n\\s*/g</span>,<span class=\"code-string\">\" \"</span>),e.replaceRange(c,r,i)}<span class=\"code-keyword\">var</span> u=E(r.line,s);n.visualMode&amp;&amp;he(e,!<span class=\"code-number\">1</span>),e.setCursor(u)},<span class=\"code-attr\">newLineAndEnterInsertMode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{n.insertMode=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> r=X(e.getCursor());r.line!==e.firstLine()||t.after?(r.line=t.after?r.line:r.line<span class=\"code-number\">-1</span>,r.ch=re(e,r.line),e.setCursor(r),(x.commands.newlineAndIndentContinueComment||x.commands.newlineAndIndent)(e)):(e.replaceRange(<span class=\"code-string\">\"\\n\"</span>,E(e.firstLine(),<span class=\"code-number\">0</span>)),e.setCursor(e.firstLine(),<span class=\"code-number\">0</span>));<span class=\"code-keyword\">this</span>.enterInsertMode(e,{<span class=\"code-attr\">repeat</span>:t.repeat},n)},<span class=\"code-attr\">paste</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=X(e.getCursor()),o=T.registerController.getRegister(t.registerName);<span class=\"code-keyword\">if</span>(f=o.toString()){<span class=\"code-keyword\">if</span>(t.matchIndent){<span class=\"code-keyword\">var</span> i=e.getOption(<span class=\"code-string\">\"tabSize\"</span>),a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.split(<span class=\"code-string\">\"\\t\"</span>).length<span class=\"code-number\">-1</span>,n=e.split(<span class=\"code-string\">\" \"</span>).length<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">return</span> t*i+<span class=\"code-number\">1</span>*n},s=e.getLine(e.getCursor().line),l=a(s.match(<span class=\"code-regexp\">/^\\s*/</span>)[<span class=\"code-number\">0</span>]),c=f.replace(<span class=\"code-regexp\">/\\n$/</span>,<span class=\"code-string\">\"\"</span>),u=f!==c,h=a(f.match(<span class=\"code-regexp\">/^\\s*/</span>)[<span class=\"code-number\">0</span>]),f=c.replace(<span class=\"code-regexp\">/^\\s*/gm</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> n=l+(a(t)-h);<span class=\"code-keyword\">if</span>(n&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(e.getOption(<span class=\"code-string\">\"indentWithTabs\"</span>)){<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Math</span>.floor(n/i);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>(r+<span class=\"code-number\">1</span>).join(<span class=\"code-string\">\"\\t\"</span>)}<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>(n+<span class=\"code-number\">1</span>).join(<span class=\"code-string\">\" \"</span>)}));f+=u?<span class=\"code-string\">\"\\n\"</span>:<span class=\"code-string\">\"\"</span>}<span class=\"code-keyword\">if</span>(t.repeat&gt;<span class=\"code-number\">1</span>)f=<span class=\"code-built_in\">Array</span>(t.repeat+<span class=\"code-number\">1</span>).join(f);<span class=\"code-keyword\">var</span> p,d,g=o.linewise,m=o.blockwise;<span class=\"code-keyword\">if</span>(g)n.visualMode?f=n.visualLine?f.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>):<span class=\"code-string\">\"\\n\"</span>+f.slice(<span class=\"code-number\">0</span>,f.length<span class=\"code-number\">-1</span>)+<span class=\"code-string\">\"\\n\"</span>:t.after?(f=<span class=\"code-string\">\"\\n\"</span>+f.slice(<span class=\"code-number\">0</span>,f.length<span class=\"code-number\">-1</span>),r.ch=re(e,r.line)):r.ch=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(m){f=f.split(<span class=\"code-string\">\"\\n\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=<span class=\"code-number\">0</span>;v&lt;f.length;v++)f[v]=<span class=\"code-string\">\"\"</span>==f[v]?<span class=\"code-string\">\" \"</span>:f[v]}r.ch+=t.after?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>}<span class=\"code-keyword\">if</span>(n.visualMode){<span class=\"code-keyword\">var</span> y;n.lastPastedText=f;<span class=\"code-keyword\">var</span> k=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.lastSelection;<span class=\"code-keyword\">return</span> t.visualMode?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=e.listSelections(),n=t[<span class=\"code-number\">0</span>],r=t[t.length<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">return</span>[Z(n.anchor,n.head)?n.anchor:n.head,Z(r.anchor,r.head)?r.head:r.anchor]}():<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=e.getCursor(),r=e.getCursor(),o=n.visualBlock;<span class=\"code-keyword\">if</span>(o){<span class=\"code-keyword\">var</span> i=o.width,a=o.height;r=E(t.line+a,t.ch+i);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=[],l=t.line;l&lt;r.line;l++){<span class=\"code-keyword\">var</span> c={<span class=\"code-attr\">anchor</span>:E(l,t.ch),<span class=\"code-attr\">head</span>:E(l,r.ch)};s.push(c)}e.setSelections(s)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> u=n.anchorMark.find(),h=n.headMark.find(),f=h.line-u.line,p=h.ch-u.ch;r={<span class=\"code-attr\">line</span>:r.line+f,<span class=\"code-attr\">ch</span>:f?r.ch:p+r.ch},n.visualLine&amp;&amp;(t=E(t.line,<span class=\"code-number\">0</span>),r=E(r.line,re(e,r.line))),e.setSelection(t,r)}<span class=\"code-keyword\">return</span>[t,r]}()}(e,n),C=k[<span class=\"code-number\">0</span>],w=k[<span class=\"code-number\">1</span>],S=e.getSelection(),M=e.listSelections(),x=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(M.length).join(<span class=\"code-string\">\"1\"</span>).split(<span class=\"code-string\">\"1\"</span>);n.lastSelection&amp;&amp;(y=n.lastSelection.headMark.find()),T.registerController.unnamedRegister.setText(S),m?(e.replaceSelections(x),w=E(C.line+f.length<span class=\"code-number\">-1</span>,C.ch),e.setCursor(C),ae(e,w),e.replaceSelections(f),p=C):n.visualBlock?(e.replaceSelections(x),e.setCursor(C),e.replaceRange(f,C,C),p=C):(e.replaceRange(f,C,w),p=e.posFromIndex(e.indexFromPos(C)+f.length<span class=\"code-number\">-1</span>)),y&amp;&amp;(n.lastSelection.headMark=e.setBookmark(y)),g&amp;&amp;(p.ch=<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(m){e.setCursor(r);<span class=\"code-keyword\">for</span>(v=<span class=\"code-number\">0</span>;v&lt;f.length;v++){<span class=\"code-keyword\">var</span> b=r.line+v;b&gt;e.lastLine()&amp;&amp;e.replaceRange(<span class=\"code-string\">\"\\n\"</span>,E(b,<span class=\"code-number\">0</span>)),re(e,b)&lt;r.ch&amp;&amp;ie(e,b,r.ch)}e.setCursor(r),ae(e,E(r.line+f.length<span class=\"code-number\">-1</span>,r.ch)),e.replaceSelections(f),p=r}<span class=\"code-keyword\">else</span> e.replaceRange(f,r),g&amp;&amp;t.after?p=E(r.line+<span class=\"code-number\">1</span>,e.findFirstNonWhiteSpaceCharacter(r.line+<span class=\"code-number\">1</span>)):g&amp;&amp;!t.after?p=E(r.line,e.findFirstNonWhiteSpaceCharacter(r.line)):!g&amp;&amp;t.after?(d=e.indexFromPos(r),p=e.posFromIndex(d+f.length<span class=\"code-number\">-1</span>)):(d=e.indexFromPos(r),p=e.posFromIndex(d+f.length));n.visualMode&amp;&amp;he(e,!<span class=\"code-number\">1</span>),e.setCursor(p)}},<span class=\"code-attr\">undo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.operation((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{G(e,x.commands.undo,t.repeat)(),e.setCursor(e.getCursor(<span class=\"code-string\">\"anchor\"</span>))}))},<span class=\"code-attr\">redo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{G(e,x.commands.redo,t.repeat)()},<span class=\"code-attr\">setRegister</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{n.inputState.registerName=t.selectedCharacter},<span class=\"code-attr\">setMark</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{ke(e,n,t.selectedCharacter,e.getCursor())},<span class=\"code-attr\">replace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r,o,i=t.selectedCharacter,a=e.getCursor(),s=e.listSelections();<span class=\"code-keyword\">if</span>(n.visualMode)a=e.getCursor(<span class=\"code-string\">\"start\"</span>),o=e.getCursor(<span class=\"code-string\">\"end\"</span>);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> l=e.getLine(a.line);(r=a.ch+t.repeat)&gt;l.length&amp;&amp;(r=l.length),o=E(a.line,r)}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\\n\"</span>==i)n.visualMode||e.replaceRange(<span class=\"code-string\">\"\"</span>,a,o),(x.commands.newlineAndIndentContinueComment||x.commands.newlineAndIndent)(e);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> c=e.getRange(a,o);<span class=\"code-keyword\">if</span>(c=c.replace(<span class=\"code-regexp\">/[^\\n]/g</span>,i),n.visualBlock){<span class=\"code-keyword\">var</span> u=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e.getOption(<span class=\"code-string\">\"tabSize\"</span>)+<span class=\"code-number\">1</span>).join(<span class=\"code-string\">\" \"</span>);c=(c=e.getSelection()).replace(<span class=\"code-regexp\">/\\t/g</span>,u).replace(<span class=\"code-regexp\">/[^\\n]/g</span>,i).split(<span class=\"code-string\">\"\\n\"</span>),e.replaceSelections(c)}<span class=\"code-keyword\">else</span> e.replaceRange(c,a,o);n.visualMode?(a=Z(s[<span class=\"code-number\">0</span>].anchor,s[<span class=\"code-number\">0</span>].head)?s[<span class=\"code-number\">0</span>].anchor:s[<span class=\"code-number\">0</span>].head,e.setCursor(a),he(e,!<span class=\"code-number\">1</span>)):e.setCursor(Q(o,<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>))}},<span class=\"code-attr\">incrementNumberToken</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r,o,i,a=e.getCursor(),s=e.getLine(a.line),l=<span class=\"code-regexp\">/(-?)(?:(0x)([\\da-f]+)|(0b|0|)(\\d+))/gi</span>;<span class=\"code-literal\">null</span>!==(n=l.exec(s))&amp;&amp;(o=(r=n.index)+n[<span class=\"code-number\">0</span>].length,!(a.ch&lt;o)););<span class=\"code-keyword\">if</span>((t.backtrack||!(o&lt;=a.ch))&amp;&amp;n){<span class=\"code-keyword\">var</span> c=n[<span class=\"code-number\">2</span>]||n[<span class=\"code-number\">4</span>],u=n[<span class=\"code-number\">3</span>]||n[<span class=\"code-number\">5</span>],h=t.increase?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>,f={<span class=\"code-string\">\"0b\"</span>:<span class=\"code-number\">2</span>,<span class=\"code-number\">0</span>:<span class=\"code-number\">8</span>,<span class=\"code-string\">\"\"</span>:<span class=\"code-number\">10</span>,<span class=\"code-string\">\"0x\"</span>:<span class=\"code-number\">16</span>}[c.toLowerCase()];i=(<span class=\"code-built_in\">parseInt</span>(n[<span class=\"code-number\">1</span>]+u,f)+h*t.repeat).toString(f);<span class=\"code-keyword\">var</span> p=c?<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(u.length-i.length+<span class=\"code-number\">1</span>+n[<span class=\"code-number\">1</span>].length).join(<span class=\"code-string\">\"0\"</span>):<span class=\"code-string\">\"\"</span>;i=<span class=\"code-string\">\"-\"</span>===i.charAt(<span class=\"code-number\">0</span>)?<span class=\"code-string\">\"-\"</span>+c+p+i.substr(<span class=\"code-number\">1</span>):c+p+i;<span class=\"code-keyword\">var</span> d=E(a.line,r),g=E(a.line,o);e.replaceRange(i,d,g),e.setCursor(E(a.line,r+i.length<span class=\"code-number\">-1</span>))}},<span class=\"code-attr\">repeatLastEdit</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(n.lastEditInputState){<span class=\"code-keyword\">var</span> r=t.repeat;r&amp;&amp;t.repeatIsExplicit?n.lastEditInputState.repeatOverride=r:r=n.lastEditInputState.repeatOverride||r,Ge(e,n,r,!<span class=\"code-number\">1</span>)}},<span class=\"code-attr\">indent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.indentLine(e.getCursor().line,t.indentRight)},<span class=\"code-attr\">exitInsertMode</span>:Fe};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-built_in\">Math</span>.max(e.firstLine(),t.line),e.lastLine()),o=re(e,r)<span class=\"code-number\">-1</span>;o=n?o+<span class=\"code-number\">1</span>:o;<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,t.ch),o);<span class=\"code-keyword\">return</span> E(r,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">J</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e)e.hasOwnProperty(n)&amp;&amp;(t[n]=e[n]);<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Q</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"object\"</span>===b(t)&amp;&amp;(n=t.ch,t=t.line),E(e.line+t,e.ch+n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">z</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"&lt;character&gt;\"</span>==t.slice(<span class=\"code-number\">-11</span>)){<span class=\"code-keyword\">var</span> n=t.length<span class=\"code-number\">-11</span>,r=e.slice(<span class=\"code-number\">0</span>,n),o=t.slice(<span class=\"code-number\">0</span>,n);<span class=\"code-keyword\">return</span> r==o&amp;&amp;e.length&gt;n?<span class=\"code-string\">\"full\"</span>:<span class=\"code-number\">0</span>==o.indexOf(r)&amp;&amp;<span class=\"code-string\">\"partial\"</span>}<span class=\"code-keyword\">return</span> e==t?<span class=\"code-string\">\"full\"</span>:<span class=\"code-number\">0</span>==t.indexOf(e)&amp;&amp;<span class=\"code-string\">\"partial\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">G</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;n;r++)t(e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">X</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> E(e.line,e.ch)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Y</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.ch==t.ch&amp;&amp;e.line==t.line}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Z</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.line&lt;t.line||e.line==t.line&amp;&amp;e.ch&lt;t.ch}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ee</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">2</span>&amp;&amp;(t=ee.apply(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>,<span class=\"code-number\">1</span>))),Z(e,t)?e:t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">te</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">2</span>&amp;&amp;(t=te.apply(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>,<span class=\"code-number\">1</span>))),Z(e,t)?t:e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ne</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=Z(e,t),o=Z(t,n);<span class=\"code-keyword\">return</span> r&amp;&amp;o}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">re</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.getLine(t).length}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.trim?e.trim():e.replace(<span class=\"code-regexp\">/^\\s+|\\s+$/g</span>,<span class=\"code-string\">\"\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ie</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=re(e,t),o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(n-r+<span class=\"code-number\">1</span>).join(<span class=\"code-string\">\" \"</span>);e.setCursor(E(t,r)),e.replaceRange(o,e.getCursor())}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ae</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=[],r=e.listSelections(),o=X(e.clipPos(t)),i=!Y(t,o),a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;e.length;r++){<span class=\"code-keyword\">var</span> o=<span class=\"code-string\">\"head\"</span>!=n&amp;&amp;Y(e[r].anchor,t),i=<span class=\"code-string\">\"anchor\"</span>!=n&amp;&amp;Y(e[r].head,t);<span class=\"code-keyword\">if</span>(o||i)<span class=\"code-keyword\">return</span> r}<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>}(r,e.getCursor(<span class=\"code-string\">\"head\"</span>)),s=Y(r[a].head,r[a].anchor),l=r.length<span class=\"code-number\">-1</span>,c=l-a&gt;a?l:<span class=\"code-number\">0</span>,u=r[c].anchor,h=<span class=\"code-built_in\">Math</span>.min(u.line,o.line),f=<span class=\"code-built_in\">Math</span>.max(u.line,o.line),p=u.ch,d=o.ch,g=r[c].head.ch-p,m=d-p;g&gt;<span class=\"code-number\">0</span>&amp;&amp;m&lt;=<span class=\"code-number\">0</span>?(p++,i||d--):g&lt;<span class=\"code-number\">0</span>&amp;&amp;m&gt;=<span class=\"code-number\">0</span>?(p--,s||d++):g&lt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-number\">-1</span>==m&amp;&amp;(p--,d++);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=h;v&lt;=f;v++){<span class=\"code-keyword\">var</span> y={<span class=\"code-attr\">anchor</span>:<span class=\"code-keyword\">new</span> E(v,p),<span class=\"code-attr\">head</span>:<span class=\"code-keyword\">new</span> E(v,d)};n.push(y)}<span class=\"code-keyword\">return</span> e.setSelections(n),t.ch=d,u.ch=p,u}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">se</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=[],o=<span class=\"code-number\">0</span>;o&lt;n;o++){<span class=\"code-keyword\">var</span> i=Q(t,o,<span class=\"code-number\">0</span>);r.push({<span class=\"code-attr\">anchor</span>:i,<span class=\"code-attr\">head</span>:i})}e.setSelections(r,<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">le</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.sel.anchor,r=t.sel.head;t.lastPastedText&amp;&amp;(r=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=<span class=\"code-literal\">null</span>),t.lastSelection={<span class=\"code-attr\">anchorMark</span>:e.setBookmark(n),<span class=\"code-attr\">headMark</span>:e.setBookmark(r),<span class=\"code-attr\">anchor</span>:X(n),<span class=\"code-attr\">head</span>:X(r),<span class=\"code-attr\">visualMode</span>:t.visualMode,<span class=\"code-attr\">visualLine</span>:t.visualLine,<span class=\"code-attr\">visualBlock</span>:t.visualBlock}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ce</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.state.vim,o=ue(e,t=t||r.sel,n=n||r.visualLine?<span class=\"code-string\">\"line\"</span>:r.visualBlock?<span class=\"code-string\">\"block\"</span>:<span class=\"code-string\">\"char\"</span>,r.visualMode&amp;&amp;<span class=\"code-string\">\"char\"</span>===n);e.setSelections(o.ranges,o.primary),Je(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ue</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=X(t.head),i=X(t.anchor);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"char\"</span>==n){<span class=\"code-keyword\">var</span> a=r||Z(t.head,t.anchor)?<span class=\"code-number\">0</span>:<span class=\"code-number\">1</span>,s=Z(t.head,t.anchor)?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> o=Q(t.head,<span class=\"code-number\">0</span>,a),{<span class=\"code-attr\">ranges</span>:[{<span class=\"code-attr\">anchor</span>:i=Q(t.anchor,<span class=\"code-number\">0</span>,s),<span class=\"code-attr\">head</span>:o}],<span class=\"code-attr\">primary</span>:<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"line\"</span>==n){<span class=\"code-keyword\">if</span>(Z(t.head,t.anchor))o.ch=<span class=\"code-number\">0</span>,i.ch=re(e,i.line);<span class=\"code-keyword\">else</span>{i.ch=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> l=e.lastLine();o.line&gt;l&amp;&amp;(o.line=l),o.ch=re(e,o.line)}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">ranges</span>:[{<span class=\"code-attr\">anchor</span>:i,<span class=\"code-attr\">head</span>:o}],<span class=\"code-attr\">primary</span>:<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"block\"</span>==n){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-built_in\">Math</span>.min(i.line,o.line),u=<span class=\"code-built_in\">Math</span>.min(i.ch,o.ch),h=<span class=\"code-built_in\">Math</span>.max(i.line,o.line),f=<span class=\"code-built_in\">Math</span>.max(i.ch,o.ch)+<span class=\"code-number\">1</span>,p=h-c+<span class=\"code-number\">1</span>,d=o.line==c?<span class=\"code-number\">0</span>:p<span class=\"code-number\">-1</span>,g=[],m=<span class=\"code-number\">0</span>;m&lt;p;m++)g.push({<span class=\"code-attr\">anchor</span>:E(c+m,u),<span class=\"code-attr\">head</span>:E(c+m,f)});<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">ranges</span>:g,<span class=\"code-attr\">primary</span>:d}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">he</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=e.state.vim;!<span class=\"code-number\">1</span>!==t&amp;&amp;e.setCursor($(e,n.sel.head)),le(e,n),n.visualMode=!<span class=\"code-number\">1</span>,n.visualLine=!<span class=\"code-number\">1</span>,n.visualBlock=!<span class=\"code-number\">1</span>,x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"normal\"</span>}),n.fakeCursor&amp;&amp;n.fakeCursor.clear()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fe</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.getCursor(<span class=\"code-string\">\"head\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>==e.getSelection().length&amp;&amp;(t=ee(t,e.getCursor(<span class=\"code-string\">\"anchor\"</span>))),t}(e),l=e.getLine(i.line),c=i.ch,u=o?a[<span class=\"code-number\">0</span>]:s[<span class=\"code-number\">0</span>];!u(l.charAt(c));)<span class=\"code-keyword\">if</span>(++c&gt;=l.length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;r?u=s[<span class=\"code-number\">0</span>]:(u=a[<span class=\"code-number\">0</span>])(l.charAt(c))||(u=a[<span class=\"code-number\">1</span>]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=c,f=c;u(l.charAt(h))&amp;&amp;h&lt;l.length;)h++;<span class=\"code-keyword\">for</span>(;u(l.charAt(f))&amp;&amp;f&gt;=<span class=\"code-number\">0</span>;)f--;<span class=\"code-keyword\">if</span>(f++,t){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=h;<span class=\"code-regexp\">/\\s/</span>.test(l.charAt(h))&amp;&amp;h&lt;l.length;)h++;<span class=\"code-keyword\">if</span>(p==h){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=f;<span class=\"code-regexp\">/\\s/</span>.test(l.charAt(f<span class=\"code-number\">-1</span>))&amp;&amp;f&gt;<span class=\"code-number\">0</span>;)f--;f||(f=d)}}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:E(i.line,f),<span class=\"code-attr\">end</span>:E(i.line,h)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pe</span>(<span class=\"code-params\">e,t,n</span>)</span>{Y(t,n)||T.jumpList.add(e,t,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">de</span>(<span class=\"code-params\">e,t</span>)</span>{T.lastCharacterSearch.increment=e,T.lastCharacterSearch.forward=t.forward,T.lastCharacterSearch.selectedCharacter=t.selectedCharacter}<span class=\"code-keyword\">var</span> ge={<span class=\"code-string\">\"(\"</span>:<span class=\"code-string\">\"bracket\"</span>,<span class=\"code-string\">\")\"</span>:<span class=\"code-string\">\"bracket\"</span>,<span class=\"code-string\">\"{\"</span>:<span class=\"code-string\">\"bracket\"</span>,<span class=\"code-string\">\"}\"</span>:<span class=\"code-string\">\"bracket\"</span>,<span class=\"code-string\">\"[\"</span>:<span class=\"code-string\">\"section\"</span>,<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"section\"</span>,<span class=\"code-string\">\"*\"</span>:<span class=\"code-string\">\"comment\"</span>,<span class=\"code-string\">\"/\"</span>:<span class=\"code-string\">\"comment\"</span>,<span class=\"code-attr\">m</span>:<span class=\"code-string\">\"method\"</span>,<span class=\"code-attr\">M</span>:<span class=\"code-string\">\"method\"</span>,<span class=\"code-string\">\"#\"</span>:<span class=\"code-string\">\"preprocess\"</span>},me={<span class=\"code-attr\">bracket</span>:{<span class=\"code-attr\">isComplete</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.nextCh===e.symb){<span class=\"code-keyword\">if</span>(e.depth++,e.depth&gt;=<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">else</span> e.nextCh===e.reverseSymb&amp;&amp;e.depth--;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}},<span class=\"code-attr\">section</span>:{<span class=\"code-attr\">init</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.curMoveThrough=!<span class=\"code-number\">0</span>,e.symb=(e.forward?<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"[\"</span>)===e.symb?<span class=\"code-string\">\"{\"</span>:<span class=\"code-string\">\"}\"</span>},<span class=\"code-attr\">isComplete</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===e.index&amp;&amp;e.nextCh===e.symb}},<span class=\"code-attr\">comment</span>:{<span class=\"code-attr\">isComplete</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"*\"</span>===e.lastCh&amp;&amp;<span class=\"code-string\">\"/\"</span>===e.nextCh;<span class=\"code-keyword\">return</span> e.lastCh=e.nextCh,t}},<span class=\"code-attr\">method</span>:{<span class=\"code-attr\">init</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.symb=<span class=\"code-string\">\"m\"</span>===e.symb?<span class=\"code-string\">\"{\"</span>:<span class=\"code-string\">\"}\"</span>,e.reverseSymb=<span class=\"code-string\">\"{\"</span>===e.symb?<span class=\"code-string\">\"}\"</span>:<span class=\"code-string\">\"{\"</span>},<span class=\"code-attr\">isComplete</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.nextCh===e.symb}},<span class=\"code-attr\">preprocess</span>:{<span class=\"code-attr\">init</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.index=<span class=\"code-number\">0</span>},<span class=\"code-attr\">isComplete</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"#\"</span>===e.nextCh){<span class=\"code-keyword\">var</span> t=e.lineText.match(<span class=\"code-regexp\">/#(\\w+)/</span>)[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"endif\"</span>===t){<span class=\"code-keyword\">if</span>(e.forward&amp;&amp;<span class=\"code-number\">0</span>===e.depth)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;e.depth++}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"if\"</span>===t){<span class=\"code-keyword\">if</span>(!e.forward&amp;&amp;<span class=\"code-number\">0</span>===e.depth)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;e.depth--}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"else\"</span>===t&amp;&amp;<span class=\"code-number\">0</span>===e.depth)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ve</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{<span class=\"code-keyword\">var</span> i=t.line,l=t.ch,c=e.getLine(i),u=n?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>,h=r?s:a;<span class=\"code-keyword\">if</span>(o&amp;&amp;<span class=\"code-string\">\"\"</span>==c){<span class=\"code-keyword\">if</span>(i+=u,c=e.getLine(i),!d(e,i))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;l=n?<span class=\"code-number\">0</span>:c.length}<span class=\"code-keyword\">for</span>(;;){<span class=\"code-keyword\">if</span>(o&amp;&amp;<span class=\"code-string\">\"\"</span>==c)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">from</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">to</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">line</span>:i};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=u&gt;<span class=\"code-number\">0</span>?c.length:<span class=\"code-number\">-1</span>,p=f,g=f;l!=f;){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=!<span class=\"code-number\">1</span>,v=<span class=\"code-number\">0</span>;v&lt;h.length&amp;&amp;!m;++v)<span class=\"code-keyword\">if</span>(h[v](c.charAt(l))){<span class=\"code-keyword\">for</span>(p=l;l!=f&amp;&amp;h[v](c.charAt(l));)l+=u;<span class=\"code-keyword\">if</span>(m=p!=(g=l),p==t.ch&amp;&amp;i==t.line&amp;&amp;g==p+u)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">from</span>:<span class=\"code-built_in\">Math</span>.min(p,g+<span class=\"code-number\">1</span>),<span class=\"code-attr\">to</span>:<span class=\"code-built_in\">Math</span>.max(p,g),<span class=\"code-attr\">line</span>:i}}m||(l+=u)}<span class=\"code-keyword\">if</span>(!d(e,i+=u))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;c=e.getLine(i),l=u&gt;<span class=\"code-number\">0</span>?<span class=\"code-number\">0</span>:c.length}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ye</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o,i=e.getCursor(),a=i.ch,s=<span class=\"code-number\">0</span>;s&lt;t;s++){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>==(o=Ce(a,e.getLine(i.line),r,n,!<span class=\"code-number\">0</span>)))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;a=o}<span class=\"code-keyword\">return</span> E(e.getCursor().line,o)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ke</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{k(n,f)&amp;&amp;(t.marks[n]&amp;&amp;t.marks[n].clear(),t.marks[n]=e.setBookmark(r))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ce</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span> r?<span class=\"code-number\">-1</span>==(i=t.indexOf(n,e+<span class=\"code-number\">1</span>))||o||(i-=<span class=\"code-number\">1</span>):<span class=\"code-number\">-1</span>==(i=t.lastIndexOf(n,e<span class=\"code-number\">-1</span>))||o||(i+=<span class=\"code-number\">1</span>),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">we</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{<span class=\"code-keyword\">var</span> i,a=t.line,s=e.firstLine(),l=e.lastLine(),c=a;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!e.getLine(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">h</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">return</span> n?u(e)!=u(e+t):!u(e)&amp;&amp;u(e+t)}<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">for</span>(;s&lt;=c&amp;&amp;c&lt;=l&amp;&amp;n&gt;<span class=\"code-number\">0</span>;)h(c,r)&amp;&amp;n--,c+=r;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> E(c,<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">var</span> f=e.state.vim;<span class=\"code-keyword\">if</span>(f.visualLine&amp;&amp;h(a,<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>)){<span class=\"code-keyword\">var</span> p=f.sel.anchor;h(p.line,<span class=\"code-number\">-1</span>,!<span class=\"code-number\">0</span>)&amp;&amp;(o&amp;&amp;p.line==a||(a+=<span class=\"code-number\">1</span>))}<span class=\"code-keyword\">var</span> d=u(a);<span class=\"code-keyword\">for</span>(c=a;c&lt;=l&amp;&amp;n;c++)h(c,<span class=\"code-number\">1</span>,!<span class=\"code-number\">0</span>)&amp;&amp;(o&amp;&amp;u(c)==d||n--);<span class=\"code-keyword\">for</span>(i=<span class=\"code-keyword\">new</span> E(c,<span class=\"code-number\">0</span>),c&gt;l&amp;&amp;!d?d=!<span class=\"code-number\">0</span>:o=!<span class=\"code-number\">1</span>,c=a;c&gt;s&amp;&amp;(o&amp;&amp;u(c)!=d&amp;&amp;c!=a||!h(c,<span class=\"code-number\">-1</span>,!<span class=\"code-number\">0</span>));c--);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:<span class=\"code-keyword\">new</span> E(c,<span class=\"code-number\">0</span>),<span class=\"code-attr\">end</span>:i}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Se</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Me</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.state.vim;<span class=\"code-keyword\">return</span> t.searchState_||(t.searchState_=<span class=\"code-keyword\">new</span> Se)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xe</span>(<span class=\"code-params\">e,t,n,r,o</span>)</span>{e.openDialog?e.openDialog(t,r,{<span class=\"code-attr\">bottom</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">value</span>:o.value,<span class=\"code-attr\">onKeyDown</span>:o.onKeyDown,<span class=\"code-attr\">onKeyUp</span>:o.onKeyUp,<span class=\"code-attr\">selectValueOnOpen</span>:!<span class=\"code-number\">1</span>}):r(prompt(n,<span class=\"code-string\">\"\"</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">be</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=Ae(e,t)||[];<span class=\"code-keyword\">if</span>(!n.length)<span class=\"code-keyword\">return</span>[];<span class=\"code-keyword\">var</span> r=[];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===n[<span class=\"code-number\">0</span>]){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o&lt;n.length;o++)<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> n[o]&amp;&amp;r.push(e.substring(n[o]+<span class=\"code-number\">1</span>,n[o+<span class=\"code-number\">1</span>]));<span class=\"code-keyword\">return</span> r}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ae</span>(<span class=\"code-params\">e,t</span>)</span>{t||(t=<span class=\"code-string\">\"/\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=!<span class=\"code-number\">1</span>,r=[],o=<span class=\"code-number\">0</span>;o&lt;e.length;o++){<span class=\"code-keyword\">var</span> i=e.charAt(o);n||i!=t||r.push(o),n=!n&amp;&amp;<span class=\"code-string\">\"\\\\\"</span>==i}<span class=\"code-keyword\">return</span> r}w(<span class=\"code-string\">\"pcre\"</span>,!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"boolean\"</span>),Se.prototype={<span class=\"code-attr\">getQuery</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> T.query},<span class=\"code-attr\">setQuery</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{T.query=e},<span class=\"code-attr\">getOverlay</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.searchOverlay},<span class=\"code-attr\">setOverlay</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.searchOverlay=e},<span class=\"code-attr\">isReversed</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> T.isReversed},<span class=\"code-attr\">setReversed</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{T.isReversed=e},<span class=\"code-attr\">getScrollbarAnnotate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.annotate},<span class=\"code-attr\">setScrollbarAnnotate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.annotate=e}};<span class=\"code-keyword\">var</span> Le={<span class=\"code-string\">\"\\\\n\"</span>:<span class=\"code-string\">\"\\n\"</span>,<span class=\"code-string\">\"\\\\r\"</span>:<span class=\"code-string\">\"\\r\"</span>,<span class=\"code-string\">\"\\\\t\"</span>:<span class=\"code-string\">\"\\t\"</span>};<span class=\"code-keyword\">var</span> Ee={<span class=\"code-string\">\"\\\\/\"</span>:<span class=\"code-string\">\"/\"</span>,<span class=\"code-string\">\"\\\\\\\\\"</span>:<span class=\"code-string\">\"\\\\\"</span>,<span class=\"code-string\">\"\\\\n\"</span>:<span class=\"code-string\">\"\\n\"</span>,<span class=\"code-string\">\"\\\\r\"</span>:<span class=\"code-string\">\"\\r\"</span>,<span class=\"code-string\">\"\\\\t\"</span>:<span class=\"code-string\">\"\\t\"</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Te</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(T.registerController.getRegister(<span class=\"code-string\">\"/\"</span>).setText(e),e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">RegExp</span>)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> r,o,i=Ae(e,<span class=\"code-string\">\"/\"</span>);i.length?(r=e.substring(<span class=\"code-number\">0</span>,i[<span class=\"code-number\">0</span>]),o=<span class=\"code-number\">-1</span>!=e.substring(i[<span class=\"code-number\">0</span>]).indexOf(<span class=\"code-string\">\"i\"</span>)):r=e;<span class=\"code-keyword\">return</span> r?(M(<span class=\"code-string\">\"pcre\"</span>)||(r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=!<span class=\"code-number\">1</span>,n=[],r=<span class=\"code-number\">-1</span>;r&lt;e.length;r++){<span class=\"code-keyword\">var</span> o=e.charAt(r)||<span class=\"code-string\">\"\"</span>,i=e.charAt(r+<span class=\"code-number\">1</span>)||<span class=\"code-string\">\"\"</span>,a=i&amp;&amp;<span class=\"code-number\">-1</span>!=<span class=\"code-string\">\"|(){\"</span>.indexOf(i);t?(<span class=\"code-string\">\"\\\\\"</span>===o&amp;&amp;a||n.push(o),t=!<span class=\"code-number\">1</span>):<span class=\"code-string\">\"\\\\\"</span>===o?(t=!<span class=\"code-number\">0</span>,i&amp;&amp;<span class=\"code-number\">-1</span>!=<span class=\"code-string\">\"}\"</span>.indexOf(i)&amp;&amp;(a=!<span class=\"code-number\">0</span>),a&amp;&amp;<span class=\"code-string\">\"\\\\\"</span>!==i||n.push(o)):(n.push(o),a&amp;&amp;<span class=\"code-string\">\"\\\\\"</span>!==i&amp;&amp;n.push(<span class=\"code-string\">\"\\\\\"</span>))}<span class=\"code-keyword\">return</span> n.join(<span class=\"code-string\">\"\"</span>)}(r)),n&amp;&amp;(t=<span class=\"code-regexp\">/^[^A-Z]*$/</span>.test(r)),<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(r,t||o?<span class=\"code-string\">\"i\"</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)):<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Re</span>(<span class=\"code-params\">e,t</span>)</span>{e.openNotification?e.openNotification(<span class=\"code-string\">'&lt;span style=\"color: red\"&gt;'</span>+t+<span class=\"code-string\">\"&lt;/span&gt;\"</span>,{<span class=\"code-attr\">bottom</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">duration</span>:<span class=\"code-number\">5e3</span>}):alert(t)}<span class=\"code-keyword\">var</span> Oe=<span class=\"code-string\">\"(Javascript regexp)\"</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ie</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n,r,o,i=(t.prefix||<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\" \"</span>+(t.desc||<span class=\"code-string\">\"\"</span>);xe(e,(n=t.prefix,r=t.desc,o=<span class=\"code-string\">'&lt;span style=\"font-family: monospace; white-space: pre\"&gt;'</span>+(n||<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">'&lt;input type=\"text\"&gt;&lt;/span&gt;'</span>,r&amp;&amp;(o+=<span class=\"code-string\">' &lt;span style=\"color: #888\"&gt;'</span>+r+<span class=\"code-string\">\"&lt;/span&gt;\"</span>),o),i,t.onClose,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Be</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">var</span> o=Me(e),i=Te(t,!!n,!!r);<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">return</span> Pe(e,i),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">RegExp</span>&amp;&amp;t <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">RegExp</span>){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[<span class=\"code-string\">\"global\"</span>,<span class=\"code-string\">\"multiline\"</span>,<span class=\"code-string\">\"ignoreCase\"</span>,<span class=\"code-string\">\"source\"</span>],r=<span class=\"code-number\">0</span>;r&lt;n.length;r++){<span class=\"code-keyword\">var</span> o=n[r];<span class=\"code-keyword\">if</span>(e[o]!==t[o])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}(i,o.getQuery())?i:(o.setQuery(i),i)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pe</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=Me(e),r=n.getOverlay();r&amp;&amp;t==r.query||(r&amp;&amp;e.removeOverlay(r),r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"^\"</span>==e.source.charAt(<span class=\"code-number\">0</span>))<span class=\"code-keyword\">var</span> t=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">token</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">if</span>(!t||n.sol()){<span class=\"code-keyword\">var</span> r=n.match(e,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>==r[<span class=\"code-number\">0</span>].length?(n.next(),<span class=\"code-string\">\"searching\"</span>):n.sol()||(n.backUp(<span class=\"code-number\">1</span>),e.exec(n.next()+r[<span class=\"code-number\">0</span>]))?(n.match(e),<span class=\"code-string\">\"searching\"</span>):(n.next(),<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">for</span>(;!n.eol()&amp;&amp;(n.next(),!n.match(e,!<span class=\"code-number\">1</span>)););}<span class=\"code-keyword\">else</span> n.skipToEnd()},<span class=\"code-attr\">query</span>:e}}(t),e.addOverlay(r),e.showMatchesOnScrollbar&amp;&amp;(n.getScrollbarAnnotate()&amp;&amp;n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(r))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ne</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=<span class=\"code-number\">1</span>),e.operation((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=e.getCursor(),i=e.getSearchCursor(n,o),a=<span class=\"code-number\">0</span>;a&lt;r;a++){<span class=\"code-keyword\">var</span> s=i.find(t);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>==a&amp;&amp;s&amp;&amp;Y(i.from(),o)&amp;&amp;(s=i.find(t)),!s&amp;&amp;!(i=e.getSearchCursor(n,t?E(e.lastLine()):E(e.firstLine(),<span class=\"code-number\">0</span>))).find(t))<span class=\"code-keyword\">return</span>}<span class=\"code-keyword\">return</span> i.from()}))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ke</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Me(e);e.removeOverlay(Me(e).getOverlay()),t.setOverlay(<span class=\"code-literal\">null</span>),t.getScrollbarAnnotate()&amp;&amp;(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(<span class=\"code-literal\">null</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ve</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.getUserVisibleLines()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">We</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"'\"</span>==n){<span class=\"code-keyword\">var</span> r=e.doc.history.done,o=r[r.length<span class=\"code-number\">-2</span>];<span class=\"code-keyword\">return</span> o&amp;&amp;o.ranges&amp;&amp;o.ranges[<span class=\"code-number\">0</span>].head}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\".\"</span>==n){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>==e.doc.history.lastModTime)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> i=e.doc.history.done.filter((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.changes)<span class=\"code-keyword\">return</span> e}));<span class=\"code-keyword\">return</span> i.reverse(),i[<span class=\"code-number\">0</span>].changes[<span class=\"code-number\">0</span>].to}<span class=\"code-keyword\">var</span> a=t.marks[n];<span class=\"code-keyword\">return</span> a&amp;&amp;a.find()}<span class=\"code-keyword\">var</span> De=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.buildCommandMap_()};De.prototype={<span class=\"code-attr\">processCommand</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;e.operation((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.curOp.isVimOp=!<span class=\"code-number\">0</span>,r._processCommand(e,t,n)}))},<span class=\"code-attr\">_processCommand</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.state.vim,o=T.registerController.getRegister(<span class=\"code-string\">\":\"</span>),i=o.toString();r.visualMode&amp;&amp;he(e);<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> x.StringStream(t);o.setText(t);<span class=\"code-keyword\">var</span> s,l,c=n||{};c.input=t;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">this</span>.parseInput_(e,a,c)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">throw</span> Re(e,t),t}<span class=\"code-keyword\">if</span>(c.commandName){<span class=\"code-keyword\">if</span>(s=<span class=\"code-keyword\">this</span>.matchCommand_(c.commandName)){<span class=\"code-keyword\">if</span>(l=s.name,s.excludeFromCommandHistory&amp;&amp;o.setText(i),<span class=\"code-keyword\">this</span>.parseCommandArgs_(a,c,s),<span class=\"code-string\">\"exToKey\"</span>==s.type){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u&lt;s.toKeys.length;u++)x.Vim.handleKey(e,s.toKeys[u],<span class=\"code-string\">\"mapping\"</span>);<span class=\"code-keyword\">return</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"exToEx\"</span>==s.type)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.processCommand(e,s.toInput)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c.line&amp;&amp;(l=<span class=\"code-string\">\"move\"</span>);<span class=\"code-keyword\">if</span>(l)<span class=\"code-keyword\">try</span>{_e[l](e,c),s&amp;&amp;s.possiblyAsync||!c.callback||c.callback()}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">throw</span> Re(e,t),t}<span class=\"code-keyword\">else</span> Re(e,<span class=\"code-string\">'Not an editor command \":'</span>+t+<span class=\"code-string\">'\"'</span>)},<span class=\"code-attr\">parseInput_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{t.eatWhile(<span class=\"code-string\">\":\"</span>),t.eat(<span class=\"code-string\">\"%\"</span>)?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=<span class=\"code-keyword\">this</span>.parseLineSpec_(e,t),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n.line&amp;&amp;t.eat(<span class=\"code-string\">\",\"</span>)&amp;&amp;(n.lineEnd=<span class=\"code-keyword\">this</span>.parseLineSpec_(e,t)));<span class=\"code-keyword\">var</span> r=t.match(<span class=\"code-regexp\">/^(\\w+)/</span>);<span class=\"code-keyword\">return</span> n.commandName=r?r[<span class=\"code-number\">1</span>]:t.match(<span class=\"code-regexp\">/.*/</span>)[<span class=\"code-number\">0</span>],n},<span class=\"code-attr\">parseLineSpec_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.match(<span class=\"code-regexp\">/^(\\d+)/</span>);<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(n[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>)<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">switch</span>(t.next()){<span class=\"code-keyword\">case</span><span class=\"code-string\">\".\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.parseLineSpecOffset_(t,e.getCursor().line);<span class=\"code-keyword\">case</span><span class=\"code-string\">\"$\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.parseLineSpecOffset_(t,e.lastLine());<span class=\"code-keyword\">case</span><span class=\"code-string\">\"'\"</span>:<span class=\"code-keyword\">var</span> r=t.next(),o=We(e,e.state.vim,r);<span class=\"code-keyword\">if</span>(!o)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Mark not set\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.parseLineSpecOffset_(t,o.line);<span class=\"code-keyword\">case</span><span class=\"code-string\">\"-\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"+\"</span>:<span class=\"code-keyword\">return</span> t.backUp(<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.parseLineSpecOffset_(t,e.getCursor().line);<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> t.backUp(<span class=\"code-number\">1</span>)}},<span class=\"code-attr\">parseLineSpecOffset_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=e.match(<span class=\"code-regexp\">/^([+-])?(\\d+)/</span>);<span class=\"code-keyword\">if</span>(n){<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">parseInt</span>(n[<span class=\"code-number\">2</span>],<span class=\"code-number\">10</span>);<span class=\"code-string\">\"-\"</span>==n[<span class=\"code-number\">1</span>]?t-=r:t+=r}<span class=\"code-keyword\">return</span> t},<span class=\"code-attr\">parseCommandArgs_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(!e.eol()){t.argString=e.match(<span class=\"code-regexp\">/.*/</span>)[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">var</span> r=n.argDelimiter||<span class=\"code-regexp\">/\\s+/</span>,o=oe(t.argString).split(r);o.length&amp;&amp;o[<span class=\"code-number\">0</span>]&amp;&amp;(t.args=o)}},<span class=\"code-attr\">matchCommand_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.length;t&gt;<span class=\"code-number\">0</span>;t--){<span class=\"code-keyword\">var</span> n=e.substring(<span class=\"code-number\">0</span>,t);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.commandMap_[n]){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.commandMap_[n];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===r.name.indexOf(e))<span class=\"code-keyword\">return</span> r}}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">buildCommandMap_</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.commandMap_={};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;L.length;e++){<span class=\"code-keyword\">var</span> t=L[e],n=t.shortName||t.name;<span class=\"code-keyword\">this</span>.commandMap_[n]=t}},<span class=\"code-attr\">map</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\":\"</span>!=e&amp;&amp;<span class=\"code-string\">\":\"</span>==e.charAt(<span class=\"code-number\">0</span>)){<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Mode not supported for ex mappings\"</span>);<span class=\"code-keyword\">var</span> r=e.substring(<span class=\"code-number\">1</span>);<span class=\"code-string\">\":\"</span>!=t&amp;&amp;<span class=\"code-string\">\":\"</span>==t.charAt(<span class=\"code-number\">0</span>)?<span class=\"code-keyword\">this</span>.commandMap_[r]={<span class=\"code-attr\">name</span>:r,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"exToEx\"</span>,<span class=\"code-attr\">toInput</span>:t.substring(<span class=\"code-number\">1</span>),<span class=\"code-attr\">user</span>:!<span class=\"code-number\">0</span>}:<span class=\"code-keyword\">this</span>.commandMap_[r]={<span class=\"code-attr\">name</span>:r,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"exToKey\"</span>,<span class=\"code-attr\">toKeys</span>:t,<span class=\"code-attr\">user</span>:!<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\":\"</span>!=t&amp;&amp;<span class=\"code-string\">\":\"</span>==t.charAt(<span class=\"code-number\">0</span>)){<span class=\"code-keyword\">var</span> o={<span class=\"code-attr\">keys</span>:e,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToEx\"</span>,<span class=\"code-attr\">exArgs</span>:{<span class=\"code-attr\">input</span>:t.substring(<span class=\"code-number\">1</span>)}};n&amp;&amp;(o.context=n),A.unshift(o)}<span class=\"code-keyword\">else</span>{o={<span class=\"code-attr\">keys</span>:e,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"keyToKey\"</span>,<span class=\"code-attr\">toKeys</span>:t};n&amp;&amp;(o.context=n),A.unshift(o)}},<span class=\"code-attr\">unmap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\":\"</span>!=e&amp;&amp;<span class=\"code-string\">\":\"</span>==e.charAt(<span class=\"code-number\">0</span>)){<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Mode not supported for ex mappings\"</span>);<span class=\"code-keyword\">var</span> n=e.substring(<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.commandMap_[n]&amp;&amp;<span class=\"code-keyword\">this</span>.commandMap_[n].user)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.commandMap_[n]}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=e,o=<span class=\"code-number\">0</span>;o&lt;A.length;o++)<span class=\"code-keyword\">if</span>(r==A[o].keys&amp;&amp;A[o].context===t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> A.splice(o,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"No such mapping.\"</span>)}};<span class=\"code-keyword\">var</span> _e={<span class=\"code-attr\">colorscheme</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{!t.args||t.args.length&lt;<span class=\"code-number\">1</span>?Re(e,e.getOption(<span class=\"code-string\">\"theme\"</span>)):e.setOption(<span class=\"code-string\">\"theme\"</span>,t.args[<span class=\"code-number\">0</span>])},<span class=\"code-attr\">map</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.args;!r||r.length&lt;<span class=\"code-number\">2</span>?e&amp;&amp;Re(e,<span class=\"code-string\">\"Invalid mapping: \"</span>+t.input):je.map(r[<span class=\"code-number\">0</span>],r[<span class=\"code-number\">1</span>],n)},<span class=\"code-attr\">imap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.map(e,t,<span class=\"code-string\">\"insert\"</span>)},<span class=\"code-attr\">nmap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.map(e,t,<span class=\"code-string\">\"normal\"</span>)},<span class=\"code-attr\">vmap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.map(e,t,<span class=\"code-string\">\"visual\"</span>)},<span class=\"code-attr\">unmap</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=t.args;!r||r.length&lt;<span class=\"code-number\">1</span>?e&amp;&amp;Re(e,<span class=\"code-string\">\"No such mapping: \"</span>+t.input):je.unmap(r[<span class=\"code-number\">0</span>],n)},<span class=\"code-attr\">move</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{j.processCommand(e,e.state.vim,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"motion\"</span>,<span class=\"code-attr\">motion</span>:<span class=\"code-string\">\"moveToLineOrEdgeOfDocument\"</span>,<span class=\"code-attr\">motionArgs</span>:{<span class=\"code-attr\">forward</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">explicitRepeat</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">linewise</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">repeatOverride</span>:t.line+<span class=\"code-number\">1</span>})},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.args,r=t.setCfg||{};<span class=\"code-keyword\">if</span>(!n||n.length&lt;<span class=\"code-number\">1</span>)e&amp;&amp;Re(e,<span class=\"code-string\">\"Invalid mapping: \"</span>+t.input);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> o=n[<span class=\"code-number\">0</span>].split(<span class=\"code-string\">\"=\"</span>),i=o[<span class=\"code-number\">0</span>],a=o[<span class=\"code-number\">1</span>],s=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"?\"</span>==i.charAt(i.length<span class=\"code-number\">-1</span>)){<span class=\"code-keyword\">if</span>(a)<span class=\"code-keyword\">throw</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Trailing characters: \"</span>+t.argString);i=i.substring(<span class=\"code-number\">0</span>,i.length<span class=\"code-number\">-1</span>),s=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a&amp;&amp;<span class=\"code-string\">\"no\"</span>==i.substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>)&amp;&amp;(i=i.substring(<span class=\"code-number\">2</span>),a=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> l=C[i]&amp;&amp;<span class=\"code-string\">\"boolean\"</span>==C[i].type;<span class=\"code-keyword\">if</span>(l&amp;&amp;<span class=\"code-literal\">null</span>==a&amp;&amp;(a=!<span class=\"code-number\">0</span>),!l&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a||s){<span class=\"code-keyword\">var</span> c=M(i,e,r);c <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>?Re(e,c.message):Re(e,!<span class=\"code-number\">0</span>===c||!<span class=\"code-number\">1</span>===c?<span class=\"code-string\">\" \"</span>+(c?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\"no\"</span>)+i:<span class=\"code-string\">\"  \"</span>+i+<span class=\"code-string\">\"=\"</span>+c)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> u=S(i,a,e,r);u <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>&amp;&amp;Re(e,u.message)}}},<span class=\"code-attr\">setlocal</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t.setCfg={<span class=\"code-attr\">scope</span>:<span class=\"code-string\">\"local\"</span>},<span class=\"code-keyword\">this</span>.set(e,t)},<span class=\"code-attr\">setglobal</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t.setCfg={<span class=\"code-attr\">scope</span>:<span class=\"code-string\">\"global\"</span>},<span class=\"code-keyword\">this</span>.set(e,t)},<span class=\"code-attr\">registers</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.args,r=T.registerController.registers,o=<span class=\"code-string\">\"----------Registers----------&lt;br&gt;&lt;br&gt;\"</span>;<span class=\"code-keyword\">if</span>(n){n=n.join(<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;n.length;i++){<span class=\"code-keyword\">if</span>(a=n.charAt(i),T.registerController.isValidRegister(a))o+=<span class=\"code-string\">'\"'</span>+a+<span class=\"code-string\">\"    \"</span>+(r[a]||<span class=\"code-keyword\">new</span> W).toString()+<span class=\"code-string\">\"&lt;br&gt;\"</span>}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> r){<span class=\"code-keyword\">var</span> s=r[a].toString();s.length&amp;&amp;(o+=<span class=\"code-string\">'\"'</span>+a+<span class=\"code-string\">\"    \"</span>+s+<span class=\"code-string\">\"&lt;br&gt;\"</span>)}Re(e,o)},<span class=\"code-attr\">sort</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n,r,o,i,a;<span class=\"code-keyword\">var</span> s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(t.argString){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> x.StringStream(t.argString);<span class=\"code-keyword\">if</span>(e.eat(<span class=\"code-string\">\"!\"</span>)&amp;&amp;(n=!<span class=\"code-number\">0</span>),e.eol())<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(!e.eatSpace())<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Invalid arguments\"</span>;<span class=\"code-keyword\">var</span> s=e.match(<span class=\"code-regexp\">/([dinuox]+)?\\s*(\\/.+\\/)?\\s*/</span>);<span class=\"code-keyword\">if</span>(!s&amp;&amp;!e.eol())<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Invalid arguments\"</span>;<span class=\"code-keyword\">if</span>(s[<span class=\"code-number\">1</span>]){r=<span class=\"code-number\">-1</span>!=s[<span class=\"code-number\">1</span>].indexOf(<span class=\"code-string\">\"i\"</span>),o=<span class=\"code-number\">-1</span>!=s[<span class=\"code-number\">1</span>].indexOf(<span class=\"code-string\">\"u\"</span>);<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">-1</span>!=s[<span class=\"code-number\">1</span>].indexOf(<span class=\"code-string\">\"d\"</span>)||<span class=\"code-number\">-1</span>!=s[<span class=\"code-number\">1</span>].indexOf(<span class=\"code-string\">\"n\"</span>)&amp;&amp;<span class=\"code-number\">1</span>,c=<span class=\"code-number\">-1</span>!=s[<span class=\"code-number\">1</span>].indexOf(<span class=\"code-string\">\"x\"</span>)&amp;&amp;<span class=\"code-number\">1</span>,u=<span class=\"code-number\">-1</span>!=s[<span class=\"code-number\">1</span>].indexOf(<span class=\"code-string\">\"o\"</span>)&amp;&amp;<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(l+c+u&gt;<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"Invalid arguments\"</span>;i=(l?<span class=\"code-string\">\"decimal\"</span>:c&amp;&amp;<span class=\"code-string\">\"hex\"</span>)||u&amp;&amp;<span class=\"code-string\">\"octal\"</span>}s[<span class=\"code-number\">2</span>]&amp;&amp;(a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(s[<span class=\"code-number\">2</span>].substr(<span class=\"code-number\">1</span>,s[<span class=\"code-number\">2</span>].length<span class=\"code-number\">-2</span>),r?<span class=\"code-string\">\"i\"</span>:<span class=\"code-string\">\"\"</span>))}}();<span class=\"code-keyword\">if</span>(s)Re(e,s+<span class=\"code-string\">\": \"</span>+t.argString);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> l=t.line||e.firstLine(),c=t.lineEnd||t.line||e.lastLine();<span class=\"code-keyword\">if</span>(l!=c){<span class=\"code-keyword\">var</span> u=E(l,<span class=\"code-number\">0</span>),h=E(c,re(e,c)),f=e.getRange(u,h).split(<span class=\"code-string\">\"\\n\"</span>),p=a||(<span class=\"code-string\">\"decimal\"</span>==i?<span class=\"code-regexp\">/(-?)([\\d]+)/</span>:<span class=\"code-string\">\"hex\"</span>==i?<span class=\"code-regexp\">/(-?)(?:0x)?([0-9a-f]+)/i</span>:<span class=\"code-string\">\"octal\"</span>==i?<span class=\"code-regexp\">/([0-7]+)/</span>:<span class=\"code-literal\">null</span>),d=<span class=\"code-string\">\"decimal\"</span>==i?<span class=\"code-number\">10</span>:<span class=\"code-string\">\"hex\"</span>==i?<span class=\"code-number\">16</span>:<span class=\"code-string\">\"octal\"</span>==i?<span class=\"code-number\">8</span>:<span class=\"code-literal\">null</span>,g=[],m=[];<span class=\"code-keyword\">if</span>(i||a)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> v=<span class=\"code-number\">0</span>;v&lt;f.length;v++){<span class=\"code-keyword\">var</span> y=a?f[v].match(a):<span class=\"code-literal\">null</span>;y&amp;&amp;<span class=\"code-string\">\"\"</span>!=y[<span class=\"code-number\">0</span>]?g.push(y):!a&amp;&amp;p.exec(f[v])?g.push(f[v]):m.push(f[v])}<span class=\"code-keyword\">else</span> m=f;<span class=\"code-keyword\">if</span>(g.sort(a?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> o;<span class=\"code-keyword\">return</span> n&amp;&amp;(o=e,e=t,t=o),r&amp;&amp;(e[<span class=\"code-number\">0</span>]=e[<span class=\"code-number\">0</span>].toLowerCase(),t[<span class=\"code-number\">0</span>]=t[<span class=\"code-number\">0</span>].toLowerCase()),e[<span class=\"code-number\">0</span>]&lt;t[<span class=\"code-number\">0</span>]?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>}:w),a)<span class=\"code-keyword\">for</span>(v=<span class=\"code-number\">0</span>;v&lt;g.length;v++)g[v]=g[v].input;<span class=\"code-keyword\">else</span> i||m.sort(w);<span class=\"code-keyword\">if</span>(f=n?g.concat(m):m.concat(g),o){<span class=\"code-keyword\">var</span> k,C=f;f=[];<span class=\"code-keyword\">for</span>(v=<span class=\"code-number\">0</span>;v&lt;C.length;v++)C[v]!=k&amp;&amp;f.push(C[v]),k=C[v]}e.replaceRange(f.join(<span class=\"code-string\">\"\\n\"</span>),u,h)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> o;n&amp;&amp;(o=e,e=t,t=o);r&amp;&amp;(e=e.toLowerCase(),t=t.toLowerCase());<span class=\"code-keyword\">var</span> a=i&amp;&amp;p.exec(e),s=i&amp;&amp;p.exec(t);<span class=\"code-keyword\">return</span> a?(a=<span class=\"code-built_in\">parseInt</span>((a[<span class=\"code-number\">1</span>]+a[<span class=\"code-number\">2</span>]).toLowerCase(),d))-(s=<span class=\"code-built_in\">parseInt</span>((s[<span class=\"code-number\">1</span>]+s[<span class=\"code-number\">2</span>]).toLowerCase(),d)):e&lt;t?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>}},<span class=\"code-attr\">global</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=t.argString;<span class=\"code-keyword\">if</span>(n){<span class=\"code-keyword\">var</span> r,o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.line?t.line:e.firstLine(),i=t.lineEnd||t.line||e.lastLine(),a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> be(e,<span class=\"code-string\">\"/\"</span>)}(n),s=n;<span class=\"code-keyword\">if</span>(a.length&amp;&amp;(s=a[<span class=\"code-number\">0</span>],r=a.slice(<span class=\"code-number\">1</span>,a.length).join(<span class=\"code-string\">\"/\"</span>)),s)<span class=\"code-keyword\">try</span>{Be(e,s,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"Invalid regex: \"</span>+s)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=Me(e).getQuery(),c=[],u=<span class=\"code-string\">\"\"</span>,h=o;h&lt;=i;h++){l.test(e.getLine(h))&amp;&amp;(c.push(h+<span class=\"code-number\">1</span>),u+=e.getLine(h)+<span class=\"code-string\">\"&lt;br&gt;\"</span>)}<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>;!<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(f&lt;c.length){<span class=\"code-keyword\">var</span> n=c[f]+r;je.processCommand(e,n,{<span class=\"code-attr\">callback</span>:t})}f++}()}<span class=\"code-keyword\">else</span> Re(e,u)}<span class=\"code-keyword\">else</span> Re(e,<span class=\"code-string\">\"Regular Expression missing from global\"</span>)},<span class=\"code-attr\">substitute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!e.getSearchCursor)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.\"</span>);<span class=\"code-keyword\">var</span> n,r,o,a,s=t.argString,l=s?be(s,s[<span class=\"code-number\">0</span>]):[],c=<span class=\"code-string\">\"\"</span>,u=!<span class=\"code-number\">1</span>,h=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(l.length)n=l[<span class=\"code-number\">0</span>],c=l[<span class=\"code-number\">1</span>],n&amp;&amp;<span class=\"code-string\">\"$\"</span>===n[n.length<span class=\"code-number\">-1</span>]&amp;&amp;(n=n.slice(<span class=\"code-number\">0</span>,n.length<span class=\"code-number\">-1</span>)+<span class=\"code-string\">\"\\\\n\"</span>,c=c?c+<span class=\"code-string\">\"\\n\"</span>:<span class=\"code-string\">\"\\n\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==c&amp;&amp;(c=M(<span class=\"code-string\">\"pcre\"</span>)?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> x.StringStream(e),n=[];!t.eol();){<span class=\"code-keyword\">for</span>(;t.peek()&amp;&amp;<span class=\"code-string\">\"\\\\\"</span>!=t.peek();)n.push(t.next());<span class=\"code-keyword\">var</span> r=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> Ee)<span class=\"code-keyword\">if</span>(t.match(o,!<span class=\"code-number\">0</span>)){r=!<span class=\"code-number\">0</span>,n.push(Ee[o]);<span class=\"code-keyword\">break</span>}r||n.push(t.next())}<span class=\"code-keyword\">return</span> n.join(<span class=\"code-string\">\"\"</span>)}(c):<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,n=!<span class=\"code-number\">1</span>,r=[],o=<span class=\"code-number\">-1</span>;o&lt;e.length;o++){<span class=\"code-keyword\">var</span> a=e.charAt(o)||<span class=\"code-string\">\"\"</span>,s=e.charAt(o+<span class=\"code-number\">1</span>)||<span class=\"code-string\">\"\"</span>;Le[a+s]?(r.push(Le[a+s]),o++):n?(r.push(a),n=!<span class=\"code-number\">1</span>):<span class=\"code-string\">\"\\\\\"</span>===a?(n=!<span class=\"code-number\">0</span>,t=s,i.test(t)||<span class=\"code-string\">\"$\"</span>===s?r.push(<span class=\"code-string\">\"$\"</span>):<span class=\"code-string\">\"/\"</span>!==s&amp;&amp;<span class=\"code-string\">\"\\\\\"</span>!==s&amp;&amp;r.push(<span class=\"code-string\">\"\\\\\"</span>)):(<span class=\"code-string\">\"$\"</span>===a&amp;&amp;r.push(<span class=\"code-string\">\"$\"</span>),r.push(a),<span class=\"code-string\">\"/\"</span>===s&amp;&amp;r.push(<span class=\"code-string\">\"\\\\\"</span>))}<span class=\"code-keyword\">return</span> r.join(<span class=\"code-string\">\"\"</span>)}(c),T.lastSubstituteReplacePart=c),r=l[<span class=\"code-number\">2</span>]?l[<span class=\"code-number\">2</span>].split(<span class=\"code-string\">\" \"</span>):[];<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(s&amp;&amp;s.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"Substitutions should be of the form :s/pattern/replace/\"</span>);<span class=\"code-keyword\">if</span>(r&amp;&amp;(o=r[<span class=\"code-number\">0</span>],a=<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">1</span>]),o&amp;&amp;(<span class=\"code-number\">-1</span>!=o.indexOf(<span class=\"code-string\">\"c\"</span>)&amp;&amp;(u=!<span class=\"code-number\">0</span>,o.replace(<span class=\"code-string\">\"c\"</span>,<span class=\"code-string\">\"\"</span>)),<span class=\"code-number\">-1</span>!=o.indexOf(<span class=\"code-string\">\"g\"</span>)&amp;&amp;(h=!<span class=\"code-number\">0</span>,o.replace(<span class=\"code-string\">\"g\"</span>,<span class=\"code-string\">\"\"</span>)),n=n.replace(<span class=\"code-regexp\">/\\//g</span>,<span class=\"code-string\">\"\\\\/\"</span>)+<span class=\"code-string\">\"/\"</span>+o)),n)<span class=\"code-keyword\">try</span>{Be(e,n,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">catch</span>(t){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"Invalid regex: \"</span>+n)}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==(c=c||T.lastSubstituteReplacePart)){<span class=\"code-keyword\">var</span> f=Me(e).getQuery(),p=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t.line?t.line:e.getCursor().line,d=t.lineEnd||p;p==e.firstLine()&amp;&amp;d==e.lastLine()&amp;&amp;(d=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>),a&amp;&amp;(d=(p=d)+a<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">var</span> g=$(e,E(p,<span class=\"code-number\">0</span>)),m=e.getSearchCursor(f,g);e.pushUndoStop(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,r,o,i,a,s,l</span>)</span>{e.state.vim.exMode=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> c=!<span class=\"code-number\">1</span>,u=i.from();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">h</span>(<span class=\"code-params\"></span>)</span>{e.operation(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(;!c;)f(),p(!<span class=\"code-number\">1</span>);d()}.bind(<span class=\"code-keyword\">this</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">f</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=e.getRange(i.from(),i.to()).replace(a,s);i.replace(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">p</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">for</span>(;i.findNext()&amp;&amp;(a=i.from(),s=r,l=o,<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> a&amp;&amp;(a=a.line),s <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Array</span>?k(a,s):l?a&gt;=s&amp;&amp;a&lt;=l:a==s);)<span class=\"code-keyword\">if</span>(n||!u||i.from().line!=u.line)<span class=\"code-keyword\">return</span> e.scrollIntoView(i.from(),<span class=\"code-number\">30</span>),t&amp;&amp;e.setSelection(i.from(),i.to()),u=i.from(),<span class=\"code-keyword\">void</span>(c=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> a,s,l;c=!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">d</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(t&amp;&amp;t(),e.focus(),u){e.setCursor(u);<span class=\"code-keyword\">var</span> n=e.state.vim;n.exMode=!<span class=\"code-number\">1</span>,n.lastHPos=n.lastHSPos=u.ch}l&amp;&amp;l()}<span class=\"code-keyword\">if</span>(p(!<span class=\"code-number\">0</span>),c)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"No matches for \"</span>+a.source);<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> h(),<span class=\"code-keyword\">void</span>(l&amp;&amp;l());Ie(e,{<span class=\"code-attr\">prefix</span>:<span class=\"code-string\">\"replace with &lt;strong&gt;\"</span>+s+<span class=\"code-string\">\"&lt;/strong&gt; (y/n/a/q/l)\"</span>,<span class=\"code-attr\">onKeyDown</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,n,r</span>)</span>{<span class=\"code-keyword\">switch</span>(x.e_stop(t),x.keyName(t)){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"y\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Y\"</span>:f(),p();<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"n\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"N\"</span>:p();<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"a\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"A\"</span>:<span class=\"code-keyword\">var</span> o=l;l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e.operation(h),l=o;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"l\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"L\"</span>:f();<span class=\"code-keyword\">case</span><span class=\"code-string\">\"q\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Q\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Esc\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Ctrl-C\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Ctrl-[\"</span>:d(r)}<span class=\"code-keyword\">return</span> c&amp;&amp;d(r),!<span class=\"code-number\">0</span>}})}(e,u,h,p,d,m,f,c,t.callback)}<span class=\"code-keyword\">else</span> Re(e,<span class=\"code-string\">\"No previous substitute regular expression\"</span>)},<span class=\"code-attr\">redo</span>:x.commands.redo,<span class=\"code-attr\">undo</span>:x.commands.undo,<span class=\"code-attr\">write</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{x.commands.save?x.commands.save(e):e.save&amp;&amp;e.save()},<span class=\"code-attr\">nohlsearch</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Ke(e)},<span class=\"code-attr\">yank</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=X(e.getCursor()).line,n=e.getLine(t);T.registerController.pushText(<span class=\"code-string\">\"0\"</span>,<span class=\"code-string\">\"yank\"</span>,n,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">delmarks</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(t.argString&amp;&amp;oe(t.argString))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.state.vim,r=<span class=\"code-keyword\">new</span> x.StringStream(oe(t.argString));!r.eol();){r.eatSpace();<span class=\"code-keyword\">var</span> o=r.pos;<span class=\"code-keyword\">if</span>(!r.match(<span class=\"code-regexp\">/[a-zA-Z]/</span>,!<span class=\"code-number\">1</span>))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"Invalid argument: \"</span>+t.argString.substring(o));<span class=\"code-keyword\">var</span> i=r.next();<span class=\"code-keyword\">if</span>(r.match(<span class=\"code-string\">\"-\"</span>,!<span class=\"code-number\">0</span>)){<span class=\"code-keyword\">if</span>(!r.match(<span class=\"code-regexp\">/[a-zA-Z]/</span>,!<span class=\"code-number\">1</span>))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"Invalid argument: \"</span>+t.argString.substring(o));<span class=\"code-keyword\">var</span> a=i,s=r.next();<span class=\"code-keyword\">if</span>(!(g(a)&amp;&amp;g(s)||m(a)&amp;&amp;m(s)))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"Invalid argument: \"</span>+a+<span class=\"code-string\">\"-\"</span>);<span class=\"code-keyword\">var</span> l=a.charCodeAt(<span class=\"code-number\">0</span>),c=s.charCodeAt(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">if</span>(l&gt;=c)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> Re(e,<span class=\"code-string\">\"Invalid argument: \"</span>+t.argString.substring(o));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u&lt;=c-l;u++){<span class=\"code-keyword\">var</span> h=<span class=\"code-built_in\">String</span>.fromCharCode(l+u);<span class=\"code-keyword\">delete</span> n.marks[h]}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">delete</span> n.marks[i]}<span class=\"code-keyword\">else</span> Re(e,<span class=\"code-string\">\"Argument required\"</span>)}},je=<span class=\"code-keyword\">new</span> De;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.state.vim,n=T.macroModeState,r=T.registerController.getRegister(<span class=\"code-string\">\".\"</span>),o=n.isPlaying,i=n.lastInsertModeChanges,a=[];<span class=\"code-keyword\">if</span>(!o){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=i.inVisualBlock&amp;&amp;t.lastSelection?t.lastSelection.visualBlock.height:<span class=\"code-number\">1</span>,l=i.changes,c=(a=[],<span class=\"code-number\">0</span>);c&lt;l.length;)a.push(l[c]),l[c]<span class=\"code-keyword\">instanceof</span> Qe?c++:c+=s;i.changes=a,e.off(<span class=\"code-string\">\"change\"</span>,qe),x.off(e.getInputField(),<span class=\"code-string\">\"keydown\"</span>,ze)}!o&amp;&amp;t.insertModeRepeat&gt;<span class=\"code-number\">1</span>&amp;&amp;(Ge(e,t,t.insertModeRepeat<span class=\"code-number\">-1</span>,!<span class=\"code-number\">0</span>),t.lastEditInputState.repeatOverride=t.insertModeRepeat),<span class=\"code-keyword\">delete</span> t.insertModeRepeat,t.insertMode=!<span class=\"code-number\">1</span>,e.setCursor(e.getCursor().line,e.getCursor().ch<span class=\"code-number\">-1</span>),e.setOption(<span class=\"code-string\">\"keyMap\"</span>,<span class=\"code-string\">\"vim\"</span>),e.setOption(<span class=\"code-string\">\"disableInput\"</span>,!<span class=\"code-number\">0</span>),e.toggleOverwrite(!<span class=\"code-number\">1</span>),r.setText(i.changes.join(<span class=\"code-string\">\"\"</span>)),x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"normal\"</span>}),n.isRecording&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.isPlaying)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> t=e.latestRegister,n=T.registerController.getRegister(t);n&amp;&amp;n.pushInsertModeChanges&amp;&amp;n.pushInsertModeChanges(e.lastInsertModeChanges)}(n),e.enterVimMode()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">He</span>(<span class=\"code-params\">e</span>)</span>{A.unshift(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ue</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=T.registerController.getRegister(r);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\":\"</span>==r)<span class=\"code-keyword\">return</span> o.keyBuffer[<span class=\"code-number\">0</span>]&amp;&amp;je.processCommand(e,o.keyBuffer[<span class=\"code-number\">0</span>]),<span class=\"code-keyword\">void</span>(n.isPlaying=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> i=o.keyBuffer,a=<span class=\"code-number\">0</span>;n.isPlaying=!<span class=\"code-number\">0</span>,n.replaySearchQueries=o.searchQueries.slice(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>;s&lt;i.length;s++)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l,c,u=i[s];u;)<span class=\"code-keyword\">if</span>(c=(l=<span class=\"code-regexp\">/&lt;\\w+-.+?&gt;|&lt;\\w+&gt;|./</span>.exec(u))[<span class=\"code-number\">0</span>],u=u.substring(l.index+c.length),x.Vim.handleKey(e,c,<span class=\"code-string\">\"macro\"</span>),t.insertMode){<span class=\"code-keyword\">var</span> h=o.insertModeChanges[a++].changes;T.macroModeState.lastInsertModeChanges.changes=h,Xe(e,h,<span class=\"code-number\">1</span>),Fe(e)}n.isPlaying=!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qe</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=T.macroModeState,r=n.lastInsertModeChanges;<span class=\"code-keyword\">if</span>(!n.isPlaying)<span class=\"code-keyword\">for</span>(;t;){<span class=\"code-keyword\">if</span>(r.expectCursorActivityForChange=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"+input\"</span>==t.origin||<span class=\"code-string\">\"paste\"</span>==t.origin||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.origin){<span class=\"code-keyword\">var</span> o=t.text.join(<span class=\"code-string\">\"\\n\"</span>);r.maybeReset&amp;&amp;(r.changes=[],r.maybeReset=!<span class=\"code-number\">1</span>),e.state.overwrite&amp;&amp;!<span class=\"code-regexp\">/\\n/</span>.test(o)?r.changes.push([o]):r.changes.push(o)}t=t.next}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.state.vim;<span class=\"code-keyword\">if</span>(t.insertMode){<span class=\"code-keyword\">var</span> n=T.macroModeState;<span class=\"code-keyword\">if</span>(n.isPlaying)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> r=n.lastInsertModeChanges;r.expectCursorActivityForChange?r.expectCursorActivityForChange=!<span class=\"code-number\">1</span>:r.maybeReset=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">else</span> e.curOp.isVimOp||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=e.getCursor(<span class=\"code-string\">\"anchor\"</span>),r=e.getCursor(<span class=\"code-string\">\"head\"</span>);t.visualMode&amp;&amp;!e.somethingSelected()?he(e,!<span class=\"code-number\">1</span>):t.visualMode||t.insertMode||!e.somethingSelected()||(t.visualMode=!<span class=\"code-number\">0</span>,t.visualLine=!<span class=\"code-number\">1</span>,x.signal(e,<span class=\"code-string\">\"vim-mode-change\"</span>,{<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"visual\"</span>}));<span class=\"code-keyword\">if</span>(t.visualMode){<span class=\"code-keyword\">var</span> o=Z(r,n)?<span class=\"code-number\">0</span>:<span class=\"code-number\">-1</span>,i=Z(r,n)?<span class=\"code-number\">-1</span>:<span class=\"code-number\">0</span>;r=Q(r,<span class=\"code-number\">0</span>,o),n=Q(n,<span class=\"code-number\">0</span>,i),t.sel={<span class=\"code-attr\">anchor</span>:n,<span class=\"code-attr\">head</span>:r},ke(e,t,<span class=\"code-string\">\"&lt;\"</span>,ee(r,n)),ke(e,t,<span class=\"code-string\">\"&gt;\"</span>,te(r,n))}<span class=\"code-keyword\">else</span> t.insertMode||(t.lastHPos=e.getCursor().ch)}(e,t);t.visualMode&amp;&amp;Je(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Je</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.state.vim,n=$(e,X(t.sel.head)),r=Q(n,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>);t.fakeCursor&amp;&amp;t.fakeCursor.clear(),t.fakeCursor=e.markText(n,r,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"cm-animate-fat-cursor\"</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.keyName=e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ze</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=T.macroModeState.lastInsertModeChanges,n=x.keyName(e);n&amp;&amp;(<span class=\"code-number\">-1</span>==n.indexOf(<span class=\"code-string\">\"Delete\"</span>)&amp;&amp;<span class=\"code-number\">-1</span>==n.indexOf(<span class=\"code-string\">\"Backspace\"</span>)||x.lookupKey(n,<span class=\"code-string\">\"vim-insert\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.maybeReset&amp;&amp;(t.changes=[],t.maybeReset=!<span class=\"code-number\">1</span>),t.changes.push(<span class=\"code-keyword\">new</span> Qe(n)),!<span class=\"code-number\">0</span>})))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ge</span>(<span class=\"code-params\">e,t,n,r</span>)</span>{<span class=\"code-keyword\">var</span> o=T.macroModeState;o.isPlaying=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> i=!!t.lastEditActionCommand,a=t.inputState;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\"></span>)</span>{i?j.processAction(e,t,t.lastEditActionCommand):j.evalInput(e,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">if</span>(o.lastInsertModeChanges.changes.length&gt;<span class=\"code-number\">0</span>){n=t.lastEditActionCommand?n:<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> r=o.lastInsertModeChanges;Xe(e,r.changes,n)}}<span class=\"code-keyword\">if</span>(t.inputState=t.lastEditInputState,i&amp;&amp;t.lastEditActionCommand.interlaceInsertRepeat)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;n;c++)s(),l(<span class=\"code-number\">1</span>);<span class=\"code-keyword\">else</span> r||s(),l(n);t.inputState=a,t.insertMode&amp;&amp;!r&amp;&amp;Fe(e),o.isPlaying=!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xe</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t?x.commands[t](e):t(e),!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">var</span> o=e.getCursor(<span class=\"code-string\">\"head\"</span>),i=T.macroModeState.lastInsertModeChanges.inVisualBlock;<span class=\"code-keyword\">if</span>(i){<span class=\"code-keyword\">var</span> a=e.state.vim.lastSelection,s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">line</span>:t.line-e.line,<span class=\"code-attr\">ch</span>:t.line-e.line}}(a.anchor,a.head);se(e,o,s.line+<span class=\"code-number\">1</span>),n=e.listSelections().length,e.setCursor(o)}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l=<span class=\"code-number\">0</span>;l&lt;n;l++){i&amp;&amp;e.setCursor(Q(o,l,<span class=\"code-number\">0</span>));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;t.length;c++){<span class=\"code-keyword\">var</span> u=t[c];<span class=\"code-keyword\">if</span>(u <span class=\"code-keyword\">instanceof</span> Qe)x.lookupKey(u.keyName,<span class=\"code-string\">\"vim-insert\"</span>,r);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> u){<span class=\"code-keyword\">var</span> h=e.getCursor();e.replaceRange(u,h,h)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> f=e.getCursor(),p=Q(f,<span class=\"code-number\">0</span>,u[<span class=\"code-number\">0</span>].length);e.replaceRange(u[<span class=\"code-number\">0</span>],f,p)}}}i&amp;&amp;e.setCursor(Q(o,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>))}<span class=\"code-keyword\">return</span> x.keyMap.vim={<span class=\"code-attr\">attach</span>:t,<span class=\"code-attr\">detach</span>:e,<span class=\"code-attr\">call</span>:n},w(<span class=\"code-string\">\"insertModeEscKeysTimeout\"</span>,<span class=\"code-number\">200</span>,<span class=\"code-string\">\"number\"</span>),x.keyMap[<span class=\"code-string\">\"vim-insert\"</span>]={<span class=\"code-attr\">fallthrough</span>:[<span class=\"code-string\">\"default\"</span>],<span class=\"code-attr\">attach</span>:t,<span class=\"code-attr\">detach</span>:e,<span class=\"code-attr\">call</span>:n},x.keyMap[<span class=\"code-string\">\"vim-replace\"</span>]={<span class=\"code-attr\">Backspace</span>:<span class=\"code-string\">\"goCharLeft\"</span>,<span class=\"code-attr\">fallthrough</span>:[<span class=\"code-string\">\"vim-insert\"</span>],<span class=\"code-attr\">attach</span>:t,<span class=\"code-attr\">detach</span>:e,<span class=\"code-attr\">call</span>:n},P(),N}();<span class=\"code-keyword\">var</span> T=x;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">R</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!(e <span class=\"code-keyword\">instanceof</span> t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Cannot call a class as a function\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">O</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.length;n++){<span class=\"code-keyword\">var</span> r=t[n];r.enumerable=r.enumerable||!<span class=\"code-number\">1</span>,r.configurable=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"value\"</span><span class=\"code-keyword\">in</span> r&amp;&amp;(r.writable=!<span class=\"code-number\">0</span>),<span class=\"code-built_in\">Object</span>.defineProperty(e,r.key,r)}}<span class=\"code-keyword\">var</span> I=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,o=<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">2</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">2</span>]?<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">2</span>]:<span class=\"code-literal\">null</span>;R(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">this</span>.closeInput=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.removeInputListeners(),r.input=<span class=\"code-literal\">null</span>,r.setSec(<span class=\"code-string\">\"\"</span>),r.editor&amp;&amp;r.editor.focus()},<span class=\"code-keyword\">this</span>.clear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.setInnerHtml_(r.node,<span class=\"code-string\">\"\"</span>)},<span class=\"code-keyword\">this</span>.inputKeyUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=r.input.options;t&amp;&amp;t.onKeyUp&amp;&amp;t.onKeyUp(e,e.target.value,r.closeInput)},<span class=\"code-keyword\">this</span>.inputBlur=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.input.options.closeOnBlur&amp;&amp;r.closeInput()},<span class=\"code-keyword\">this</span>.inputKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=r.input,n=t.options,o=t.callback;n&amp;&amp;n.onKeyDown&amp;&amp;n.onKeyDown(e,e.target.value,r.closeInput)||((<span class=\"code-number\">27</span>===e.keyCode||n&amp;&amp;!<span class=\"code-number\">1</span>!==n.closeOnEnter&amp;&amp;<span class=\"code-number\">13</span>==e.keyCode)&amp;&amp;(r.input.node.blur(),e.stopPropagation(),r.closeInput()),<span class=\"code-number\">13</span>===e.keyCode&amp;&amp;o&amp;&amp;(e.stopPropagation(),e.preventDefault(),o(e.target.value)))},<span class=\"code-keyword\">this</span>.node=t,<span class=\"code-keyword\">this</span>.modeInfoNode=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"span\"</span>),<span class=\"code-keyword\">this</span>.secInfoNode=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"span\"</span>),<span class=\"code-keyword\">this</span>.notifNode=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"span\"</span>),<span class=\"code-keyword\">this</span>.notifNode.className=<span class=\"code-string\">\"vim-notification\"</span>,<span class=\"code-keyword\">this</span>.keyInfoNode=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"span\"</span>),<span class=\"code-keyword\">this</span>.keyInfoNode.setAttribute(<span class=\"code-string\">\"style\"</span>,<span class=\"code-string\">\"float: right\"</span>),<span class=\"code-keyword\">this</span>.node.appendChild(<span class=\"code-keyword\">this</span>.modeInfoNode),<span class=\"code-keyword\">this</span>.node.appendChild(<span class=\"code-keyword\">this</span>.secInfoNode),<span class=\"code-keyword\">this</span>.node.appendChild(<span class=\"code-keyword\">this</span>.notifNode),<span class=\"code-keyword\">this</span>.node.appendChild(<span class=\"code-keyword\">this</span>.keyInfoNode),<span class=\"code-keyword\">this</span>.toggleVisibility(!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.editor=n,<span class=\"code-keyword\">this</span>.sanitizer=o}<span class=\"code-keyword\">var</span> t,n,r;<span class=\"code-keyword\">return</span> t=e,(n=[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setMode\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"visual\"</span>!==e.mode||<span class=\"code-string\">\"linewise\"</span>!==e.subMode?<span class=\"code-keyword\">this</span>.setText(<span class=\"code-string\">\"--\"</span>.concat(e.mode.toUpperCase(),<span class=\"code-string\">\"--\"</span>)):<span class=\"code-keyword\">this</span>.setText(<span class=\"code-string\">\"--VISUAL LINE--\"</span>)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setKeyBuffer\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.keyInfoNode.textContent=e}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setSec\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.notifNode.textContent=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e){<span class=\"code-keyword\">this</span>.setInnerHtml_(<span class=\"code-keyword\">this</span>.secInfoNode,e);<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.secInfoNode.querySelector(<span class=\"code-string\">\"input\"</span>);<span class=\"code-keyword\">return</span> r&amp;&amp;(r.focus(),<span class=\"code-keyword\">this</span>.input={<span class=\"code-attr\">callback</span>:t,<span class=\"code-attr\">options</span>:n,<span class=\"code-attr\">node</span>:r},n&amp;&amp;(n.selectValueOnOpen&amp;&amp;r.select(),n.value&amp;&amp;(r.value=n.value)),<span class=\"code-keyword\">this</span>.addInputListeners()),<span class=\"code-keyword\">this</span>.closeInput}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setText\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.modeInfoNode.textContent=e}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"toggleVisibility\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.node.style.display=e?<span class=\"code-string\">\"block\"</span>:<span class=\"code-string\">\"none\"</span>,<span class=\"code-keyword\">this</span>.input&amp;&amp;<span class=\"code-keyword\">this</span>.removeInputListeners(),clearInterval(<span class=\"code-keyword\">this</span>.notifTimeout)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"addInputListeners\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.input.node;e.addEventListener(<span class=\"code-string\">\"keyup\"</span>,<span class=\"code-keyword\">this</span>.inputKeyUp),e.addEventListener(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.inputKeyDown),e.addEventListener(<span class=\"code-string\">\"input\"</span>,<span class=\"code-keyword\">this</span>.inputKeyInput),e.addEventListener(<span class=\"code-string\">\"blur\"</span>,<span class=\"code-keyword\">this</span>.inputBlur)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"removeInputListeners\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.input&amp;&amp;<span class=\"code-keyword\">this</span>.input.node){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.input.node;e.removeEventListener(<span class=\"code-string\">\"keyup\"</span>,<span class=\"code-keyword\">this</span>.inputKeyUp),e.removeEventListener(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.inputKeyDown),e.removeEventListener(<span class=\"code-string\">\"input\"</span>,<span class=\"code-keyword\">this</span>.inputKeyInput),e.removeEventListener(<span class=\"code-string\">\"blur\"</span>,<span class=\"code-keyword\">this</span>.inputBlur)}}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"showNotification\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,n=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"span\"</span>);<span class=\"code-keyword\">this</span>.setInnerHtml_(n,e),<span class=\"code-keyword\">this</span>.notifNode.textContent=n.textContent,<span class=\"code-keyword\">this</span>.notifTimeout=setTimeout((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.notifNode.textContent=<span class=\"code-string\">\"\"</span>}),<span class=\"code-number\">5e3</span>)}},{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"setInnerHtml_\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.sanitizer){<span class=\"code-keyword\">for</span>(;e.children.length;)e.removeChild(e.children[<span class=\"code-number\">0</span>]);e.appendChild(<span class=\"code-keyword\">this</span>.sanitizer(t))}<span class=\"code-keyword\">else</span> e.innerHTML=t}}])&amp;&amp;O(t.prototype,n),r&amp;&amp;O(t,r),e}();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">B</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">1</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]?<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]:<span class=\"code-literal\">null</span>,n=<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">2</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">2</span>]?<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">2</span>]:I,r=<span class=\"code-built_in\">arguments</span>.length&gt;<span class=\"code-number\">3</span>&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>]?<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">3</span>]:<span class=\"code-literal\">null</span>,o=<span class=\"code-keyword\">new</span> T(e);<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> o.attach(),o;<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> n(t,e,r),a=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">return</span> o.on(<span class=\"code-string\">\"vim-mode-change\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.setMode(e)})),o.on(<span class=\"code-string\">\"vim-keypress\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\":\"</span>===e?a=<span class=\"code-string\">\"\"</span>:a+=e,i.setKeyBuffer(a)})),o.on(<span class=\"code-string\">\"vim-command-done\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a=<span class=\"code-string\">\"\"</span>,i.setKeyBuffer(a)})),o.on(<span class=\"code-string\">\"dispose\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.toggleVisibility(!<span class=\"code-number\">1</span>),i.closeInput(),i.clear()})),i.toggleVisibility(!<span class=\"code-number\">0</span>),o.setStatusBar(i),o.attach(),o}n.d(t,<span class=\"code-string\">\"initVimMode\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> B})),n.d(t,<span class=\"code-string\">\"VimMode\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> T})),n.d(t,<span class=\"code-string\">\"StatusBar\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> I}))}])}));"]}}}</script></head><body><div id="root"><style data-emotion-css="gtfibm">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;overflow-wrap:break-word;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="i51og3">.css-i51og3{margin-top:2rem;}</style><header class="css-i51og3"><style data-emotion-css="1y7u1xh">.css-1y7u1xh{text-align:center;font-size:3rem;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}</style><h1 class="css-1y7u1xh"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header></div><div class="css-1cfuj1t"><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="1dlpvgi">.css-1dlpvgi{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;word-break:break-all;}</style><h1 class="css-1dlpvgi"><nav><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/monaco-vim@0.1.18/" class="css-xt128v">monaco-vim</a><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/monaco-vim@0.1.18/dist/" class="css-xt128v">dist</a><span class="css-lllnmq">/</span><strong>monaco-vim.js</strong></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="0.0.1">0.0.1</option><option value="0.0.2">0.0.2</option><option value="0.0.3">0.0.3</option><option value="0.0.4">0.0.4</option><option value="0.0.5">0.0.5</option><option value="0.0.7">0.0.7</option><option value="0.0.8">0.0.8</option><option value="0.0.9">0.0.9</option><option value="0.0.10">0.0.10</option><option value="0.0.11">0.0.11</option><option value="0.0.12">0.0.12</option><option value="0.0.13">0.0.13</option><option value="0.0.14">0.0.14</option><option value="0.0.15">0.0.15</option><option value="0.1.0">0.1.0</option><option value="0.1.1">0.1.1</option><option value="0.1.2">0.1.2</option><option value="0.1.3">0.1.3</option><option value="0.1.4">0.1.4</option><option value="0.1.5">0.1.5</option><option value="0.1.6">0.1.6</option><option value="0.1.7">0.1.7</option><option value="0.1.8">0.1.8</option><option value="0.1.9">0.1.9</option><option value="0.1.10">0.1.10</option><option value="0.1.11">0.1.11</option><option value="0.1.12">0.1.12</option><option value="0.1.13">0.1.13</option><option value="0.1.14">0.1.14</option><option value="0.1.15">0.1.15</option><option value="0.1.16">0.1.16</option><option value="0.1.17">0.1.17</option><option selected="" value="0.1.18">0.1.18</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>100 kB</span><span>JavaScript</span><span><style data-emotion-css="18x593j">.css-18x593j{display:inline-block;margin-left:8px;padding:2px 8px;-webkit-text-decoration:none;text-decoration:none;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-18x593j:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-18x593j:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a href="/monaco-vim@0.1.18/dist/monaco-vim.js" class="css-18x593j">View Raw</a></span></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code><span class="code-comment">/*!
</span></code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code><span class="code-comment"> * monaco-vim
</span></code></td></tr><tr><td id="L3" class="css-a4x74f"><span>3</span></td><td id="LC3" class="css-1dcdqdg"><code><span class="code-comment"> * Version - 0.1.18
</span></code></td></tr><tr><td id="L4" class="css-a4x74f"><span>4</span></td><td id="LC4" class="css-1dcdqdg"><code><span class="code-comment"> * Author - Brijesh Bittu &lt;brijesh@bitwiser.in&gt; (http://bitwiser.in/)
</span></code></td></tr><tr><td id="L5" class="css-a4x74f"><span>5</span></td><td id="LC5" class="css-1dcdqdg"><code><span class="code-comment"> * License - MIT
</span></code></td></tr><tr><td id="L6" class="css-a4x74f"><span>6</span></td><td id="LC6" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L7" class="css-a4x74f"><span>7</span></td><td id="LC7" class="css-1dcdqdg"><code>!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">module</span>?<span class="code-built_in">module</span>.exports=t(<span class="code-built_in">require</span>(<span class="code-string">"monaco-editor"</span>),<span class="code-built_in">require</span>(<span class="code-string">"monaco-editor/esm/vs/editor/common/controller/cursorTypeOperations"</span>)):<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> define&amp;&amp;define.amd?define([<span class="code-string">"vs/editor/editor.main"</span>,<span class="code-string">"vs/editor/common/controller/cursorTypeOperations"</span>],t):<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports?exports.MonacoVim=t(<span class="code-built_in">require</span>(<span class="code-string">"monaco-editor"</span>),<span class="code-built_in">require</span>(<span class="code-string">"monaco-editor/esm/vs/editor/common/controller/cursorTypeOperations"</span>)):e.MonacoVim=t(e.monaco,e[<span class="code-keyword">void</span> <span class="code-number">0</span>])}(self,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">if</span>(t[r])<span class="code-keyword">return</span> t[r].exports;<span class="code-keyword">var</span> o=t[r]={<span class="code-attr">i</span>:r,<span class="code-attr">l</span>:!<span class="code-number">1</span>,<span class="code-attr">exports</span>:{}};<span class="code-keyword">return</span> e[r].call(o.exports,o,o.exports,n),o.l=!<span class="code-number">0</span>,o.exports}<span class="code-keyword">return</span> n.m=e,n.c=t,n.d=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,r</span>)</span>{n.o(e,t)||<span class="code-built_in">Object</span>.defineProperty(e,t,{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:r})},n.r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;<span class="code-built_in">Symbol</span>.toStringTag&amp;&amp;<span class="code-built_in">Object</span>.defineProperty(e,<span class="code-built_in">Symbol</span>.toStringTag,{<span class="code-attr">value</span>:<span class="code-string">"Module"</span>}),<span class="code-built_in">Object</span>.defineProperty(e,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>})},n.t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>&amp;t&amp;&amp;(e=n(e)),<span class="code-number">8</span>&amp;t)<span class="code-keyword">return</span> e;<span class="code-keyword">if</span>(<span class="code-number">4</span>&amp;t&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;e&amp;&amp;e.__esModule)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> r=<span class="code-built_in">Object</span>.create(<span class="code-literal">null</span>);<span class="code-keyword">if</span>(n.r(r),<span class="code-built_in">Object</span>.defineProperty(r,<span class="code-string">"default"</span>,{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">value</span>:e}),<span class="code-number">2</span>&amp;t&amp;&amp;<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> e)n.d(r,o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e[t]}.bind(<span class="code-literal">null</span>,o));<span class="code-keyword">return</span> r},n.n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e&amp;&amp;e.__esModule?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.default}:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e};<span class="code-keyword">return</span> n.d(t,<span class="code-string">"a"</span>,t),t},n.o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(e,t)},n.p=<span class="code-string">""</span>,n(n.s=<span class="code-number">2</span>)}([<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n</span>)</span>{t.exports=e},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{e.exports=t},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-string">"use strict"</span>;n.r(t);<span class="code-keyword">var</span> r=n(<span class="code-number">0</span>),o=n(<span class="code-number">1</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(e))<span class="code-keyword">return</span> e}(e)||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!(<span class="code-built_in">Symbol</span>.iterator <span class="code-keyword">in</span> <span class="code-built_in">Object</span>(e)||<span class="code-string">"[object Arguments]"</span>===<span class="code-built_in">Object</span>.prototype.toString.call(e)))<span class="code-keyword">return</span>;<span class="code-keyword">var</span> n=[],r=!<span class="code-number">0</span>,o=!<span class="code-number">1</span>,i=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">try</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a,s=e[<span class="code-built_in">Symbol</span>.iterator]();!(r=(a=s.next()).done)&amp;&amp;(n.push(a.value),!t||n.length!==t);r=!<span class="code-number">0</span>);}<span class="code-keyword">catch</span>(e){o=!<span class="code-number">0</span>,i=e}<span class="code-keyword">finally</span>{<span class="code-keyword">try</span>{r||<span class="code-literal">null</span>==s.return||s.return()}<span class="code-keyword">finally</span>{<span class="code-keyword">if</span>(o)<span class="code-keyword">throw</span> i}}<span class="code-keyword">return</span> n}(e,t)||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Invalid attempt to destructure non-iterable instance"</span>)}()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(a=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;<span class="code-string">"symbol"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>.iterator?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">typeof</span> e}:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e.constructor===<span class="code-built_in">Symbol</span>&amp;&amp;e!==<span class="code-built_in">Symbol</span>.prototype?<span class="code-string">"symbol"</span>:<span class="code-keyword">typeof</span> e})(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!(e <span class="code-keyword">instanceof</span> t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Cannot call a class as a function"</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.length;n++){<span class="code-keyword">var</span> r=t[n];r.enumerable=r.enumerable||!<span class="code-number">1</span>,r.configurable=!<span class="code-number">0</span>,<span class="code-string">"value"</span><span class="code-keyword">in</span> r&amp;&amp;(r.writable=!<span class="code-number">0</span>),<span class="code-built_in">Object</span>.defineProperty(e,r.key,r)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">c</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;l(e.prototype,t),n&amp;&amp;l(e,n),e}<span class="code-keyword">var</span> u=<span class="code-number">4</span>,h={<span class="code-attr">readOnly</span>:<span class="code-number">65</span>,<span class="code-attr">cursorWidth</span>:<span class="code-number">20</span>,<span class="code-attr">fontInfo</span>:<span class="code-number">32</span>},f=<span class="code-built_in">window</span>.navigator,p=f.userAgent,d=f.platform,g=(!<span class="code-regexp">/Edge\/(\d+)/</span>.exec(p)&amp;&amp;<span class="code-regexp">/AppleWebKit/</span>.test(p)&amp;&amp;<span class="code-regexp">/Mobile\/\w+/</span>.test(p)||<span class="code-regexp">/Mac/</span>.test(d),/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">m</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!(<span class="code-keyword">this</span> <span class="code-keyword">instanceof</span> m))<span class="code-keyword">return</span> <span class="code-keyword">new</span> m(e,t);<span class="code-keyword">this</span>.line=e,<span class="code-keyword">this</span>.ch=t}<span class="code-built_in">String</span>.prototype.normalize?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.normalize(<span class="code-string">"NFD"</span>).toLowerCase()}:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.toLowerCase()};<span class="code-keyword">var</span> v=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.pos=<span class="code-keyword">this</span>.start=<span class="code-number">0</span>,<span class="code-keyword">this</span>.string=e,<span class="code-keyword">this</span>.tabSize=t||<span class="code-number">8</span>,<span class="code-keyword">this</span>.lastColumnPos=<span class="code-keyword">this</span>.lastColumnValue=<span class="code-number">0</span>,<span class="code-keyword">this</span>.lineStart=<span class="code-number">0</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">y</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> m(e.lineNumber<span class="code-number">-1</span>,e.column<span class="code-number">-1</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">k</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> r.Position(e.line+<span class="code-number">1</span>,e.ch+<span class="code-number">1</span>)}v.prototype={<span class="code-attr">eol</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pos&gt;=<span class="code-keyword">this</span>.string.length},<span class="code-attr">sol</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pos==<span class="code-keyword">this</span>.lineStart},<span class="code-attr">peek</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.string.charAt(<span class="code-keyword">this</span>.pos)||<span class="code-keyword">void</span> <span class="code-number">0</span>},<span class="code-attr">next</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.pos&lt;<span class="code-keyword">this</span>.string.length)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.string.charAt(<span class="code-keyword">this</span>.pos++)},<span class="code-attr">eat</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.string.charAt(<span class="code-keyword">this</span>.pos);<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e)<span class="code-keyword">var</span> n=t==e;<span class="code-keyword">else</span> n=t&amp;&amp;(e.test?e.test(t):e(t));<span class="code-keyword">if</span>(n)<span class="code-keyword">return</span>++<span class="code-keyword">this</span>.pos,t},<span class="code-attr">eatWhile</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.pos;<span class="code-keyword">this</span>.eat(e););<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pos&gt;t},<span class="code-attr">eatSpace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.pos;<span class="code-regexp">/[\s\u00a0]/</span>.test(<span class="code-keyword">this</span>.string.charAt(<span class="code-keyword">this</span>.pos));)++<span class="code-keyword">this</span>.pos;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pos&gt;e},<span class="code-attr">skipToEnd</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.pos=<span class="code-keyword">this</span>.string.length},<span class="code-attr">skipTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.string.indexOf(e,<span class="code-keyword">this</span>.pos);<span class="code-keyword">if</span>(t&gt;<span class="code-number">-1</span>)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pos=t,!<span class="code-number">0</span>},<span class="code-attr">backUp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.pos-=e},<span class="code-attr">column</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span><span class="code-string">"not implemented"</span>},<span class="code-attr">indentation</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span><span class="code-string">"not implemented"</span>},<span class="code-attr">match</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.string.slice(<span class="code-keyword">this</span>.pos).match(e);<span class="code-keyword">return</span> r&amp;&amp;r.index&gt;<span class="code-number">0</span>?<span class="code-literal">null</span>:(r&amp;&amp;!<span class="code-number">1</span>!==t&amp;&amp;(<span class="code-keyword">this</span>.pos+=r[<span class="code-number">0</span>].length),r)}<span class="code-keyword">var</span> o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n?e.toLowerCase():e};<span class="code-keyword">if</span>(o(<span class="code-keyword">this</span>.string.substr(<span class="code-keyword">this</span>.pos,e.length))==o(e))<span class="code-keyword">return</span>!<span class="code-number">1</span>!==t&amp;&amp;(<span class="code-keyword">this</span>.pos+=e.length),!<span class="code-number">0</span>},<span class="code-attr">current</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.string.slice(<span class="code-keyword">this</span>.start,<span class="code-keyword">this</span>.pos)},<span class="code-attr">hideFirstChars</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.lineStart+=e;<span class="code-keyword">try</span>{<span class="code-keyword">return</span> t()}<span class="code-keyword">finally</span>{<span class="code-keyword">this</span>.lineStart-=e}}};<span class="code-keyword">var</span> C=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,n,r,o</span>)</span>{s(<span class="code-keyword">this</span>,e),<span class="code-keyword">this</span>.cm=t,<span class="code-keyword">this</span>.id=n,<span class="code-keyword">this</span>.lineNumber=r+<span class="code-number">1</span>,<span class="code-keyword">this</span>.column=o+<span class="code-number">1</span>,t.marks[<span class="code-keyword">this</span>.id]=<span class="code-keyword">this</span>}<span class="code-keyword">return</span> c(e,[{<span class="code-attr">key</span>:<span class="code-string">"clear"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.cm.marks[<span class="code-keyword">this</span>.id]}},{<span class="code-attr">key</span>:<span class="code-string">"find"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> y(<span class="code-keyword">this</span>)}}]),e}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">1</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]&amp;&amp;<span class="code-built_in">arguments</span>[<span class="code-number">1</span>],n=!<span class="code-number">0</span>,o=r.KeyCode[e.keyCode];e.key&amp;&amp;(o=e.key,n=!<span class="code-number">1</span>);<span class="code-keyword">var</span> i=o,a=t;<span class="code-keyword">switch</span>(e.keyCode){<span class="code-keyword">case</span> r.KeyCode.Shift:<span class="code-keyword">case</span> r.KeyCode.Meta:<span class="code-keyword">case</span> r.KeyCode.Alt:<span class="code-keyword">case</span> r.KeyCode.Ctrl:<span class="code-keyword">return</span> i;<span class="code-keyword">case</span> r.KeyCode.Escape:a=!<span class="code-number">0</span>,i=<span class="code-string">"Esc"</span>}<span class="code-keyword">return</span> o.startsWith(<span class="code-string">"KEY_"</span>)?i=o[o.length<span class="code-number">-1</span>].toLowerCase():o.endsWith(<span class="code-string">"Arrow"</span>)?(a=!<span class="code-number">0</span>,i=o.substr(<span class="code-number">0</span>,o.length<span class="code-number">-5</span>)):o.startsWith(<span class="code-string">"US_"</span>)&amp;&amp;(i=e.browserEvent.key),a||e.altKey||e.ctrlKey||e.metaKey?(e.altKey&amp;&amp;(i=<span class="code-string">"Alt-"</span>.concat(i)),e.ctrlKey&amp;&amp;(i=<span class="code-string">"Ctrl-"</span>.concat(i)),e.metaKey&amp;&amp;(i=<span class="code-string">"Meta-"</span>.concat(i)),e.shiftKey&amp;&amp;(i=<span class="code-string">"Shift-"</span>.concat(i))):i=e.key||e.browserEvent.key,<span class="code-number">1</span>===i.length&amp;&amp;n&amp;&amp;(i=<span class="code-string">"'"</span>.concat(i,<span class="code-string">"'"</span>)),i}<span class="code-keyword">var</span> S=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{s(<span class="code-keyword">this</span>,e),M.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.editor=t,<span class="code-keyword">this</span>.state={},<span class="code-keyword">this</span>.marks={},<span class="code-keyword">this</span>.$uid=<span class="code-number">0</span>,<span class="code-keyword">this</span>.disposables=[],<span class="code-keyword">this</span>.listeners={},<span class="code-keyword">this</span>.curOp={},<span class="code-keyword">this</span>.attached=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.statusBar=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.addLocalListeners(),<span class="code-keyword">this</span>.ctxInsert=<span class="code-keyword">this</span>.editor.createContextKey(<span class="code-string">"insertMode"</span>,!<span class="code-number">0</span>)}<span class="code-keyword">return</span> c(e,[{<span class="code-attr">key</span>:<span class="code-string">"attach"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.keyMap.vim.attach(<span class="code-keyword">this</span>)}},{<span class="code-attr">key</span>:<span class="code-string">"addLocalListeners"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.disposables.push(<span class="code-keyword">this</span>.editor.onDidChangeCursorPosition(<span class="code-keyword">this</span>.handleCursorChange),<span class="code-keyword">this</span>.editor.onDidChangeModelContent(<span class="code-keyword">this</span>.handleChange),<span class="code-keyword">this</span>.editor.onKeyDown(<span class="code-keyword">this</span>.handleKeyDown))}},{<span class="code-attr">key</span>:<span class="code-string">"handleReplaceMode"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=!<span class="code-number">1</span>,o=e,i=<span class="code-keyword">this</span>.editor.getPosition(),a=<span class="code-keyword">new</span> r.Range(i.lineNumber,i.column,i.lineNumber,i.column+<span class="code-number">1</span>);<span class="code-keyword">if</span>(e.startsWith(<span class="code-string">"'"</span>))o=e[<span class="code-number">1</span>];<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"Enter"</span>===o)o=<span class="code-string">"\n"</span>;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-string">"Backspace"</span>!==o)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>.replaceStack.pop();<span class="code-keyword">if</span>(!s)<span class="code-keyword">return</span>;n=!<span class="code-number">0</span>,o=s,a=<span class="code-keyword">new</span> r.Range(i.lineNumber,i.column,i.lineNumber,i.column<span class="code-number">-1</span>)}t.preventDefault(),t.stopPropagation(),<span class="code-keyword">this</span>.replaceStack||(<span class="code-keyword">this</span>.replaceStack=[]),n||<span class="code-keyword">this</span>.replaceStack.push(<span class="code-keyword">this</span>.editor.getModel().getValueInRange(a)),<span class="code-keyword">this</span>.editor.executeEdits(<span class="code-string">"vim"</span>,[{<span class="code-attr">text</span>:o,<span class="code-attr">range</span>:a,<span class="code-attr">forceMoveMarkers</span>:!<span class="code-number">0</span>}]),n&amp;&amp;<span class="code-keyword">this</span>.editor.setPosition(a.getStartPosition())}},{<span class="code-attr">key</span>:<span class="code-string">"setOption"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.state[e]=t,<span class="code-string">"theme"</span>===e&amp;&amp;r.editor.setTheme(t)}},{<span class="code-attr">key</span>:<span class="code-string">"getConfiguration"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.editor,t=h;<span class="code-keyword">return</span><span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.getConfiguration?e.getConfiguration():(<span class="code-string">"EditorOption"</span><span class="code-keyword">in</span> r.editor&amp;&amp;(t=r.editor.EditorOption),{<span class="code-attr">readOnly</span>:e.getOption(t.readOnly),<span class="code-attr">viewInfo</span>:{<span class="code-attr">cursorWidth</span>:e.getOption(t.cursorWidth)},<span class="code-attr">fontInfo</span>:e.getOption(t.fontInfo)})}},{<span class="code-attr">key</span>:<span class="code-string">"getOption"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"readOnly"</span>===e?<span class="code-keyword">this</span>.getConfiguration().readOnly:<span class="code-string">"firstLineNumber"</span>===e?<span class="code-keyword">this</span>.firstLine()+<span class="code-number">1</span>:<span class="code-string">"indentWithTabs"</span>===e?!<span class="code-keyword">this</span>.editor.getModel().getOptions().insertSpaces:<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.editor.getConfiguration?<span class="code-keyword">this</span>.editor.getRawConfiguration()[e]:<span class="code-keyword">this</span>.editor.getRawOptions()[e]}},{<span class="code-attr">key</span>:<span class="code-string">"dispatch"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-built_in">arguments</span>.length,n=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(t&gt;<span class="code-number">1</span>?t<span class="code-number">-1</span>:<span class="code-number">0</span>),r=<span class="code-number">1</span>;r&lt;t;r++)n[r<span class="code-number">-1</span>]=<span class="code-built_in">arguments</span>[r];<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.listeners[e];o&amp;&amp;o.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.apply(<span class="code-keyword">void</span> <span class="code-number">0</span>,n)}))}},{<span class="code-attr">key</span>:<span class="code-string">"on"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.listeners[e]||(<span class="code-keyword">this</span>.listeners[e]=[]),<span class="code-keyword">this</span>.listeners[e].push(t)}},{<span class="code-attr">key</span>:<span class="code-string">"off"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.listeners[e];n&amp;&amp;(<span class="code-keyword">this</span>.listeners[e]=n.filter((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e!==t})))}},{<span class="code-attr">key</span>:<span class="code-string">"firstLine"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>}},{<span class="code-attr">key</span>:<span class="code-string">"lastLine"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.lineCount()<span class="code-number">-1</span>}},{<span class="code-attr">key</span>:<span class="code-string">"lineCount"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.editor.getModel().getLineCount()}},{<span class="code-attr">key</span>:<span class="code-string">"defaultTextHeight"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">1</span>}},{<span class="code-attr">key</span>:<span class="code-string">"getLine"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span><span class="code-string">""</span>;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.editor.getModel().getLineCount();<span class="code-keyword">return</span> e+<span class="code-number">1</span>&gt;t&amp;&amp;(e=t<span class="code-number">-1</span>),<span class="code-keyword">this</span>.editor.getModel().getLineContent(e+<span class="code-number">1</span>)}},{<span class="code-attr">key</span>:<span class="code-string">"getAnchorForSelection"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.isEmpty()?e.getPosition():e.getDirection()===r.SelectionDirection.LTR?e.getStartPosition():e.getEndPosition()}},{<span class="code-attr">key</span>:<span class="code-string">"getHeadForSelection"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.isEmpty()?e.getPosition():e.getDirection()===r.SelectionDirection.LTR?e.getEndPosition():e.getStartPosition()}},{<span class="code-attr">key</span>:<span class="code-string">"getCursor"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">0</span>]?<span class="code-built_in">arguments</span>[<span class="code-number">0</span>]:<span class="code-literal">null</span>;<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> y(<span class="code-keyword">this</span>.editor.getPosition());<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.editor.getSelection();<span class="code-keyword">return</span> y(t.isEmpty()?t.getPosition():<span class="code-string">"anchor"</span>===e?<span class="code-keyword">this</span>.getAnchorForSelection(t):<span class="code-keyword">this</span>.getHeadForSelection(t))}},{<span class="code-attr">key</span>:<span class="code-string">"getRange"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=k(e),o=k(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.editor.getModel().getValueInRange(r.Range.fromPositions(n,o))}},{<span class="code-attr">key</span>:<span class="code-string">"getSelection"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=[],t=<span class="code-keyword">this</span>.editor,n=<span class="code-keyword">this</span>.state.vim;<span class="code-keyword">return</span> t.getSelections().map((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{n.visualBlock&amp;&amp;(r.endColumn+=<span class="code-number">1</span>),e.push(t.getModel().getValueInRange(r))})),e.join(<span class="code-string">"\n"</span>)}},{<span class="code-attr">key</span>:<span class="code-string">"replaceRange"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> o=k(t),i=n?k(n):o;<span class="code-keyword">this</span>.editor.executeEdits(<span class="code-string">"vim"</span>,[{<span class="code-attr">text</span>:e,<span class="code-attr">range</span>:r.Range.fromPositions(o,i)}]),<span class="code-keyword">this</span>.pushUndoStop()}},{<span class="code-attr">key</span>:<span class="code-string">"pushUndoStop"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.editor.pushUndoStop()}},{<span class="code-attr">key</span>:<span class="code-string">"setCursor"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=e;<span class="code-string">"object"</span>!==a(e)&amp;&amp;((n={}).line=e,n.ch=t);<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.editor.getModel().validatePosition(k(n));<span class="code-keyword">this</span>.editor.setPosition(k(n)),<span class="code-keyword">this</span>.editor.revealPosition(r)}},{<span class="code-attr">key</span>:<span class="code-string">"somethingSelected"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-keyword">this</span>.editor.getSelection().isEmpty()}},{<span class="code-attr">key</span>:<span class="code-string">"operation"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e()}},{<span class="code-attr">key</span>:<span class="code-string">"listSelections"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-keyword">this</span>.editor.getSelections();<span class="code-keyword">return</span>!t.length||<span class="code-keyword">this</span>.inVirtualSelectionMode?[{<span class="code-attr">anchor</span>:<span class="code-keyword">this</span>.getCursor(<span class="code-string">"anchor"</span>),<span class="code-attr">head</span>:<span class="code-keyword">this</span>.getCursor(<span class="code-string">"head"</span>)}]:t.map((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.getPosition(),t.getStartPosition(),t.getEndPosition();<span class="code-keyword">return</span>{<span class="code-attr">anchor</span>:e.clipPos(y(e.getAnchorForSelection(t))),<span class="code-attr">head</span>:e.clipPos(y(e.getHeadForSelection(t)))}}))}},{<span class="code-attr">key</span>:<span class="code-string">"focus"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.editor.focus()}},{<span class="code-attr">key</span>:<span class="code-string">"setSelections"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=!!<span class="code-keyword">this</span>.editor.getSelections().length,o=e.map((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> o=e.anchor,i=e.head;<span class="code-keyword">return</span> n?r.Selection.fromPositions(k(o),k(i)):r.Selection.fromPositions(k(i),k(o))}));<span class="code-keyword">if</span>(t&amp;&amp;o[t]&amp;&amp;o.push(o.splice(t,<span class="code-number">1</span>)[<span class="code-number">0</span>]),o.length){<span class="code-keyword">var</span> i,a=o[<span class="code-number">0</span>];i=a.getDirection()===r.SelectionDirection.LTR?a.getEndPosition():a.getStartPosition(),<span class="code-keyword">this</span>.editor.setSelections(o),<span class="code-keyword">this</span>.editor.revealPosition(i)}}},{<span class="code-attr">key</span>:<span class="code-string">"setSelection"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=r.Range.fromPositions(k(e),k(t));<span class="code-keyword">this</span>.editor.setSelection(n)}},{<span class="code-attr">key</span>:<span class="code-string">"getSelections"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.editor;<span class="code-keyword">return</span> e.getSelections().map((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.getModel().getValueInRange(t)}))}},{<span class="code-attr">key</span>:<span class="code-string">"replaceSelections"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.editor;t.getSelections().forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r</span>)</span>{t.executeEdits(<span class="code-string">"vim"</span>,[{<span class="code-attr">range</span>:n,<span class="code-attr">text</span>:e[r],<span class="code-attr">forceMoveMarkers</span>:!<span class="code-number">1</span>}])}))}},{<span class="code-attr">key</span>:<span class="code-string">"toggleOverwrite"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e?(<span class="code-keyword">this</span>.enterVimMode(),<span class="code-keyword">this</span>.replaceMode=!<span class="code-number">0</span>):(<span class="code-keyword">this</span>.leaveVimMode(),<span class="code-keyword">this</span>.replaceMode=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.replaceStack=[])}},{<span class="code-attr">key</span>:<span class="code-string">"charCoords"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">top</span>:e.line,<span class="code-attr">left</span>:e.ch}}},{<span class="code-attr">key</span>:<span class="code-string">"coordsChar"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{}},{<span class="code-attr">key</span>:<span class="code-string">"clipPos"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> y(<span class="code-keyword">this</span>.editor.getModel().validatePosition(k(e)))}},{<span class="code-attr">key</span>:<span class="code-string">"setBookmark"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> C(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.$uid++,e.line,e.ch);<span class="code-keyword">return</span> t&amp;&amp;t.insertLeft||(n.$insertRight=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.marks[n.id]=n,n}},{<span class="code-attr">key</span>:<span class="code-string">"getScrollInfo"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.editor,t=i(e.getVisibleRanges(),<span class="code-number">1</span>)[<span class="code-number">0</span>];<span class="code-keyword">return</span>{<span class="code-attr">left</span>:<span class="code-number">0</span>,<span class="code-attr">top</span>:t.startLineNumber<span class="code-number">-1</span>,<span class="code-attr">height</span>:e.getModel().getLineCount(),<span class="code-attr">clientHeight</span>:t.endLineNumber-t.startLineNumber+<span class="code-number">1</span>}}},{<span class="code-attr">key</span>:<span class="code-string">"triggerEditorAction"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.editor.trigger(<span class="code-string">"vim"</span>,e)}},{<span class="code-attr">key</span>:<span class="code-string">"dispose"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.dispatch(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.removeOverlay(),e.keyMap.vim&amp;&amp;e.keyMap.vim.detach(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.disposables.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.dispose()}))}},{<span class="code-attr">key</span>:<span class="code-string">"getInputField"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}},{<span class="code-attr">key</span>:<span class="code-string">"getWrapperElement"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}},{<span class="code-attr">key</span>:<span class="code-string">"enterVimMode"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{!(<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">0</span>])||<span class="code-built_in">arguments</span>[<span class="code-number">0</span>];<span class="code-keyword">this</span>.ctxInsert.set(!<span class="code-number">1</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.getConfiguration();<span class="code-keyword">this</span>.initialCursorWidth=e.viewInfo.cursorWidth||<span class="code-number">0</span>,<span class="code-keyword">this</span>.editor.updateOptions({<span class="code-attr">cursorWidth</span>:e.fontInfo.typicalFullwidthCharacterWidth,<span class="code-attr">cursorBlinking</span>:<span class="code-string">"solid"</span>})}},{<span class="code-attr">key</span>:<span class="code-string">"leaveVimMode"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.ctxInsert.set(!<span class="code-number">0</span>),<span class="code-keyword">this</span>.editor.updateOptions({<span class="code-attr">cursorWidth</span>:<span class="code-keyword">this</span>.initialCursorWidth||<span class="code-number">0</span>,<span class="code-attr">cursorBlinking</span>:<span class="code-string">"blink"</span>})}},{<span class="code-attr">key</span>:<span class="code-string">"virtualSelectionMode"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.inVirtualSelectionMode}},{<span class="code-attr">key</span>:<span class="code-string">"markText"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">clear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">find</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}}},{<span class="code-attr">key</span>:<span class="code-string">"getUserVisibleLines"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.editor.getVisibleRanges();<span class="code-keyword">if</span>(!e.length)<span class="code-keyword">return</span>{<span class="code-attr">top</span>:<span class="code-number">0</span>,<span class="code-attr">bottom</span>:<span class="code-number">0</span>};<span class="code-keyword">var</span> t={<span class="code-attr">top</span>:<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-attr">bottom</span>:<span class="code-number">0</span>};<span class="code-keyword">return</span> e.reduce((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t.startLineNumber&lt;e.top&amp;&amp;(e.top=t.startLineNumber),t.endLineNumber&gt;e.bottom&amp;&amp;(e.bottom=t.endLineNumber),e}),t),t.top-=<span class="code-number">1</span>,t.bottom-=<span class="code-number">1</span>,t}},{<span class="code-attr">key</span>:<span class="code-string">"findPosV"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.editor,o=t,i=n,a=k(e);<span class="code-keyword">if</span>(<span class="code-string">"page"</span>===n){<span class="code-keyword">var</span> s=r.getLayoutInfo().height,l=<span class="code-keyword">this</span>.getConfiguration().fontInfo.lineHeight;o*=<span class="code-built_in">Math</span>.floor(s/l),i=<span class="code-string">"line"</span>}<span class="code-keyword">return</span><span class="code-string">"line"</span>===i&amp;&amp;(a.lineNumber+=o),y(a)}},{<span class="code-attr">key</span>:<span class="code-string">"findMatchingBracket"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=k(e),n=<span class="code-keyword">this</span>.editor.getModel().matchBracket(t);<span class="code-keyword">return</span> n&amp;&amp;<span class="code-number">2</span>===n.length?{<span class="code-attr">to</span>:y(n[<span class="code-number">1</span>].getStartPosition())}:{<span class="code-attr">to</span>:<span class="code-literal">null</span>}}},{<span class="code-attr">key</span>:<span class="code-string">"findFirstNonWhiteSpaceCharacter"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.editor.getModel().getLineFirstNonWhitespaceColumn(e+<span class="code-number">1</span>)<span class="code-number">-1</span>}},{<span class="code-attr">key</span>:<span class="code-string">"scrollTo"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{(e||t)&amp;&amp;(e||(t&lt;<span class="code-number">0</span>&amp;&amp;(t=<span class="code-keyword">this</span>.editor.getPosition().lineNumber-t),<span class="code-keyword">this</span>.editor.setScrollTop(<span class="code-keyword">this</span>.editor.getTopForLineNumber(t+<span class="code-number">1</span>))))}},{<span class="code-attr">key</span>:<span class="code-string">"moveCurrentLineTo"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.editor,n=t.getPosition(),o=r.Range.fromPositions(n,n);<span class="code-keyword">switch</span>(e){<span class="code-keyword">case</span><span class="code-string">"top"</span>:<span class="code-keyword">return</span> <span class="code-keyword">void</span> t.revealRangeAtTop(o);<span class="code-keyword">case</span><span class="code-string">"center"</span>:<span class="code-keyword">return</span> <span class="code-keyword">void</span> t.revealRangeInCenter(o);<span class="code-keyword">case</span><span class="code-string">"bottom"</span>:<span class="code-keyword">return</span> <span class="code-keyword">void</span> t._revealRange(o,u)}}},{<span class="code-attr">key</span>:<span class="code-string">"getSearchCursor"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=!<span class="code-number">1</span>,o=!<span class="code-number">1</span>;e <span class="code-keyword">instanceof</span> <span class="code-built_in">RegExp</span>&amp;&amp;!e.global&amp;&amp;(r=!e.ignoreCase,e=e.source,o=!<span class="code-number">0</span>),<span class="code-literal">null</span>==t.ch&amp;&amp;(t.ch=<span class="code-built_in">Number</span>.MAX_VALUE);<span class="code-keyword">var</span> i=k(t),a=<span class="code-keyword">this</span>,s=<span class="code-keyword">this</span>.editor,l=<span class="code-literal">null</span>,c=s.getModel(),u=c.findMatches(e,!<span class="code-number">1</span>,o,r)||[];<span class="code-keyword">return</span>{<span class="code-attr">getMatches</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> u},<span class="code-attr">findNext</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.find(!<span class="code-number">1</span>)},<span class="code-attr">findPrevious</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.find(!<span class="code-number">0</span>)},<span class="code-attr">jumpTo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!u||!u.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> t=u[e];<span class="code-keyword">return</span> l=t.range,a.highlightRanges([l],<span class="code-string">"currentFindMatch"</span>),a.highlightRanges(u.map((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.range})).filter((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!e.equalsRange(l)}))),l},<span class="code-attr">find</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!u||!u.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> n;<span class="code-keyword">if</span>(t){<span class="code-keyword">var</span> s=l?l.getStartPosition():i;<span class="code-keyword">if</span>(!(n=c.findPreviousMatch(e,s,o,r))||!n.range.getStartPosition().isBeforeOrEqual(s))<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> h=l?c.getPositionAt(c.getOffsetAt(l.getStartPosition())+<span class="code-number">1</span>):i;<span class="code-keyword">if</span>(!(n=c.findNextMatch(e,h,o,r))||!h.isBeforeOrEqual(n.range.getStartPosition()))<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span> l=n.range,a.highlightRanges([l],<span class="code-string">"currentFindMatch"</span>),a.highlightRanges(u.map((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.range})).filter((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!e.equalsRange(l)}))),l},<span class="code-attr">from</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> l&amp;&amp;y(l.getStartPosition())},<span class="code-attr">to</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> l&amp;&amp;y(l.getEndPosition())},<span class="code-attr">replace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{l&amp;&amp;(s.executeEdits(<span class="code-string">"vim"</span>,[{<span class="code-attr">range</span>:l,<span class="code-attr">text</span>:e,<span class="code-attr">forceMoveMarkers</span>:!<span class="code-number">0</span>}]),l.setEndPosition(s.getPosition()),s.setPosition(l.getStartPosition()))}}}},{<span class="code-attr">key</span>:<span class="code-string">"highlightRanges"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">1</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]?<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]:<span class="code-string">"findMatch"</span>,n=<span class="code-string">"decoration"</span>.concat(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>[n]=<span class="code-keyword">this</span>.editor.deltaDecorations(<span class="code-keyword">this</span>[n]||[],e.map((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">range</span>:e,<span class="code-attr">options</span>:{<span class="code-attr">stickiness</span>:r.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,<span class="code-attr">zIndex</span>:<span class="code-number">13</span>,<span class="code-attr">className</span>:t,<span class="code-attr">showIfCollapsed</span>:!<span class="code-number">0</span>}}}))),<span class="code-keyword">this</span>[n]}},{<span class="code-attr">key</span>:<span class="code-string">"addOverlay"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=e.query,o=!<span class="code-number">1</span>,i=!<span class="code-number">1</span>;r&amp;&amp;r <span class="code-keyword">instanceof</span> <span class="code-built_in">RegExp</span>&amp;&amp;!r.global&amp;&amp;(i=!<span class="code-number">0</span>,o=!r.ignoreCase,r=r.source);<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.editor.getModel().findNextMatch(r,<span class="code-keyword">this</span>.editor.getPosition(),i,o);a&amp;&amp;a.range&amp;&amp;<span class="code-keyword">this</span>.highlightRanges([a.range])}},{<span class="code-attr">key</span>:<span class="code-string">"removeOverlay"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;[<span class="code-string">"currentFindMatch"</span>,<span class="code-string">"findMatch"</span>].forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e.editor.deltaDecorations(e[<span class="code-string">"decoration"</span>.concat(t)]||[],[])}))}},{<span class="code-attr">key</span>:<span class="code-string">"scrollIntoView"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e&amp;&amp;<span class="code-keyword">this</span>.editor.revealPosition(k(e))}},{<span class="code-attr">key</span>:<span class="code-string">"moveH"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"char"</span>===t){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.editor.getPosition();<span class="code-keyword">this</span>.editor.setPosition(<span class="code-keyword">new</span> r.Position(n.lineNumber,n.column+e))}}},{<span class="code-attr">key</span>:<span class="code-string">"scanForBracket"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n,r,o</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=o.bracketRegex,a=k(t),s=<span class="code-keyword">this</span>.editor.getModel(),l=(<span class="code-number">-1</span>===n?s.findPreviousMatch:s.findNextMatch).bind(s),c=[],u=<span class="code-number">0</span>;;){<span class="code-keyword">if</span>(u&gt;<span class="code-number">10</span>)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> h=l(i.source,a,!<span class="code-number">0</span>,!<span class="code-number">0</span>,<span class="code-literal">null</span>,!<span class="code-number">0</span>),f=h.matches[<span class="code-number">0</span>];<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===h)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> p=e.matchingBrackets[f];<span class="code-keyword">if</span>(p&amp;&amp;<span class="code-string">"&gt;"</span>===p.charAt(<span class="code-number">1</span>)==n&gt;<span class="code-number">0</span>)c.push(f);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>===c.length)<span class="code-keyword">return</span>{<span class="code-attr">pos</span>:y(h.range.getStartPosition())};c.pop()}a=s.getPositionAt(s.getOffsetAt(h.range.getStartPosition())+n),u+=<span class="code-number">1</span>}}},{<span class="code-attr">key</span>:<span class="code-string">"indexFromPos"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.editor.getModel().getOffsetAt(k(e))}},{<span class="code-attr">key</span>:<span class="code-string">"posFromIndex"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> y(<span class="code-keyword">this</span>.editor.getModel().getPositionAt(e))}},{<span class="code-attr">key</span>:<span class="code-string">"indentLine"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,n=!(<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">1</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">1</span>])||<span class="code-built_in">arguments</span>[<span class="code-number">1</span>],i=<span class="code-keyword">this</span>.editor;t=i._getViewModel?i._getViewModel().cursorConfig:i._getCursors().context.config;<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> r.Position(e+<span class="code-number">1</span>,<span class="code-number">1</span>),s=r.Selection.fromPositions(a,a);i.executeCommands(<span class="code-string">"editor.action."</span>.concat(n?<span class="code-string">"indent"</span>:<span class="code-string">"outdent"</span>,<span class="code-string">"Lines"</span>),o.TypeOperations[n?<span class="code-string">"indent"</span>:<span class="code-string">"outdent"</span>](t,<span class="code-keyword">this</span>.editor.getModel(),[s]))}},{<span class="code-attr">key</span>:<span class="code-string">"setStatusBar"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.statusBar=e}},{<span class="code-attr">key</span>:<span class="code-string">"openDialog"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.statusBar)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.statusBar.setSec(e,t,n)}},{<span class="code-attr">key</span>:<span class="code-string">"openNotification"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.statusBar&amp;&amp;<span class="code-keyword">this</span>.statusBar.showNotification(e)}}]),e}();S.Pos=m,S.signal=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{e.dispatch(t,n)},S.on=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},S.off=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},S.addClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},S.rmClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},S.defineOption=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},S.keyMap={<span class="code-attr">default</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>}}},S.matchingBrackets={<span class="code-string">"("</span>:<span class="code-string">")&gt;"</span>,<span class="code-string">")"</span>:<span class="code-string">"(&lt;"</span>,<span class="code-string">"["</span>:<span class="code-string">"]&gt;"</span>,<span class="code-string">"]"</span>:<span class="code-string">"[&lt;"</span>,<span class="code-string">"{"</span>:<span class="code-string">"}&gt;"</span>,<span class="code-string">"}"</span>:<span class="code-string">"{&lt;"</span>,<span class="code-string">"&lt;"</span>:<span class="code-string">"&gt;&gt;"</span>,<span class="code-string">"&gt;"</span>:<span class="code-string">"&lt;&lt;"</span>},S.isWordChar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-regexp">/\w/</span>.test(e)||e&gt;<span class="code-string">""</span>&amp;&amp;(e.toUpperCase()!=e.toLowerCase()||g.test(e))},S.keyName=w,S.StringStream=v,S.e_stop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.stopPropagation?e.stopPropagation():e.cancelBubble=!<span class="code-number">0</span>,S.e_preventDefault(e),!<span class="code-number">1</span>},S.e_preventDefault=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.preventDefault?(e.preventDefault(),e.browserEvent&amp;&amp;e.browserEvent.preventDefault()):e.returnValue=!<span class="code-number">1</span>,!<span class="code-number">1</span>},S.commands={<span class="code-attr">redo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.editor.getModel().redo()},<span class="code-attr">undo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.editor.getModel().undo()},<span class="code-attr">newlineAndIndent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.triggerEditorAction(<span class="code-string">"editor.action.insertLineAfter"</span>)}},S.lookupKey=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,n,r</span>)</span>{<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> n&amp;&amp;(n=S.keyMap[n]);<span class="code-keyword">var</span> o=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> n?n(t):n[t];<span class="code-keyword">if</span>(!<span class="code-number">1</span>===o)<span class="code-keyword">return</span><span class="code-string">"nothing"</span>;<span class="code-keyword">if</span>(<span class="code-string">"..."</span>===o)<span class="code-keyword">return</span><span class="code-string">"multi"</span>;<span class="code-keyword">if</span>(<span class="code-literal">null</span>!=o&amp;&amp;r(o))<span class="code-keyword">return</span><span class="code-string">"handled"</span>;<span class="code-keyword">if</span>(n.fallthrough){<span class="code-keyword">if</span>(!<span class="code-built_in">Array</span>.isArray(n.fallthrough))<span class="code-keyword">return</span> e(t,n.fallthrough,r);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;n.fallthrough.length;i++){<span class="code-keyword">var</span> a=e(t,n.fallthrough[i],r);<span class="code-keyword">if</span>(a)<span class="code-keyword">return</span> a}}},S.defineExtension=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{S.prototype[e]=t};<span class="code-keyword">var</span> M=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!(t.browserEvent.defaultPrevented&amp;t.keyCode!==r.KeyCode.Escape)&amp;&amp;e.attached){<span class="code-keyword">var</span> n=w(t);<span class="code-keyword">if</span>(e.replaceMode&amp;&amp;e.handleReplaceMode(n,t),n&amp;&amp;S.keyMap.vim&amp;&amp;S.keyMap.vim.call){<span class="code-keyword">var</span> o=S.keyMap.vim.call(n,e);<span class="code-keyword">if</span>(o){t.preventDefault(),t.stopPropagation();<span class="code-keyword">try</span>{o()}<span class="code-keyword">catch</span>(e){<span class="code-built_in">console</span>.error(e)}}}}},<span class="code-keyword">this</span>.handleCursorChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=t.position,o=(t.source,e.editor),i=o.getSelection();<span class="code-keyword">if</span>(!e.ctxInsert.get()&amp;&amp;<span class="code-string">"mouse"</span>===t.source&amp;&amp;i.isEmpty()){<span class="code-keyword">var</span> a=o.getModel().getLineMaxColumn(n.lineNumber);<span class="code-keyword">if</span>(t.position.column===a)<span class="code-keyword">return</span> <span class="code-keyword">void</span> o.setPosition(<span class="code-keyword">new</span> r.Position(t.position.lineNumber,a<span class="code-number">-1</span>))}e.dispatch(<span class="code-string">"cursorActivity"</span>,e,t)},<span class="code-keyword">this</span>.handleChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n={<span class="code-attr">text</span>:t.changes.reduce((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.push(t.text),e}),[]),<span class="code-attr">origin</span>:<span class="code-string">"+input"</span>},r=e.curOp=e.curOp||{};r.changeHandlers||(r.changeHandlers=e.listeners.change&amp;&amp;e.listeners.change.slice()),e.virtualSelectionMode()||(r.lastChange?r.lastChange.next=r.lastChange=n:r.lastChange=r.change=n,e.dispatch(<span class="code-string">"change"</span>,e,n))}},x=S;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">b</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(b=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;<span class="code-string">"symbol"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>.iterator?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">typeof</span> e}:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;e.constructor===<span class="code-built_in">Symbol</span>&amp;&amp;e!==<span class="code-built_in">Symbol</span>.prototype?<span class="code-string">"symbol"</span>:<span class="code-keyword">typeof</span> e})(e)}<span class="code-keyword">var</span> A=[{<span class="code-attr">keys</span>:<span class="code-string">"&lt;Left&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"h"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;Right&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"l"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;Up&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"k"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;Down&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"j"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;Space&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"l"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;BS&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"h"</span>,<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-Space&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"W"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-BS&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"B"</span>,<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;S-Space&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"w"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;S-BS&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"b"</span>,<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-n&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"j"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-p&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"k"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-[&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"&lt;Esc&gt;"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-c&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"&lt;Esc&gt;"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-[&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"&lt;Esc&gt;"</span>,<span class="code-attr">context</span>:<span class="code-string">"insert"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-c&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"&lt;Esc&gt;"</span>,<span class="code-attr">context</span>:<span class="code-string">"insert"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"s"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"cl"</span>,<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"s"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"c"</span>,<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"S"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"cc"</span>,<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"S"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"VdO"</span>,<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;Home&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"0"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;End&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"$"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;PageUp&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"&lt;C-b&gt;"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;PageDown&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"&lt;C-f&gt;"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;CR&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"j^"</span>,<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;CR&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:<span class="code-string">"j^"</span>,<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;Ins&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"toggleOverwrite"</span>,<span class="code-attr">context</span>:<span class="code-string">"insert"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"H"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToTopLine"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"M"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToMiddleLine"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"L"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToBottomLine"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"h"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByCharacters"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"l"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByCharacters"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"j"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByLines"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"k"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByLines"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"gj"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByDisplayLines"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"gk"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByDisplayLines"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"w"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"W"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">1</span>,<span class="code-attr">bigWord</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"e"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">0</span>,<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"E"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">0</span>,<span class="code-attr">bigWord</span>:!<span class="code-number">0</span>,<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"b"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"B"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">1</span>,<span class="code-attr">bigWord</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"ge"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">0</span>,<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"gE"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">0</span>,<span class="code-attr">bigWord</span>:!<span class="code-number">0</span>,<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"{"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByParagraph"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"}"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByParagraph"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"("</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveBySentence"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">")"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveBySentence"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-f&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByPage"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-b&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByPage"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-d&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByScroll"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">explicitRepeat</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-u&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByScroll"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">explicitRepeat</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"gg"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToLineOrEdgeOfDocument"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">explicitRepeat</span>:!<span class="code-number">0</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"G"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToLineOrEdgeOfDocument"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">explicitRepeat</span>:!<span class="code-number">0</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"0"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToStartOfLine"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"^"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToFirstNonWhiteSpaceCharacter"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"+"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByLines"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">toFirstChar</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"-"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByLines"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">toFirstChar</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"_"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByLines"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">toFirstChar</span>:!<span class="code-number">0</span>,<span class="code-attr">repeatOffset</span>:<span class="code-number">-1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"$"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToEol"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"%"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToMatchedSymbol"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"f&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToCharacter"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"F&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToCharacter"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"t&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveTillCharacter"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"T&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveTillCharacter"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">";"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"repeatLastCharacterSearch"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">","</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"repeatLastCharacterSearch"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"'&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"goToMark"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"`&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"goToMark"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"]`"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"jumpToMark"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"[`"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"jumpToMark"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"]'"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"jumpToMark"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"['"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"jumpToMark"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"]p"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"paste"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">after</span>:!<span class="code-number">0</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">matchIndent</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"[p"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"paste"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">after</span>:!<span class="code-number">1</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">matchIndent</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"]&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToSymbol"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"[&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToSymbol"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"|"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToColumn"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"o"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToOtherHighlightedEnd"</span>,<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"O"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToOtherHighlightedEnd"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">sameLine</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"d"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"delete"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"y"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"yank"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"c"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"change"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"indent"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">indentRight</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"indent"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">indentRight</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"g~"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"changeCase"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"gu"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"changeCase"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">toLower</span>:!<span class="code-number">0</span>},<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>},{<span class="code-attr">keys</span>:<span class="code-string">"gU"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"changeCase"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">toLower</span>:!<span class="code-number">1</span>},<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>},{<span class="code-attr">keys</span>:<span class="code-string">"n"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"findNext"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"N"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"findNext"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"x"</span>,<span class="code-attr">type</span>:<span class="code-string">"operatorMotion"</span>,<span class="code-attr">operator</span>:<span class="code-string">"delete"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByCharacters"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>},<span class="code-attr">operatorMotionArgs</span>:{<span class="code-attr">visualLine</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"X"</span>,<span class="code-attr">type</span>:<span class="code-string">"operatorMotion"</span>,<span class="code-attr">operator</span>:<span class="code-string">"delete"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByCharacters"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>},<span class="code-attr">operatorMotionArgs</span>:{<span class="code-attr">visualLine</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"D"</span>,<span class="code-attr">type</span>:<span class="code-string">"operatorMotion"</span>,<span class="code-attr">operator</span>:<span class="code-string">"delete"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToEol"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"D"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"delete"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"Y"</span>,<span class="code-attr">type</span>:<span class="code-string">"operatorMotion"</span>,<span class="code-attr">operator</span>:<span class="code-string">"yank"</span>,<span class="code-attr">motion</span>:<span class="code-string">"expandToLine"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"Y"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"yank"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"C"</span>,<span class="code-attr">type</span>:<span class="code-string">"operatorMotion"</span>,<span class="code-attr">operator</span>:<span class="code-string">"change"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToEol"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">inclusive</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"C"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"change"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"~"</span>,<span class="code-attr">type</span>:<span class="code-string">"operatorMotion"</span>,<span class="code-attr">operator</span>:<span class="code-string">"changeCase"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByCharacters"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>},<span class="code-attr">operatorArgs</span>:{<span class="code-attr">shouldMoveCursor</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"~"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"changeCase"</span>,<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-w&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"operatorMotion"</span>,<span class="code-attr">operator</span>:<span class="code-string">"delete"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveByWords"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">wordEnd</span>:!<span class="code-number">1</span>},<span class="code-attr">context</span>:<span class="code-string">"insert"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-i&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"jumpListWalk"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-o&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"jumpListWalk"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-e&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scroll"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-y&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scroll"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"a"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">insertAt</span>:<span class="code-string">"charAfter"</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"A"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">insertAt</span>:<span class="code-string">"eol"</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"A"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">insertAt</span>:<span class="code-string">"endOfSelectedArea"</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"i"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">insertAt</span>:<span class="code-string">"inplace"</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"I"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">insertAt</span>:<span class="code-string">"firstNonBlank"</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"I"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">insertAt</span>:<span class="code-string">"startOfSelectedArea"</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"o"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"newLineAndEnterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">interlaceInsertRepeat</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">after</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"O"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"newLineAndEnterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">interlaceInsertRepeat</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">after</span>:!<span class="code-number">1</span>},<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"v"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"toggleVisualMode"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"V"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"toggleVisualMode"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">linewise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-v&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"toggleVisualMode"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">blockwise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-q&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"toggleVisualMode"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">blockwise</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"gv"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"reselectLastSelection"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"J"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"joinLines"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>},{<span class="code-attr">keys</span>:<span class="code-string">"p"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"paste"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">after</span>:!<span class="code-number">0</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"P"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"paste"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">after</span>:!<span class="code-number">1</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"r&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"replace"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>},{<span class="code-attr">keys</span>:<span class="code-string">"@&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"replayMacro"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"q&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterMacroRecordMode"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"R"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"enterInsertMode"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">replace</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"u"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"undo"</span>,<span class="code-attr">context</span>:<span class="code-string">"normal"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"u"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"changeCase"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">toLower</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>},{<span class="code-attr">keys</span>:<span class="code-string">"U"</span>,<span class="code-attr">type</span>:<span class="code-string">"operator"</span>,<span class="code-attr">operator</span>:<span class="code-string">"changeCase"</span>,<span class="code-attr">operatorArgs</span>:{<span class="code-attr">toLower</span>:!<span class="code-number">1</span>},<span class="code-attr">context</span>:<span class="code-string">"visual"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-r&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"redo"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"m&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"setMark"</span>},{<span class="code-attr">keys</span>:<span class="code-string">'"&lt;character&gt;'</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"setRegister"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"zz"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scrollToCursor"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">position</span>:<span class="code-string">"center"</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"z."</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scrollToCursor"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">position</span>:<span class="code-string">"center"</span>},<span class="code-attr">motion</span>:<span class="code-string">"moveToFirstNonWhiteSpaceCharacter"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"zt"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scrollToCursor"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">position</span>:<span class="code-string">"top"</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"z&lt;CR&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scrollToCursor"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">position</span>:<span class="code-string">"top"</span>},<span class="code-attr">motion</span>:<span class="code-string">"moveToFirstNonWhiteSpaceCharacter"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"z-"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scrollToCursor"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">position</span>:<span class="code-string">"bottom"</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"zb"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"scrollToCursor"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">position</span>:<span class="code-string">"bottom"</span>},<span class="code-attr">motion</span>:<span class="code-string">"moveToFirstNonWhiteSpaceCharacter"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"."</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"repeatLastEdit"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-a&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"incrementNumberToken"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">increase</span>:!<span class="code-number">0</span>,<span class="code-attr">backtrack</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-x&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"incrementNumberToken"</span>,<span class="code-attr">isEdit</span>:!<span class="code-number">0</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">increase</span>:!<span class="code-number">1</span>,<span class="code-attr">backtrack</span>:!<span class="code-number">1</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-t&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"indent"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">indentRight</span>:!<span class="code-number">0</span>},<span class="code-attr">context</span>:<span class="code-string">"insert"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"&lt;C-d&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"action"</span>,<span class="code-attr">action</span>:<span class="code-string">"indent"</span>,<span class="code-attr">actionArgs</span>:{<span class="code-attr">indentRight</span>:!<span class="code-number">1</span>},<span class="code-attr">context</span>:<span class="code-string">"insert"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"a&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"textObjectManipulation"</span>},{<span class="code-attr">keys</span>:<span class="code-string">"i&lt;character&gt;"</span>,<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"textObjectManipulation"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">textObjectInner</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"/"</span>,<span class="code-attr">type</span>:<span class="code-string">"search"</span>,<span class="code-attr">searchArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">querySrc</span>:<span class="code-string">"prompt"</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"?"</span>,<span class="code-attr">type</span>:<span class="code-string">"search"</span>,<span class="code-attr">searchArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">querySrc</span>:<span class="code-string">"prompt"</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"*"</span>,<span class="code-attr">type</span>:<span class="code-string">"search"</span>,<span class="code-attr">searchArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">querySrc</span>:<span class="code-string">"wordUnderCursor"</span>,<span class="code-attr">wholeWordOnly</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"#"</span>,<span class="code-attr">type</span>:<span class="code-string">"search"</span>,<span class="code-attr">searchArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">querySrc</span>:<span class="code-string">"wordUnderCursor"</span>,<span class="code-attr">wholeWordOnly</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"g*"</span>,<span class="code-attr">type</span>:<span class="code-string">"search"</span>,<span class="code-attr">searchArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">querySrc</span>:<span class="code-string">"wordUnderCursor"</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">"g#"</span>,<span class="code-attr">type</span>:<span class="code-string">"search"</span>,<span class="code-attr">searchArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">querySrc</span>:<span class="code-string">"wordUnderCursor"</span>,<span class="code-attr">toJumplist</span>:!<span class="code-number">0</span>}},{<span class="code-attr">keys</span>:<span class="code-string">":"</span>,<span class="code-attr">type</span>:<span class="code-string">"ex"</span>}],L=[{<span class="code-attr">name</span>:<span class="code-string">"colorscheme"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"colo"</span>},{<span class="code-attr">name</span>:<span class="code-string">"map"</span>},{<span class="code-attr">name</span>:<span class="code-string">"imap"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"im"</span>},{<span class="code-attr">name</span>:<span class="code-string">"nmap"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"nm"</span>},{<span class="code-attr">name</span>:<span class="code-string">"vmap"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"vm"</span>},{<span class="code-attr">name</span>:<span class="code-string">"unmap"</span>},{<span class="code-attr">name</span>:<span class="code-string">"write"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"w"</span>},{<span class="code-attr">name</span>:<span class="code-string">"undo"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"u"</span>},{<span class="code-attr">name</span>:<span class="code-string">"redo"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"red"</span>},{<span class="code-attr">name</span>:<span class="code-string">"set"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"se"</span>},{<span class="code-attr">name</span>:<span class="code-string">"set"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"se"</span>},{<span class="code-attr">name</span>:<span class="code-string">"setlocal"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"setl"</span>},{<span class="code-attr">name</span>:<span class="code-string">"setglobal"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"setg"</span>},{<span class="code-attr">name</span>:<span class="code-string">"sort"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"sor"</span>},{<span class="code-attr">name</span>:<span class="code-string">"substitute"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"s"</span>,<span class="code-attr">possiblyAsync</span>:!<span class="code-number">0</span>},{<span class="code-attr">name</span>:<span class="code-string">"nohlsearch"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"noh"</span>},{<span class="code-attr">name</span>:<span class="code-string">"yank"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"y"</span>},{<span class="code-attr">name</span>:<span class="code-string">"delmarks"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"delm"</span>},{<span class="code-attr">name</span>:<span class="code-string">"registers"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"reg"</span>,<span class="code-attr">excludeFromCommandHistory</span>:!<span class="code-number">0</span>},{<span class="code-attr">name</span>:<span class="code-string">"global"</span>,<span class="code-attr">shortName</span>:<span class="code-string">"g"</span>}],E=x.Pos;x.Vim=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,n</span>)</span>{e.attached=!<span class="code-number">1</span>,<span class="code-keyword">this</span>==x.keyMap.vim&amp;&amp;x.rmClass(e.getWrapperElement(),<span class="code-string">"cm-fat-cursor"</span>),n&amp;&amp;n.attach==t||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.setOption(<span class="code-string">"disableInput"</span>,!<span class="code-number">1</span>),e.off(<span class="code-string">"cursorActivity"</span>,$e),e.state.vim=<span class="code-literal">null</span>,e.leaveVimMode()}(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">this</span>==x.keyMap.vim&amp;&amp;(e.attached=!<span class="code-number">0</span>),n&amp;&amp;n.attach==t||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.setOption(<span class="code-string">"disableInput"</span>,!<span class="code-number">0</span>),e.setOption(<span class="code-string">"showCursorWhenSelecting"</span>,!<span class="code-number">1</span>),x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"normal"</span>}),e.on(<span class="code-string">"cursorActivity"</span>,$e),B(e),e.enterVimMode()}(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(t){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>[e])<span class="code-keyword">return</span> <span class="code-keyword">this</span>[e];<span class="code-keyword">var</span> n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"'"</span>==e.charAt(<span class="code-number">0</span>))<span class="code-keyword">return</span> e.charAt(<span class="code-number">1</span>);<span class="code-keyword">if</span>(<span class="code-string">"AltGraph"</span>==e)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> t=e.split(<span class="code-regexp">/-(?!$)/</span>),n=t[t.length<span class="code-number">-1</span>];<span class="code-keyword">if</span>(<span class="code-number">1</span>==t.length&amp;&amp;<span class="code-number">1</span>==t[<span class="code-number">0</span>].length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-number">2</span>==t.length&amp;&amp;<span class="code-string">"Shift"</span>==t[<span class="code-number">0</span>]&amp;&amp;<span class="code-number">1</span>==n.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=!<span class="code-number">1</span>,a=<span class="code-number">0</span>;a&lt;t.length;a++){<span class="code-keyword">var</span> s=t[a];s <span class="code-keyword">in</span> r?t[a]=r[s]:i=!<span class="code-number">0</span>,s <span class="code-keyword">in</span> o&amp;&amp;(t[a]=o[s])}<span class="code-keyword">if</span>(!i)<span class="code-keyword">return</span>!<span class="code-number">1</span>;m(n)&amp;&amp;(t[t.length<span class="code-number">-1</span>]=n.toLowerCase());<span class="code-keyword">return</span><span class="code-string">"&lt;"</span>+t.join(<span class="code-string">"-"</span>)+<span class="code-string">"&gt;"</span>}(e);<span class="code-keyword">if</span>(!n)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> i=x.Vim.findKey(t,n);<span class="code-keyword">return</span><span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> i&amp;&amp;x.signal(t,<span class="code-string">"vim-keypress"</span>,n),i}}x.defineOption(<span class="code-string">"vimMode"</span>,!<span class="code-number">1</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{t&amp;&amp;<span class="code-string">"vim"</span>!=e.getOption(<span class="code-string">"keyMap"</span>)?e.setOption(<span class="code-string">"keyMap"</span>,<span class="code-string">"vim"</span>):!t&amp;&amp;n!=x.Init&amp;&amp;<span class="code-regexp">/^vim/</span>.test(e.getOption(<span class="code-string">"keyMap"</span>))&amp;&amp;e.setOption(<span class="code-string">"keyMap"</span>,<span class="code-string">"default"</span>)}));<span class="code-keyword">var</span> r={<span class="code-attr">Shift</span>:<span class="code-string">"S"</span>,<span class="code-attr">Ctrl</span>:<span class="code-string">"C"</span>,<span class="code-attr">Alt</span>:<span class="code-string">"A"</span>,<span class="code-attr">Cmd</span>:<span class="code-string">"D"</span>,<span class="code-attr">Mod</span>:<span class="code-string">"A"</span>},o={<span class="code-attr">Enter</span>:<span class="code-string">"CR"</span>,<span class="code-attr">Backspace</span>:<span class="code-string">"BS"</span>,<span class="code-attr">Delete</span>:<span class="code-string">"Del"</span>,<span class="code-attr">Insert</span>:<span class="code-string">"Ins"</span>};<span class="code-keyword">var</span> i=<span class="code-regexp">/[\d]/</span>,a=[x.isWordChar,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;!x.isWordChar(e)&amp;&amp;!<span class="code-regexp">/\s/</span>.test(e)}],s=[<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-regexp">/\S/</span>.test(e)}];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],r=e;r&lt;e+t;r++)n.push(<span class="code-built_in">String</span>.fromCharCode(r));<span class="code-keyword">return</span> n}<span class="code-keyword">var</span> c=l(<span class="code-number">65</span>,<span class="code-number">26</span>),u=l(<span class="code-number">97</span>,<span class="code-number">26</span>),h=l(<span class="code-number">48</span>,<span class="code-number">10</span>),f=[].concat(c,u,h,[<span class="code-string">"&lt;"</span>,<span class="code-string">"&gt;"</span>]),p=[].concat(c,u,h,[<span class="code-string">"-"</span>,<span class="code-string">'"'</span>,<span class="code-string">"."</span>,<span class="code-string">":"</span>,<span class="code-string">"/"</span>]);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">d</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t&gt;=e.firstLine()&amp;&amp;t&lt;=e.lastLine()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">g</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-regexp">/^[a-z]$/</span>.test(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">m</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-regexp">/^[A-Z]$/</span>.test(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">v</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-regexp">/^\s*$/</span>.test(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">y</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-number">-1</span>!=<span class="code-string">".?!"</span>.indexOf(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">k</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.length;n++)<span class="code-keyword">if</span>(t[n]==e)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">var</span> C={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">e,t,n,r,o</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;!o)<span class="code-keyword">throw</span> <span class="code-built_in">Error</span>(<span class="code-string">"defaultValue is required unless callback is provided"</span>);<span class="code-keyword">if</span>(n||(n=<span class="code-string">"string"</span>),C[e]={<span class="code-attr">type</span>:n,<span class="code-attr">defaultValue</span>:t,<span class="code-attr">callback</span>:o},r)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;r.length;i++)C[r[i]]=C[e];t&amp;&amp;S(e,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">S</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=C[e],i=(r=r||{}).scope;<span class="code-keyword">if</span>(!o)<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unknown option: "</span>+e);<span class="code-keyword">if</span>(<span class="code-string">"boolean"</span>==o.type){<span class="code-keyword">if</span>(t&amp;&amp;!<span class="code-number">0</span>!==t)<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid argument: "</span>+e+<span class="code-string">"="</span>+t);!<span class="code-number">1</span>!==t&amp;&amp;(t=!<span class="code-number">0</span>)}o.callback?(<span class="code-string">"local"</span>!==i&amp;&amp;o.callback(t,<span class="code-keyword">void</span> <span class="code-number">0</span>),<span class="code-string">"global"</span>!==i&amp;&amp;n&amp;&amp;o.callback(t,n)):(<span class="code-string">"local"</span>!==i&amp;&amp;(o.value=<span class="code-string">"boolean"</span>==o.type?!!t:t),<span class="code-string">"global"</span>!==i&amp;&amp;n&amp;&amp;(n.state.vim.options[e]={<span class="code-attr">value</span>:t}))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">M</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=C[e],o=(n=n||{}).scope;<span class="code-keyword">if</span>(!r)<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unknown option: "</span>+e);<span class="code-keyword">if</span>(r.callback){<span class="code-keyword">var</span> i=t&amp;&amp;r.callback(<span class="code-keyword">void</span> <span class="code-number">0</span>,t);<span class="code-keyword">return</span><span class="code-string">"global"</span>!==o&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==i?i:<span class="code-string">"local"</span>!==o?r.callback():<span class="code-keyword">void</span> <span class="code-number">0</span>}<span class="code-keyword">return</span>((i=<span class="code-string">"global"</span>!==o&amp;&amp;t&amp;&amp;t.state.vim.options[e])||<span class="code-string">"local"</span>!==o&amp;&amp;r||{}).value}w(<span class="code-string">"filetype"</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-string">"string"</span>,[<span class="code-string">"ft"</span>],(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t){<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span><span class="code-string">"null"</span>==(n=t.getOption(<span class="code-string">"mode"</span>))?<span class="code-string">""</span>:n;<span class="code-keyword">var</span> n=<span class="code-string">""</span>==e?<span class="code-string">"null"</span>:e;t.setOption(<span class="code-string">"mode"</span>,n)}}));<span class="code-keyword">var</span> T,R,O=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e?{<span class="code-attr">changes</span>:e.changes,<span class="code-attr">expectCursorActivityForChange</span>:e.expectCursorActivityForChange}:{<span class="code-attr">changes</span>:[],<span class="code-attr">expectCursorActivityForChange</span>:!<span class="code-number">1</span>}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">I</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.latestRegister=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>.isPlaying=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.isRecording=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.replaySearchQueries=[],<span class="code-keyword">this</span>.onRecordingDone=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>.lastInsertModeChanges=O()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">B</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.state.vim||(e.state.vim={<span class="code-attr">inputState</span>:<span class="code-keyword">new</span> K,<span class="code-attr">lastEditInputState</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">lastEditActionCommand</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">lastHPos</span>:<span class="code-number">-1</span>,<span class="code-attr">lastHSPos</span>:<span class="code-number">-1</span>,<span class="code-attr">lastMotion</span>:<span class="code-literal">null</span>,<span class="code-attr">marks</span>:{},<span class="code-attr">fakeCursor</span>:<span class="code-literal">null</span>,<span class="code-attr">insertMode</span>:!<span class="code-number">1</span>,<span class="code-attr">insertModeRepeat</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">visualMode</span>:!<span class="code-number">1</span>,<span class="code-attr">visualLine</span>:!<span class="code-number">1</span>,<span class="code-attr">visualBlock</span>:!<span class="code-number">1</span>,<span class="code-attr">lastSelection</span>:<span class="code-literal">null</span>,<span class="code-attr">lastPastedText</span>:<span class="code-literal">null</span>,<span class="code-attr">sel</span>:{},<span class="code-attr">options</span>:{}}),e.state.vim}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">P</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,n,r;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> T={<span class="code-attr">searchQuery</span>:<span class="code-literal">null</span>,<span class="code-attr">searchIsReversed</span>:!<span class="code-number">1</span>,<span class="code-attr">lastSubstituteReplacePart</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">jumpList</span>:(e=<span class="code-number">-1</span>,t=<span class="code-number">0</span>,n=<span class="code-number">0</span>,r=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(<span class="code-number">100</span>),{<span class="code-attr">cachedCursor</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">add</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">o,i,a</span>)</span>{<span class="code-keyword">var</span> s=r[e%<span class="code-number">100</span>];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=++e%<span class="code-number">100</span>,i=r[n];i&amp;&amp;i.clear(),r[n]=o.setBookmark(t)}<span class="code-keyword">if</span>(s){<span class="code-keyword">var</span> c=s.find();c&amp;&amp;!Y(c,i)&amp;&amp;l(i)}<span class="code-keyword">else</span> l(i);l(a),t=e,(n=e<span class="code-number">-100</span>+<span class="code-number">1</span>)&lt;<span class="code-number">0</span>&amp;&amp;(n=<span class="code-number">0</span>)},<span class="code-attr">move</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">o,i</span>)</span>{(e+=i)&gt;t?e=t:e&lt;n&amp;&amp;(e=n);<span class="code-keyword">var</span> a=r[(<span class="code-number">100</span>+e)%<span class="code-number">100</span>];<span class="code-keyword">if</span>(a&amp;&amp;!a.find()){<span class="code-keyword">var</span> s,l=i&gt;<span class="code-number">0</span>?<span class="code-number">1</span>:<span class="code-number">-1</span>,c=o.getCursor();<span class="code-keyword">do</span>{<span class="code-keyword">if</span>((a=r[(<span class="code-number">100</span>+(e+=l))%<span class="code-number">100</span>])&amp;&amp;(s=a.find())&amp;&amp;!Y(c,s))<span class="code-keyword">break</span>}<span class="code-keyword">while</span>(e&lt;t&amp;&amp;e&gt;n)}<span class="code-keyword">return</span> a}}),<span class="code-attr">macroModeState</span>:<span class="code-keyword">new</span> I,<span class="code-attr">lastCharacterSearch</span>:{<span class="code-attr">increment</span>:<span class="code-number">0</span>,<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">selectedCharacter</span>:<span class="code-string">""</span>},<span class="code-attr">registerController</span>:<span class="code-keyword">new</span> D({}),<span class="code-attr">searchHistoryController</span>:<span class="code-keyword">new</span> _,<span class="code-attr">exCommandHistoryController</span>:<span class="code-keyword">new</span> _},C){<span class="code-keyword">var</span> i=C[o];i.value=i.defaultValue}}I.prototype={<span class="code-attr">exitMacroRecordMode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=T.macroModeState;e.onRecordingDone&amp;&amp;e.onRecordingDone(),e.onRecordingDone=<span class="code-keyword">void</span> <span class="code-number">0</span>,e.isRecording=!<span class="code-number">1</span>},<span class="code-attr">enterMacroRecordMode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=T.registerController.getRegister(t);n&amp;&amp;(n.clear(),<span class="code-keyword">this</span>.latestRegister=t,e.openDialog&amp;&amp;(<span class="code-keyword">this</span>.onRecordingDone=e.openDialog(<span class="code-string">"(recording)["</span>+t+<span class="code-string">"]"</span>,<span class="code-literal">null</span>,{<span class="code-attr">bottom</span>:!<span class="code-number">0</span>})),<span class="code-keyword">this</span>.isRecording=!<span class="code-number">0</span>)}};<span class="code-keyword">var</span> N={<span class="code-attr">buildKeyMap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">getRegisterController</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> T.registerController},<span class="code-attr">resetVimGlobalState_</span>:P,<span class="code-attr">getVimGlobalState_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> T},<span class="code-attr">maybeInitVimState_</span>:B,<span class="code-attr">suppressErrorLogging</span>:!<span class="code-number">1</span>,<span class="code-attr">InsertModeKey</span>:Qe,<span class="code-attr">map</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{je.map(e,t,n)},<span class="code-attr">unmap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{je.unmap(e,t)},<span class="code-attr">noremap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e?[e]:[<span class="code-string">"normal"</span>,<span class="code-string">"insert"</span>,<span class="code-string">"visual"</span>]}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=r(n),i=A.length,a=i-defaultKeymapLength;a&lt;i&amp;&amp;o.length;a++){<span class="code-keyword">var</span> s=A[a];<span class="code-keyword">if</span>(!(s.keys!=t||n&amp;&amp;s.context&amp;&amp;s.context!==n||<span class="code-string">"ex"</span>===s.type.substr(<span class="code-number">0</span>,<span class="code-number">2</span>)||<span class="code-string">"key"</span>===s.type.substr(<span class="code-number">0</span>,<span class="code-number">3</span>))){<span class="code-keyword">var</span> l={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c <span class="code-keyword">in</span> s)l[c]=s[c];l.keys=e,n&amp;&amp;!l.context&amp;&amp;(l.context=n),<span class="code-keyword">this</span>._mapCommand(l);<span class="code-keyword">var</span> u=r(s.context);o=o.filter((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-number">-1</span>===u.indexOf(e)}))}}},<span class="code-attr">setOption</span>:S,<span class="code-attr">getOption</span>:M,<span class="code-attr">defineOption</span>:w,<span class="code-attr">defineEx</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(t){<span class="code-keyword">if</span>(<span class="code-number">0</span>!==e.indexOf(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'(Vim.defineEx) "'</span>+t+<span class="code-string">'" is not a prefix of "'</span>+e+<span class="code-string">'", command not registered'</span>)}<span class="code-keyword">else</span> t=e;_e[e]=n,je.commandMap_[t]={<span class="code-attr">name</span>:e,<span class="code-attr">shortName</span>:t,<span class="code-attr">type</span>:<span class="code-string">"api"</span>}},<span class="code-attr">handleKey</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.findKey(e,t,n);<span class="code-keyword">if</span>(<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> r)<span class="code-keyword">return</span> r()},<span class="code-attr">findKey</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r,o=B(e);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> r=T.macroModeState;<span class="code-keyword">if</span>(r.isRecording){<span class="code-keyword">if</span>(<span class="code-string">"q"</span>==t)<span class="code-keyword">return</span> r.exitMacroRecordMode(),V(e),!<span class="code-number">0</span>;<span class="code-string">"mapping"</span>!=n&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e.isPlaying)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> n=e.latestRegister,r=T.registerController.getRegister(n);r&amp;&amp;r.pushText(t)}(r,t)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"&lt;Esc&gt;"</span>==t)<span class="code-keyword">return</span> V(e),o.visualMode?he(e):o.insertMode&amp;&amp;Fe(e),!<span class="code-number">0</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>===(r=o.insertMode?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(a())<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=o.inputState.keyBuffer=o.inputState.keyBuffer+t,r=<span class="code-number">1</span>==t.length,i=j.matchCommand(n,A,o.inputState,<span class="code-string">"insert"</span>);n.length&gt;<span class="code-number">1</span>&amp;&amp;<span class="code-string">"full"</span>!=i.type;){n=o.inputState.keyBuffer=n.slice(<span class="code-number">1</span>);<span class="code-keyword">var</span> s=j.matchCommand(n,A,o.inputState,<span class="code-string">"insert"</span>);<span class="code-string">"none"</span>!=s.type&amp;&amp;(i=s)}<span class="code-keyword">if</span>(<span class="code-string">"none"</span>==i.type)<span class="code-keyword">return</span> V(e),!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-string">"partial"</span>==i.type)<span class="code-keyword">return</span> R&amp;&amp;<span class="code-built_in">window</span>.clearTimeout(R),R=<span class="code-built_in">window</span>.setTimeout((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{o.insertMode&amp;&amp;o.inputState.keyBuffer&amp;&amp;V(e)}),M(<span class="code-string">"insertModeEscKeysTimeout"</span>)),!r;<span class="code-keyword">if</span>(R&amp;&amp;<span class="code-built_in">window</span>.clearTimeout(R),r){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=e.listSelections(),c=<span class="code-number">0</span>;c&lt;l.length;c++){<span class="code-keyword">var</span> u=l[c].head;e.replaceRange(<span class="code-string">""</span>,Q(u,<span class="code-number">0</span>,-(n.length<span class="code-number">-1</span>)),u,<span class="code-string">"+input"</span>)}T.macroModeState.lastInsertModeChanges.changes.pop()}<span class="code-keyword">return</span> V(e),i.command}():<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(i()||a())<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> n=o.inputState.keyBuffer=o.inputState.keyBuffer+t;<span class="code-keyword">if</span>(<span class="code-regexp">/^[1-9]\d*$/</span>.test(n))<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(!(r=<span class="code-regexp">/^(\d*)(.*)$/</span>.exec(n)))<span class="code-keyword">return</span> V(e),!<span class="code-number">1</span>;<span class="code-keyword">var</span> r,s=o.visualMode?<span class="code-string">"visual"</span>:<span class="code-string">"normal"</span>,l=j.matchCommand(r[<span class="code-number">2</span>]||r[<span class="code-number">1</span>],A,o.inputState,s);<span class="code-keyword">return</span><span class="code-string">"none"</span>==l.type?(V(e),!<span class="code-number">1</span>):<span class="code-string">"partial"</span>==l.type||(o.inputState.keyBuffer=<span class="code-string">""</span>,(r=<span class="code-regexp">/^(\d*)(.*)$/</span>.exec(n))[<span class="code-number">1</span>]&amp;&amp;<span class="code-string">"0"</span>!=r[<span class="code-number">1</span>]&amp;&amp;o.inputState.pushRepeatDigit(r[<span class="code-number">1</span>]),l.command)}())?o.insertMode||<span class="code-number">1</span>!==t.length?<span class="code-keyword">void</span> <span class="code-number">0</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>}:!<span class="code-number">0</span>===r?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>}:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.operation((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.curOp.isVimOp=!<span class="code-number">0</span>;<span class="code-keyword">try</span>{<span class="code-string">"keyToKey"</span>==r.type?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r;n;)r=<span class="code-regexp">/&lt;\w+-.+?&gt;|&lt;\w+&gt;|./</span>.exec(n),t=r[<span class="code-number">0</span>],n=n.substring(r.index+t.length),x.Vim.handleKey(e,t,<span class="code-string">"mapping"</span>)}(r.toKeys):j.processCommand(e,o,r)}<span class="code-keyword">catch</span>(t){<span class="code-keyword">throw</span> e.state.vim=<span class="code-keyword">void</span> <span class="code-number">0</span>,B(e),x.Vim.suppressErrorLogging||<span class="code-built_in">console</span>.log(t),t}<span class="code-keyword">return</span>!<span class="code-number">0</span>}))}},<span class="code-attr">handleEx</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{je.processCommand(e,t)},<span class="code-attr">defineMotion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{F[e]=t},<span class="code-attr">defineAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{q[e]=t},<span class="code-attr">defineOperator</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{U[e]=t},<span class="code-attr">mapCommand</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r,o</span>)</span>{<span class="code-keyword">var</span> i={<span class="code-attr">keys</span>:e,<span class="code-attr">type</span>:t};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> i[t]=n,i[t+<span class="code-string">"Args"</span>]=r,o)i[a]=o[a];He(i)},<span class="code-attr">_mapCommand</span>:He,<span class="code-attr">defineRegister</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=T.registerController.registers;<span class="code-keyword">if</span>(!e||<span class="code-number">1</span>!=e.length)<span class="code-keyword">throw</span> <span class="code-built_in">Error</span>(<span class="code-string">"Register name must be 1 character"</span>);<span class="code-keyword">if</span>(n[e])<span class="code-keyword">throw</span> <span class="code-built_in">Error</span>(<span class="code-string">"Register already defined "</span>+e);n[e]=t,p.push(e)},<span class="code-attr">exitVisualMode</span>:he,<span class="code-attr">exitInsertMode</span>:Fe};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">K</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.prefixRepeat=[],<span class="code-keyword">this</span>.motionRepeat=[],<span class="code-keyword">this</span>.operator=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.operatorArgs=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.motion=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.motionArgs=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.keyBuffer=[],<span class="code-keyword">this</span>.registerName=<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">V</span>(<span class="code-params">e,t</span>)</span>{e.state.vim.inputState=<span class="code-keyword">new</span> K,x.signal(e,<span class="code-string">"vim-command-done"</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">W</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">this</span>.clear(),<span class="code-keyword">this</span>.keyBuffer=[e||<span class="code-string">""</span>],<span class="code-keyword">this</span>.insertModeChanges=[],<span class="code-keyword">this</span>.searchQueries=[],<span class="code-keyword">this</span>.linewise=!!t,<span class="code-keyword">this</span>.blockwise=!!n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">D</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.registers=e,<span class="code-keyword">this</span>.unnamedRegister=e[<span class="code-string">'"'</span>]=<span class="code-keyword">new</span> W,e[<span class="code-string">"."</span>]=<span class="code-keyword">new</span> W,e[<span class="code-string">":"</span>]=<span class="code-keyword">new</span> W,e[<span class="code-string">"/"</span>]=<span class="code-keyword">new</span> W}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.historyBuffer=[],<span class="code-keyword">this</span>.iterator=<span class="code-number">0</span>,<span class="code-keyword">this</span>.initialPrefix=<span class="code-literal">null</span>}K.prototype.pushRepeatDigit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.operator?<span class="code-keyword">this</span>.motionRepeat=<span class="code-keyword">this</span>.motionRepeat.concat(e):<span class="code-keyword">this</span>.prefixRepeat=<span class="code-keyword">this</span>.prefixRepeat.concat(e)},K.prototype.getRepeat=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">0</span>;<span class="code-keyword">return</span>(<span class="code-keyword">this</span>.prefixRepeat.length&gt;<span class="code-number">0</span>||<span class="code-keyword">this</span>.motionRepeat.length&gt;<span class="code-number">0</span>)&amp;&amp;(e=<span class="code-number">1</span>,<span class="code-keyword">this</span>.prefixRepeat.length&gt;<span class="code-number">0</span>&amp;&amp;(e*=<span class="code-built_in">parseInt</span>(<span class="code-keyword">this</span>.prefixRepeat.join(<span class="code-string">""</span>),<span class="code-number">10</span>)),<span class="code-keyword">this</span>.motionRepeat.length&gt;<span class="code-number">0</span>&amp;&amp;(e*=<span class="code-built_in">parseInt</span>(<span class="code-keyword">this</span>.motionRepeat.join(<span class="code-string">""</span>),<span class="code-number">10</span>))),e},W.prototype={<span class="code-attr">setText</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">this</span>.keyBuffer=[e||<span class="code-string">""</span>],<span class="code-keyword">this</span>.linewise=!!t,<span class="code-keyword">this</span>.blockwise=!!n},<span class="code-attr">pushText</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t&amp;&amp;(<span class="code-keyword">this</span>.linewise||<span class="code-keyword">this</span>.keyBuffer.push(<span class="code-string">"\n"</span>),<span class="code-keyword">this</span>.linewise=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.keyBuffer.push(e)},<span class="code-attr">pushInsertModeChanges</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.insertModeChanges.push(O(e))},<span class="code-attr">pushSearchQuery</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.searchQueries.push(e)},<span class="code-attr">clear</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.keyBuffer=[],<span class="code-keyword">this</span>.insertModeChanges=[],<span class="code-keyword">this</span>.searchQueries=[],<span class="code-keyword">this</span>.linewise=!<span class="code-number">1</span>},<span class="code-attr">toString</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.keyBuffer.join(<span class="code-string">""</span>)}},D.prototype={<span class="code-attr">pushText</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r,o</span>)</span>{r&amp;&amp;<span class="code-string">"\n"</span>!==n.charAt(n.length<span class="code-number">-1</span>)&amp;&amp;(n+=<span class="code-string">"\n"</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.isValidRegister(e)?<span class="code-keyword">this</span>.getRegister(e):<span class="code-literal">null</span>;<span class="code-keyword">if</span>(i){m(e)?i.pushText(n,r):i.setText(n,r,o),<span class="code-keyword">this</span>.unnamedRegister.setText(i.toString(),r)}<span class="code-keyword">else</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span><span class="code-string">"yank"</span>:<span class="code-keyword">this</span>.registers[<span class="code-number">0</span>]=<span class="code-keyword">new</span> W(n,r,o);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"delete"</span>:<span class="code-keyword">case</span><span class="code-string">"change"</span>:<span class="code-number">-1</span>==n.indexOf(<span class="code-string">"\n"</span>)?<span class="code-keyword">this</span>.registers[<span class="code-string">"-"</span>]=<span class="code-keyword">new</span> W(n,r):(<span class="code-keyword">this</span>.shiftNumericRegisters_(),<span class="code-keyword">this</span>.registers[<span class="code-number">1</span>]=<span class="code-keyword">new</span> W(n,r))}<span class="code-keyword">this</span>.unnamedRegister.setText(n,r,o)}},<span class="code-attr">getRegister</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isValidRegister(e)?(e=e.toLowerCase(),<span class="code-keyword">this</span>.registers[e]||(<span class="code-keyword">this</span>.registers[e]=<span class="code-keyword">new</span> W),<span class="code-keyword">this</span>.registers[e]):<span class="code-keyword">this</span>.unnamedRegister},<span class="code-attr">isValidRegister</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;k(e,p)},<span class="code-attr">shiftNumericRegisters_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">9</span>;e&gt;=<span class="code-number">2</span>;e--)<span class="code-keyword">this</span>.registers[e]=<span class="code-keyword">this</span>.getRegister(<span class="code-string">""</span>+(e<span class="code-number">-1</span>))}},_.prototype={<span class="code-attr">nextMatch</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.historyBuffer,r=t?<span class="code-number">-1</span>:<span class="code-number">1</span>;<span class="code-literal">null</span>===<span class="code-keyword">this</span>.initialPrefix&amp;&amp;(<span class="code-keyword">this</span>.initialPrefix=e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>.iterator+r;t?o&gt;=<span class="code-number">0</span>:o&lt;n.length;o+=r)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=n[o],a=<span class="code-number">0</span>;a&lt;=i.length;a++)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.initialPrefix==i.substring(<span class="code-number">0</span>,a))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.iterator=o,i;<span class="code-keyword">return</span> o&gt;=n.length?(<span class="code-keyword">this</span>.iterator=n.length,<span class="code-keyword">this</span>.initialPrefix):o&lt;<span class="code-number">0</span>?e:<span class="code-keyword">void</span> <span class="code-number">0</span>},<span class="code-attr">pushInput</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.historyBuffer.indexOf(e);t&gt;<span class="code-number">-1</span>&amp;&amp;<span class="code-keyword">this</span>.historyBuffer.splice(t,<span class="code-number">1</span>),e.length&amp;&amp;<span class="code-keyword">this</span>.historyBuffer.push(e)},<span class="code-attr">reset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.initialPrefix=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.iterator=<span class="code-keyword">this</span>.historyBuffer.length}};<span class="code-keyword">var</span> j={<span class="code-attr">matchCommand</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o,i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o,i=[],a=[],s=<span class="code-number">0</span>;s&lt;t.length;s++){<span class="code-keyword">var</span> l=t[s];<span class="code-string">"insert"</span>==n&amp;&amp;<span class="code-string">"insert"</span>!=l.context||l.context&amp;&amp;l.context!=n||r.operator&amp;&amp;<span class="code-string">"action"</span>==l.type||!(o=z(e,l.keys))||(<span class="code-string">"partial"</span>==o&amp;&amp;i.push(l),<span class="code-string">"full"</span>==o&amp;&amp;a.push(l))}<span class="code-keyword">return</span>{<span class="code-attr">partial</span>:i.length&amp;&amp;i,<span class="code-attr">full</span>:a.length&amp;&amp;a}}(e,t,r,n);<span class="code-keyword">if</span>(!i.full&amp;&amp;!i.partial)<span class="code-keyword">return</span>{<span class="code-attr">type</span>:<span class="code-string">"none"</span>};<span class="code-keyword">if</span>(!i.full&amp;&amp;i.partial)<span class="code-keyword">return</span>{<span class="code-attr">type</span>:<span class="code-string">"partial"</span>};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;i.full.length;a++){<span class="code-keyword">var</span> s=i.full[a];o||(o=s)}<span class="code-keyword">if</span>(<span class="code-string">"&lt;character&gt;"</span>==o.keys.slice(<span class="code-number">-11</span>)){<span class="code-keyword">var</span> l=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-regexp">/^.*(&lt;[^&gt;]+&gt;)$/</span>.exec(e),n=t?t[<span class="code-number">1</span>]:e.slice(<span class="code-number">-1</span>);<span class="code-keyword">if</span>(n.length&gt;<span class="code-number">1</span>)<span class="code-keyword">switch</span>(n){<span class="code-keyword">case</span><span class="code-string">"&lt;CR&gt;"</span>:n=<span class="code-string">"\n"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"&lt;Space&gt;"</span>:n=<span class="code-string">" "</span>;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:n=<span class="code-string">""</span>}<span class="code-keyword">return</span> n}(e);<span class="code-keyword">if</span>(!l)<span class="code-keyword">return</span>{<span class="code-attr">type</span>:<span class="code-string">"none"</span>};n.selectedCharacter=l}<span class="code-keyword">return</span>{<span class="code-attr">type</span>:<span class="code-string">"full"</span>,<span class="code-attr">command</span>:o}},<span class="code-attr">processCommand</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">switch</span>(t.inputState.repeatOverride=n.repeatOverride,n.type){<span class="code-keyword">case</span><span class="code-string">"motion"</span>:<span class="code-keyword">this</span>.processMotion(e,t,n);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"operator"</span>:<span class="code-keyword">this</span>.processOperator(e,t,n);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"operatorMotion"</span>:<span class="code-keyword">this</span>.processOperatorMotion(e,t,n);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"action"</span>:<span class="code-keyword">this</span>.processAction(e,t,n);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"search"</span>:<span class="code-keyword">this</span>.processSearch(e,t,n);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"ex"</span>:<span class="code-keyword">case</span><span class="code-string">"keyToEx"</span>:<span class="code-keyword">this</span>.processEx(e,t,n)}},<span class="code-attr">processMotion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{t.inputState.motion=n.motion,t.inputState.motionArgs=J(n.motionArgs),<span class="code-keyword">this</span>.evalInput(e,t)},<span class="code-attr">processOperator</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t.inputState;<span class="code-keyword">if</span>(r.operator){<span class="code-keyword">if</span>(r.operator==n.operator)<span class="code-keyword">return</span> r.motion=<span class="code-string">"expandToLine"</span>,r.motionArgs={<span class="code-attr">linewise</span>:!<span class="code-number">0</span>},<span class="code-keyword">void</span> <span class="code-keyword">this</span>.evalInput(e,t);V(e)}r.operator=n.operator,r.operatorArgs=J(n.operatorArgs),t.visualMode&amp;&amp;<span class="code-keyword">this</span>.evalInput(e,t)},<span class="code-attr">processOperatorMotion</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t.visualMode,o=J(n.operatorMotionArgs);o&amp;&amp;r&amp;&amp;o.visualLine&amp;&amp;(t.visualLine=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.processOperator(e,t,n),r||<span class="code-keyword">this</span>.processMotion(e,t,n)},<span class="code-attr">processAction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t.inputState,o=r.getRepeat(),i=!!o,a=J(n.actionArgs)||{};r.selectedCharacter&amp;&amp;(a.selectedCharacter=r.selectedCharacter),n.operator&amp;&amp;<span class="code-keyword">this</span>.processOperator(e,t,n),n.motion&amp;&amp;<span class="code-keyword">this</span>.processMotion(e,t,n),(n.motion||n.operator)&amp;&amp;<span class="code-keyword">this</span>.evalInput(e,t),a.repeat=o||<span class="code-number">1</span>,a.repeatIsExplicit=i,a.registerName=r.registerName,V(e),t.lastMotion=<span class="code-literal">null</span>,n.isEdit&amp;&amp;<span class="code-keyword">this</span>.recordLastEdit(t,r,n),q[n.action](e,a,t)},<span class="code-attr">processSearch</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(e.getSearchCursor){<span class="code-keyword">var</span> r=n.searchArgs.forward,o=n.searchArgs.wholeWordOnly;Me(e).setReversed(!r);<span class="code-keyword">var</span> i=r?<span class="code-string">"/"</span>:<span class="code-string">"?"</span>,a=Me(e).getQuery(),s=e.getScrollInfo();<span class="code-keyword">switch</span>(n.searchArgs.querySrc){<span class="code-keyword">case</span><span class="code-string">"prompt"</span>:<span class="code-keyword">var</span> l=T.macroModeState;<span class="code-keyword">if</span>(l.isPlaying)f(h=l.replaySearchQueries.shift(),!<span class="code-number">0</span>,!<span class="code-number">1</span>);<span class="code-keyword">else</span> Ie(e,{<span class="code-attr">onClose</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{e.scrollTo(s.left,s.top),f(t,!<span class="code-number">0</span>,!<span class="code-number">0</span>);<span class="code-keyword">var</span> n=T.macroModeState;n.isRecording&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e.isPlaying)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> n=e.latestRegister,r=T.registerController.getRegister(n);r&amp;&amp;r.pushSearchQuery&amp;&amp;r.pushSearchQuery(t)}(n,t)},<span class="code-attr">prefix</span>:i,<span class="code-attr">desc</span>:Oe,<span class="code-attr">onKeyUp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n,o</span>)</span>{<span class="code-keyword">var</span> i,a,l,c=x.keyName(t);<span class="code-string">"Up"</span>==c||<span class="code-string">"Down"</span>==c?(i=<span class="code-string">"Up"</span>==c,a=t.target?t.target.selectionEnd:<span class="code-number">0</span>,o(n=T.searchHistoryController.nextMatch(n,i)||<span class="code-string">""</span>),a&amp;&amp;t.target&amp;&amp;(t.target.selectionEnd=t.target.selectionStart=<span class="code-built_in">Math</span>.min(a,t.target.value.length))):<span class="code-string">"Left"</span>!=c&amp;&amp;<span class="code-string">"Right"</span>!=c&amp;&amp;<span class="code-string">"Ctrl"</span>!=c&amp;&amp;<span class="code-string">"Alt"</span>!=c&amp;&amp;<span class="code-string">"Shift"</span>!=c&amp;&amp;T.searchHistoryController.reset();<span class="code-keyword">try</span>{l=Be(e,n,!<span class="code-number">0</span>,!<span class="code-number">0</span>)}<span class="code-keyword">catch</span>(t){}l?e.scrollIntoView(Ne(e,!r,l),<span class="code-number">30</span>):(Ke(e),e.scrollTo(s.left,s.top))},<span class="code-attr">onKeyDown</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n,r</span>)</span>{<span class="code-keyword">var</span> o=x.keyName(t);<span class="code-string">"Esc"</span>==o||<span class="code-string">"Ctrl-C"</span>==o||<span class="code-string">"Ctrl-["</span>==o||<span class="code-string">"Backspace"</span>==o&amp;&amp;<span class="code-string">""</span>==n?(T.searchHistoryController.pushInput(n),T.searchHistoryController.reset(),Be(e,a),Ke(e),e.scrollTo(s.left,s.top),x.e_stop(t),V(e),r(),e.focus()):<span class="code-string">"Up"</span>==o||<span class="code-string">"Down"</span>==o?x.e_stop(t):<span class="code-string">"Ctrl-U"</span>==o&amp;&amp;(x.e_stop(t),r(<span class="code-string">""</span>))}});<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"wordUnderCursor"</span>:<span class="code-keyword">var</span> c=fe(e,!<span class="code-number">1</span>,!<span class="code-number">0</span>,!<span class="code-number">1</span>,!<span class="code-number">0</span>),u=!<span class="code-number">0</span>;<span class="code-keyword">if</span>(c||(c=fe(e,!<span class="code-number">1</span>,!<span class="code-number">0</span>,!<span class="code-number">1</span>,!<span class="code-number">1</span>),u=!<span class="code-number">1</span>),!c)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> h=e.getLine(c.start.line).substring(c.start.ch,c.end.ch);h=u&amp;&amp;o?<span class="code-string">"\\b"</span>+h+<span class="code-string">"\\b"</span>:h.replace(<span class="code-regexp">/([.?*+$\[\]\/\\(){}|\-])/g</span>,<span class="code-string">"\\$1"</span>),T.jumpList.cachedCursor=e.getCursor(),e.setCursor(c.start),f(h,!<span class="code-number">0</span>,!<span class="code-number">1</span>)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">f</span>(<span class="code-params">r,o,i</span>)</span>{T.searchHistoryController.pushInput(r),T.searchHistoryController.reset();<span class="code-keyword">try</span>{Be(e,r,o,i)}<span class="code-keyword">catch</span>(t){<span class="code-keyword">return</span> Re(e,<span class="code-string">"Invalid regex: "</span>+r),<span class="code-keyword">void</span> V(e)}j.processMotion(e,t,{<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"findNext"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">0</span>,<span class="code-attr">toJumplist</span>:n.searchArgs.toJumplist}})}},<span class="code-attr">processEx</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t</span>)</span>{T.exCommandHistoryController.pushInput(t),T.exCommandHistoryController.reset(),je.processCommand(e,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">t,n,r</span>)</span>{<span class="code-keyword">var</span> o,i,a=x.keyName(t);(<span class="code-string">"Esc"</span>==a||<span class="code-string">"Ctrl-C"</span>==a||<span class="code-string">"Ctrl-["</span>==a||<span class="code-string">"Backspace"</span>==a&amp;&amp;<span class="code-string">""</span>==n)&amp;&amp;(T.exCommandHistoryController.pushInput(n),T.exCommandHistoryController.reset(),x.e_stop(t),V(e),r(),e.focus()),<span class="code-string">"Up"</span>==a||<span class="code-string">"Down"</span>==a?(x.e_stop(t),o=<span class="code-string">"Up"</span>==a,i=t.target?t.target.selectionEnd:<span class="code-number">0</span>,r(n=T.exCommandHistoryController.nextMatch(n,o)||<span class="code-string">""</span>),i&amp;&amp;t.target&amp;&amp;(t.target.selectionEnd=t.target.selectionStart=<span class="code-built_in">Math</span>.min(i,t.target.value.length))):<span class="code-string">"Ctrl-U"</span>==a?(x.e_stop(t),r(<span class="code-string">""</span>)):<span class="code-string">"Left"</span>!=a&amp;&amp;<span class="code-string">"Right"</span>!=a&amp;&amp;<span class="code-string">"Ctrl"</span>!=a&amp;&amp;<span class="code-string">"Alt"</span>!=a&amp;&amp;<span class="code-string">"Shift"</span>!=a&amp;&amp;T.exCommandHistoryController.reset()}<span class="code-string">"keyToEx"</span>==n.type?je.processCommand(e,n.exArgs.input):t.visualMode?Ie(e,{<span class="code-attr">onClose</span>:r,<span class="code-attr">prefix</span>:<span class="code-string">":"</span>,<span class="code-attr">value</span>:<span class="code-string">"'&lt;,'&gt;"</span>,<span class="code-attr">onKeyDown</span>:o,<span class="code-attr">selectValueOnOpen</span>:!<span class="code-number">1</span>}):Ie(e,{<span class="code-attr">onClose</span>:r,<span class="code-attr">prefix</span>:<span class="code-string">":"</span>,<span class="code-attr">onKeyDown</span>:o})},<span class="code-attr">evalInput</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n,r,o,i=t.inputState,a=i.motion,s=i.motionArgs||{},l=i.operator,c=i.operatorArgs||{},u=i.registerName,h=t.sel,f=X(t.visualMode?$(e,h.head):e.getCursor(<span class="code-string">"head"</span>)),p=X(t.visualMode?$(e,h.anchor):e.getCursor(<span class="code-string">"anchor"</span>)),d=X(f),g=X(p);<span class="code-keyword">if</span>(l&amp;&amp;<span class="code-keyword">this</span>.recordLastEdit(t,i),(o=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i.repeatOverride?i.repeatOverride:i.getRepeat())&gt;<span class="code-number">0</span>&amp;&amp;s.explicitRepeat?s.repeatIsExplicit=!<span class="code-number">0</span>:(s.noRepeat||!s.explicitRepeat&amp;&amp;<span class="code-number">0</span>===o)&amp;&amp;(o=<span class="code-number">1</span>,s.repeatIsExplicit=!<span class="code-number">1</span>),i.selectedCharacter&amp;&amp;(s.selectedCharacter=c.selectedCharacter=i.selectedCharacter),s.repeat=o,V(e),a){<span class="code-keyword">var</span> m=F[a](e,f,s,t);<span class="code-keyword">if</span>(t.lastMotion=F[a],!m)<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(s.toJumplist){<span class="code-keyword">var</span> y=T.jumpList,k=y.cachedCursor;k?(pe(e,k,m),<span class="code-keyword">delete</span> y.cachedCursor):pe(e,f,m)}m <span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>?(r=m[<span class="code-number">0</span>],n=m[<span class="code-number">1</span>]):n=m,n||(n=X(f)),t.visualMode?(t.visualBlock&amp;&amp;n.ch===<span class="code-number">1</span>/<span class="code-number">0</span>||(n=$(e,n,t.visualBlock)),r&amp;&amp;(r=$(e,r,!<span class="code-number">0</span>)),r=r||g,h.anchor=r,h.head=n,ce(e),ke(e,t,<span class="code-string">"&lt;"</span>,Z(r,n)?r:n),ke(e,t,<span class="code-string">"&gt;"</span>,Z(r,n)?n:r)):l||(n=$(e,n),e.setCursor(n.line,n.ch))}<span class="code-keyword">if</span>(l){<span class="code-keyword">if</span>(c.lastSel){r=g;<span class="code-keyword">var</span> C=c.lastSel,w=<span class="code-built_in">Math</span>.abs(C.head.line-C.anchor.line),S=<span class="code-built_in">Math</span>.abs(C.head.ch-C.anchor.ch);n=C.visualLine?E(g.line+w,g.ch):C.visualBlock?E(g.line+w,g.ch+S):C.head.line==C.anchor.line?E(g.line,g.ch+S):E(g.line+w,g.ch),t.visualMode=!<span class="code-number">0</span>,t.visualLine=C.visualLine,t.visualBlock=C.visualBlock,h=t.sel={<span class="code-attr">anchor</span>:r,<span class="code-attr">head</span>:n},ce(e)}<span class="code-keyword">else</span> t.visualMode&amp;&amp;(c.lastSel={<span class="code-attr">anchor</span>:X(h.anchor),<span class="code-attr">head</span>:X(h.head),<span class="code-attr">visualBlock</span>:t.visualBlock,<span class="code-attr">visualLine</span>:t.visualLine});<span class="code-keyword">var</span> M,x,b,A,L;<span class="code-keyword">if</span>(t.visualMode){<span class="code-keyword">if</span>(M=ee(h.head,h.anchor),x=te(h.head,h.anchor),b=t.visualLine||c.linewise,L=ue(e,{<span class="code-attr">anchor</span>:M,<span class="code-attr">head</span>:x},A=t.visualBlock?<span class="code-string">"block"</span>:b?<span class="code-string">"line"</span>:<span class="code-string">"char"</span>),b){<span class="code-keyword">var</span> R=L.ranges;<span class="code-keyword">if</span>(<span class="code-string">"block"</span>==A)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> O=<span class="code-number">0</span>;O&lt;R.length;O++)R[O].head.ch=re(e,R[O].head.line);<span class="code-keyword">else</span><span class="code-string">"line"</span>==A&amp;&amp;(R[<span class="code-number">0</span>].head=E(R[<span class="code-number">0</span>].head.line+<span class="code-number">1</span>,<span class="code-number">0</span>))}}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(M=X(r||g),Z(x=X(n||d),M)){<span class="code-keyword">var</span> I=M;M=x,x=I}(b=s.linewise||c.linewise)?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{t.ch=<span class="code-number">0</span>,n.ch=<span class="code-number">0</span>,n.line++}(<span class="code-number">0</span>,M,x):s.forward&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=e.getRange(t,n);<span class="code-keyword">if</span>(<span class="code-regexp">/\n\s*$/</span>.test(r)){<span class="code-keyword">var</span> o=r.split(<span class="code-string">"\n"</span>);o.pop();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=o.pop();o.length&gt;<span class="code-number">0</span>&amp;&amp;i&amp;&amp;v(i);i=o.pop())n.line--,n.ch=<span class="code-number">0</span>;i?(n.line--,n.ch=re(e,n.line)):n.ch=<span class="code-number">0</span>}}(e,M,x),L=ue(e,{<span class="code-attr">anchor</span>:M,<span class="code-attr">head</span>:x},A=<span class="code-string">"char"</span>,!s.inclusive||b)}e.setSelections(L.ranges,L.primary),t.lastMotion=<span class="code-literal">null</span>,c.repeat=o,c.registerName=u,c.linewise=b;<span class="code-keyword">var</span> B=U[l](e,c,L.ranges,g,n);t.visualMode&amp;&amp;he(e,<span class="code-literal">null</span>!=B),B&amp;&amp;e.setCursor(B)}},<span class="code-attr">recordLastEdit</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=T.macroModeState;r.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,r.lastInsertModeChanges.changes=[],r.lastInsertModeChanges.expectCursorActivityForChange=!<span class="code-number">1</span>)}},F={<span class="code-attr">moveToTopLine</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=Ve(e).top+n.repeat<span class="code-number">-1</span>;<span class="code-keyword">return</span> E(r,e.findFirstNonWhiteSpaceCharacter(r))},<span class="code-attr">moveToMiddleLine</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Ve(e),n=<span class="code-built_in">Math</span>.floor(<span class="code-number">.5</span>*(t.top+t.bottom));<span class="code-keyword">return</span> E(n,e.findFirstNonWhiteSpaceCharacter(n))},<span class="code-attr">moveToBottomLine</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=Ve(e).bottom-n.repeat+<span class="code-number">1</span>;<span class="code-keyword">return</span> E(r,e.findFirstNonWhiteSpaceCharacter(r))},<span class="code-attr">expandToLine</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> E(t.line+n.repeat<span class="code-number">-1</span>,<span class="code-number">1</span>/<span class="code-number">0</span>)},<span class="code-attr">findNext</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=Me(e),o=r.getQuery();<span class="code-keyword">if</span>(o){<span class="code-keyword">var</span> i=!n.forward;<span class="code-keyword">return</span> i=r.isReversed()?!i:i,Pe(e,o),Ne(e,i,o,n.repeat)}},<span class="code-attr">goToMark</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=We(e,r,n.selectedCharacter);<span class="code-keyword">return</span> o?n.linewise?{<span class="code-attr">line</span>:o.line,<span class="code-attr">ch</span>:e.findFirstNonWhiteSpaceCharacter(o.line)}:o:<span class="code-literal">null</span>},<span class="code-attr">moveToOtherHighlightedEnd</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">if</span>(r.visualBlock&amp;&amp;n.sameLine){<span class="code-keyword">var</span> o=r.sel;<span class="code-keyword">return</span>[$(e,E(o.anchor.line,o.head.ch)),$(e,E(o.head.line,o.anchor.ch))]}<span class="code-keyword">return</span>[r.sel.head,r.sel.anchor]},<span class="code-attr">jumpToMark</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=t,i=<span class="code-number">0</span>;i&lt;n.repeat;i++){<span class="code-keyword">var</span> a=o;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s <span class="code-keyword">in</span> r.marks)<span class="code-keyword">if</span>(g(s)){<span class="code-keyword">var</span> l=r.marks[s].find();<span class="code-keyword">if</span>(!((n.forward?Z(l,a):Z(a,l))||n.linewise&amp;&amp;l.line==a.line)){<span class="code-keyword">var</span> c=Y(a,o),u=n.forward?ne(a,l,o):ne(o,l,a);(c||u)&amp;&amp;(o=l)}}}<span class="code-keyword">return</span> n.linewise&amp;&amp;(o=E(o.line,e.findFirstNonWhiteSpaceCharacter(o.line))),o},<span class="code-attr">moveByCharacters</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t,o=n.repeat,i=n.forward?r.ch+o:r.ch-o;<span class="code-keyword">return</span> E(r.line,i)},<span class="code-attr">moveByLines</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=t,i=o.ch;<span class="code-keyword">switch</span>(r.lastMotion){<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveByLines:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveByDisplayLines:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveByScroll:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveToColumn:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveToEol:i=r.lastHPos;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:r.lastHPos=i}<span class="code-keyword">var</span> a=n.repeat+(n.repeatOffset||<span class="code-number">0</span>),s=n.forward?o.line+a:o.line-a,l=e.firstLine(),c=e.lastLine();<span class="code-keyword">return</span> s&lt;l&amp;&amp;o.line==l?<span class="code-keyword">this</span>.moveToStartOfLine(e,t,n,r):s&gt;c&amp;&amp;o.line==c?<span class="code-keyword">this</span>.moveToEol(e,t,n,r):(n.toFirstChar&amp;&amp;(i=e.findFirstNonWhiteSpaceCharacter(s),r.lastHPos=i),r.lastHSPos=e.charCoords(E(s,i),<span class="code-string">"div"</span>).left,E(s,i))},<span class="code-attr">moveByDisplayLines</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=t;<span class="code-keyword">switch</span>(r.lastMotion){<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveByDisplayLines:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveByScroll:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveByLines:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveToColumn:<span class="code-keyword">case</span> <span class="code-keyword">this</span>.moveToEol:<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:r.lastHSPos=e.charCoords(o,<span class="code-string">"div"</span>).left}<span class="code-keyword">var</span> i=n.repeat;<span class="code-keyword">if</span>((s=e.findPosV(o,n.forward?i:-i,<span class="code-string">"line"</span>,r.lastHSPos)).hitSide)<span class="code-keyword">if</span>(n.forward)<span class="code-keyword">var</span> a={<span class="code-attr">top</span>:e.charCoords(s,<span class="code-string">"div"</span>).top+<span class="code-number">8</span>,<span class="code-attr">left</span>:r.lastHSPos},s=e.coordsChar(a,<span class="code-string">"div"</span>);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> l=e.charCoords(E(e.firstLine(),<span class="code-number">0</span>),<span class="code-string">"div"</span>);l.left=r.lastHSPos,s=e.coordsChar(l,<span class="code-string">"div"</span>)}<span class="code-keyword">return</span> r.lastHPos=s.ch,s},<span class="code-attr">moveByPage</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t,o=n.repeat;<span class="code-keyword">return</span> e.findPosV(r,n.forward?o:-o,<span class="code-string">"page"</span>)},<span class="code-attr">moveByParagraph</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=n.forward?<span class="code-number">1</span>:<span class="code-number">-1</span>;<span class="code-keyword">return</span> we(e,t,n.repeat,r)},<span class="code-attr">moveBySentence</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=n.forward?<span class="code-number">1</span>:<span class="code-number">-1</span>;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(t.pos+t.dir&lt;<span class="code-number">0</span>||t.pos+t.dir&gt;=t.line.length){<span class="code-keyword">if</span>(t.ln+=t.dir,!d(e,t.ln))<span class="code-keyword">return</span> t.line=<span class="code-literal">null</span>,t.ln=<span class="code-literal">null</span>,<span class="code-keyword">void</span>(t.pos=<span class="code-literal">null</span>);t.line=e.getLine(t.ln),t.pos=t.dir&gt;<span class="code-number">0</span>?<span class="code-number">0</span>:t.line.length<span class="code-number">-1</span>}<span class="code-keyword">else</span> t.pos+=t.dir}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-string">""</span>===(c=e.getLine(t)),a={<span class="code-attr">line</span>:c,<span class="code-attr">ln</span>:t,<span class="code-attr">pos</span>:n,<span class="code-attr">dir</span>:r},s={<span class="code-attr">ln</span>:a.ln,<span class="code-attr">pos</span>:a.pos},l=<span class="code-string">""</span>===a.line;<span class="code-keyword">for</span>(o(e,a);<span class="code-literal">null</span>!==a.line;){<span class="code-keyword">if</span>(s.ln=a.ln,s.pos=a.pos,<span class="code-string">""</span>===a.line&amp;&amp;!l)<span class="code-keyword">return</span>{<span class="code-attr">ln</span>:a.ln,<span class="code-attr">pos</span>:a.pos};<span class="code-keyword">if</span>(i&amp;&amp;<span class="code-string">""</span>!==a.line&amp;&amp;!v(a.line[a.pos]))<span class="code-keyword">return</span>{<span class="code-attr">ln</span>:a.ln,<span class="code-attr">pos</span>:a.pos};!y(a.line[a.pos])||i||a.pos!==a.line.length<span class="code-number">-1</span>&amp;&amp;!v(a.line[a.pos+<span class="code-number">1</span>])||(i=!<span class="code-number">0</span>),o(e,a)}<span class="code-keyword">var</span> c=e.getLine(s.ln);s.pos=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=c.length<span class="code-number">-1</span>;u&gt;=<span class="code-number">0</span>;--u)<span class="code-keyword">if</span>(!v(c[u])){s.pos=u;<span class="code-keyword">break</span>}<span class="code-keyword">return</span> s}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> i={<span class="code-attr">line</span>:l=e.getLine(t),<span class="code-attr">ln</span>:t,<span class="code-attr">pos</span>:n,<span class="code-attr">dir</span>:r},a={<span class="code-attr">ln</span>:i.ln,<span class="code-attr">pos</span>:<span class="code-literal">null</span>},s=<span class="code-string">""</span>===i.line;<span class="code-keyword">for</span>(o(e,i);<span class="code-literal">null</span>!==i.line;){<span class="code-keyword">if</span>(<span class="code-string">""</span>===i.line&amp;&amp;!s)<span class="code-keyword">return</span> <span class="code-literal">null</span>!==a.pos?a:{<span class="code-attr">ln</span>:i.ln,<span class="code-attr">pos</span>:i.pos};<span class="code-keyword">if</span>(y(i.line[i.pos])&amp;&amp;<span class="code-literal">null</span>!==a.pos&amp;&amp;(i.ln!==a.ln||i.pos+<span class="code-number">1</span>!==a.pos))<span class="code-keyword">return</span> a;<span class="code-string">""</span>===i.line||v(i.line[i.pos])||(s=!<span class="code-number">1</span>,a={<span class="code-attr">ln</span>:i.ln,<span class="code-attr">pos</span>:i.pos}),o(e,i)}<span class="code-keyword">var</span> l=e.getLine(a.ln);a.pos=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;l.length;++c)<span class="code-keyword">if</span>(!v(l[c])){a.pos=c;<span class="code-keyword">break</span>}<span class="code-keyword">return</span> a}<span class="code-keyword">var</span> s={<span class="code-attr">ln</span>:t.line,<span class="code-attr">pos</span>:t.ch};<span class="code-keyword">for</span>(;n&gt;<span class="code-number">0</span>;)s=r&lt;<span class="code-number">0</span>?a(e,s.ln,s.pos,r):i(e,s.ln,s.pos,r),n--;<span class="code-keyword">return</span> E(s.ln,s.pos)}(e,t,n.repeat,r)},<span class="code-attr">moveByScroll</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=e.getScrollInfo(),i=<span class="code-literal">null</span>,a=n.repeat;a||(a=<span class="code-built_in">Math</span>.floor(o.clientHeight/(<span class="code-number">2</span>*e.defaultTextHeight())));<span class="code-keyword">var</span> s=e.charCoords(t,<span class="code-string">"local"</span>);<span class="code-keyword">if</span>(n.repeat=a,!(i=F.moveByDisplayLines(e,t,n,r)))<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> l=e.charCoords(i,<span class="code-string">"local"</span>);<span class="code-keyword">return</span> e.scrollTo(<span class="code-literal">null</span>,o.top+l.top-s.top),i},<span class="code-attr">moveByWords</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r,o,i</span>)</span>{<span class="code-keyword">var</span> a=X(t),s=[];(r&amp;&amp;!o||!r&amp;&amp;o)&amp;&amp;n++;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=!(r&amp;&amp;o),c=<span class="code-number">0</span>;c&lt;n;c++){<span class="code-keyword">var</span> u=ve(e,t,r,i,l);<span class="code-keyword">if</span>(!u){<span class="code-keyword">var</span> h=re(e,e.lastLine());s.push(r?{<span class="code-attr">line</span>:e.lastLine(),<span class="code-attr">from</span>:h,<span class="code-attr">to</span>:h}:{<span class="code-attr">line</span>:<span class="code-number">0</span>,<span class="code-attr">from</span>:<span class="code-number">0</span>,<span class="code-attr">to</span>:<span class="code-number">0</span>});<span class="code-keyword">break</span>}s.push(u),t=E(u.line,r?u.to<span class="code-number">-1</span>:u.from)}<span class="code-keyword">var</span> f=s.length!=n,p=s[<span class="code-number">0</span>],d=s.pop();<span class="code-keyword">return</span> r&amp;&amp;!o?(f||p.from==a.ch&amp;&amp;p.line==a.line||(d=s.pop()),E(d.line,d.from)):r&amp;&amp;o?E(d.line,d.to<span class="code-number">-1</span>):!r&amp;&amp;o?(f||p.to==a.ch&amp;&amp;p.line==a.line||(d=s.pop()),E(d.line,d.to)):E(d.line,d.from)}(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},<span class="code-attr">moveTillCharacter</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=ye(e,n.repeat,n.forward,n.selectedCharacter),o=n.forward?<span class="code-number">-1</span>:<span class="code-number">1</span>;<span class="code-keyword">return</span> de(o,n),r?(r.ch+=o,r):<span class="code-literal">null</span>},<span class="code-attr">moveToCharacter</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=n.repeat;<span class="code-keyword">return</span> de(<span class="code-number">0</span>,n),ye(e,r,n.forward,n.selectedCharacter)||t},<span class="code-attr">moveToSymbol</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=X(e.getCursor()),i=n?<span class="code-number">1</span>:<span class="code-number">-1</span>,a=n?e.lineCount():<span class="code-number">-1</span>,s=o.ch,l=o.line,c=e.getLine(l),u={<span class="code-attr">lineText</span>:c,<span class="code-attr">nextCh</span>:c.charAt(s),<span class="code-attr">lastCh</span>:<span class="code-literal">null</span>,<span class="code-attr">index</span>:s,<span class="code-attr">symb</span>:r,<span class="code-attr">reverseSymb</span>:(n?{<span class="code-string">")"</span>:<span class="code-string">"("</span>,<span class="code-string">"}"</span>:<span class="code-string">"{"</span>}:{<span class="code-string">"("</span>:<span class="code-string">")"</span>,<span class="code-string">"{"</span>:<span class="code-string">"}"</span>})[r],<span class="code-attr">forward</span>:n,<span class="code-attr">depth</span>:<span class="code-number">0</span>,<span class="code-attr">curMoveThrough</span>:!<span class="code-number">1</span>},h=ge[r];<span class="code-keyword">if</span>(!h)<span class="code-keyword">return</span> o;<span class="code-keyword">var</span> f=me[h].init,p=me[h].isComplete;f&amp;&amp;f(u);<span class="code-keyword">for</span>(;l!==a&amp;&amp;t;){<span class="code-keyword">if</span>(u.index+=i,u.nextCh=u.lineText.charAt(u.index),!u.nextCh){<span class="code-keyword">if</span>(l+=i,u.lineText=e.getLine(l)||<span class="code-string">""</span>,i&gt;<span class="code-number">0</span>)u.index=<span class="code-number">0</span>;<span class="code-keyword">else</span>{<span class="code-keyword">var</span> d=u.lineText.length;u.index=d&gt;<span class="code-number">0</span>?d<span class="code-number">-1</span>:<span class="code-number">0</span>}u.nextCh=u.lineText.charAt(u.index)}p(u)&amp;&amp;(o.line=l,o.ch=u.index,t--)}<span class="code-keyword">if</span>(u.nextCh||u.curMoveThrough)<span class="code-keyword">return</span> E(l,u.index);<span class="code-keyword">return</span> o}(e,n.repeat,n.forward,n.selectedCharacter)||t},<span class="code-attr">moveToColumn</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=n.repeat;<span class="code-keyword">return</span> r.lastHPos=o<span class="code-number">-1</span>,r.lastHSPos=e.charCoords(t,<span class="code-string">"div"</span>).left,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=e.getCursor().line;<span class="code-keyword">return</span> $(e,E(n,t<span class="code-number">-1</span>))}(e,o)},<span class="code-attr">moveToEol</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=t;r.lastHPos=<span class="code-number">1</span>/<span class="code-number">0</span>;<span class="code-keyword">var</span> i=E(o.line+n.repeat<span class="code-number">-1</span>,<span class="code-number">1</span>/<span class="code-number">0</span>),a=e.clipPos(i);<span class="code-keyword">return</span> a.ch--,r.lastHSPos=e.charCoords(a,<span class="code-string">"div"</span>).left,i},<span class="code-attr">moveToFirstNonWhiteSpaceCharacter</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t;<span class="code-keyword">return</span> E(n.line,e.findFirstNonWhiteSpaceCharacter(n.line))},<span class="code-attr">moveToMatchedSymbol</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t,r=n.line,o=n.ch;<span class="code-keyword">return</span> o&lt;e.getLine(r).length?e.findMatchingBracket(E(r,o)).to:n},<span class="code-attr">moveToStartOfLine</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> E(t.line,<span class="code-number">0</span>)},<span class="code-attr">moveToLineOrEdgeOfDocument</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=n.forward?e.lastLine():e.firstLine();<span class="code-keyword">return</span> n.repeatIsExplicit&amp;&amp;(r=n.repeat-e.getOption(<span class="code-string">"firstLineNumber"</span>)),E(r,e.findFirstNonWhiteSpaceCharacter(r))},<span class="code-attr">textObjectManipulation</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=n.selectedCharacter;<span class="code-string">"b"</span>==o?o=<span class="code-string">"("</span>:<span class="code-string">"B"</span>==o&amp;&amp;(o=<span class="code-string">"{"</span>);<span class="code-keyword">var</span> i,a=!n.textObjectInner;<span class="code-keyword">if</span>({<span class="code-string">"("</span>:<span class="code-string">")"</span>,<span class="code-string">")"</span>:<span class="code-string">"("</span>,<span class="code-string">"{"</span>:<span class="code-string">"}"</span>,<span class="code-string">"}"</span>:<span class="code-string">"{"</span>,<span class="code-string">"["</span>:<span class="code-string">"]"</span>,<span class="code-string">"]"</span>:<span class="code-string">"["</span>}[o])i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o,i,a=t,s={<span class="code-string">"("</span>:<span class="code-regexp">/[()]/</span>,<span class="code-string">")"</span>:<span class="code-regexp">/[()]/</span>,<span class="code-string">"["</span>:<span class="code-regexp">/[[\]]/</span>,<span class="code-string">"]"</span>:<span class="code-regexp">/[[\]]/</span>,<span class="code-string">"{"</span>:<span class="code-regexp">/[{}]/</span>,<span class="code-string">"}"</span>:<span class="code-regexp">/[{}]/</span>}[n],l={<span class="code-string">"("</span>:<span class="code-string">"("</span>,<span class="code-string">")"</span>:<span class="code-string">"("</span>,<span class="code-string">"["</span>:<span class="code-string">"["</span>,<span class="code-string">"]"</span>:<span class="code-string">"["</span>,<span class="code-string">"{"</span>:<span class="code-string">"{"</span>,<span class="code-string">"}"</span>:<span class="code-string">"{"</span>}[n],c=e.getLine(a.line).charAt(a.ch)===l?<span class="code-number">1</span>:<span class="code-number">0</span>;<span class="code-keyword">if</span>(o=e.scanForBracket(E(a.line,a.ch+c),<span class="code-number">-1</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,{<span class="code-attr">bracketRegex</span>:s}),i=e.scanForBracket(E(a.line,a.ch+c),<span class="code-number">1</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>,{<span class="code-attr">bracketRegex</span>:s}),!o||!i)<span class="code-keyword">return</span>{<span class="code-attr">start</span>:a,<span class="code-attr">end</span>:a};<span class="code-keyword">if</span>(o=o.pos,i=i.pos,o.line==i.line&amp;&amp;o.ch&gt;i.ch||o.line&gt;i.line){<span class="code-keyword">var</span> u=o;o=i,i=u}r?i.ch+=<span class="code-number">1</span>:o.ch+=<span class="code-number">1</span>;<span class="code-keyword">return</span>{<span class="code-attr">start</span>:o,<span class="code-attr">end</span>:i}}(e,t,o,a);<span class="code-keyword">else</span> <span class="code-keyword">if</span>({<span class="code-string">"'"</span>:!<span class="code-number">0</span>,<span class="code-string">'"'</span>:!<span class="code-number">0</span>}[o])i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o,i,a,s,l=X(t),c=e.getLine(l.line).split(<span class="code-string">""</span>),u=c.indexOf(n);l.ch&lt;u?l.ch=u:u&lt;l.ch&amp;&amp;c[l.ch]==n&amp;&amp;(i=l.ch,--l.ch);<span class="code-keyword">if</span>(c[l.ch]!=n||i)<span class="code-keyword">for</span>(a=l.ch;a&gt;<span class="code-number">-1</span>&amp;&amp;!o;a--)c[a]==n&amp;&amp;(o=a+<span class="code-number">1</span>);<span class="code-keyword">else</span> o=l.ch+<span class="code-number">1</span>;<span class="code-keyword">if</span>(o&amp;&amp;!i)<span class="code-keyword">for</span>(a=o,s=c.length;a&lt;s&amp;&amp;!i;a++)c[a]==n&amp;&amp;(i=a);<span class="code-keyword">if</span>(!o||!i)<span class="code-keyword">return</span>{<span class="code-attr">start</span>:l,<span class="code-attr">end</span>:l};r&amp;&amp;(--o,++i);<span class="code-keyword">return</span>{<span class="code-attr">start</span>:E(l.line,o),<span class="code-attr">end</span>:E(l.line,i)}}(e,t,o,a);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"W"</span>===o)i=fe(e,a,!<span class="code-number">0</span>,!<span class="code-number">0</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"w"</span>===o)i=fe(e,a,!<span class="code-number">0</span>,!<span class="code-number">1</span>);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-string">"p"</span>!==o)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(i=we(e,t,n.repeat,<span class="code-number">0</span>,a),n.linewise=!<span class="code-number">0</span>,r.visualMode)r.visualLine||(r.visualLine=!<span class="code-number">0</span>);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> s=r.inputState.operatorArgs;s&amp;&amp;(s.linewise=!<span class="code-number">0</span>),i.end.line--}}<span class="code-keyword">return</span> e.state.vim.visualMode?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r,o=e.state.vim.sel,i=o.head,a=o.anchor;Z(n,t)&amp;&amp;(r=n,n=t,t=r);Z(i,a)?(i=ee(t,i),a=te(a,n)):(a=ee(t,a),<span class="code-number">-1</span>==(i=Q(i=te(i,n),<span class="code-number">0</span>,<span class="code-number">-1</span>)).ch&amp;&amp;i.line!=e.firstLine()&amp;&amp;(i=E(i.line<span class="code-number">-1</span>,re(e,i.line<span class="code-number">-1</span>))));<span class="code-keyword">return</span>[a,i]}(e,i.start,i.end):[i.start,i.end]},<span class="code-attr">repeatLastCharacterSearch</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=T.lastCharacterSearch,o=n.repeat,i=n.forward===r.forward,a=(r.increment?<span class="code-number">1</span>:<span class="code-number">0</span>)*(i?<span class="code-number">-1</span>:<span class="code-number">1</span>);e.moveH(<span class="code-number">-1</span>*a,<span class="code-string">"char"</span>),n.inclusive=!!i;<span class="code-keyword">var</span> s=ye(e,o,i,r.selectedCharacter);<span class="code-keyword">return</span> s?(s.ch+=a,s):(e.moveH(a,<span class="code-string">"char"</span>),t)}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">H</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],r=<span class="code-number">0</span>;r&lt;t;r++)n.push(e);<span class="code-keyword">return</span> n}<span class="code-keyword">var</span> U={<span class="code-attr">change</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r,o,i=e.state.vim;<span class="code-keyword">if</span>(T.macroModeState.lastInsertModeChanges.inVisualBlock=i.visualBlock,i.visualMode){o=e.getSelection();<span class="code-keyword">var</span> a=H(<span class="code-string">""</span>,n.length);e.replaceSelections(a),r=ee(n[<span class="code-number">0</span>].head,n[<span class="code-number">0</span>].anchor)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> s=n[<span class="code-number">0</span>].anchor,l=n[<span class="code-number">0</span>].head;o=e.getRange(s,l);<span class="code-keyword">var</span> c=i.lastEditInputState||{};<span class="code-keyword">if</span>(<span class="code-string">"moveByWords"</span>==c.motion&amp;&amp;!v(o)){<span class="code-keyword">var</span> u=<span class="code-regexp">/\s+$/</span>.exec(o);u&amp;&amp;c.motionArgs&amp;&amp;c.motionArgs.forward&amp;&amp;(l=Q(l,<span class="code-number">0</span>,-u[<span class="code-number">0</span>].length),o=o.slice(<span class="code-number">0</span>,-u[<span class="code-number">0</span>].length))}<span class="code-keyword">var</span> h=<span class="code-keyword">new</span> E(s.line<span class="code-number">-1</span>,<span class="code-built_in">Number</span>.MAX_VALUE),f=e.firstLine()==e.lastLine();l.line&gt;e.lastLine()&amp;&amp;t.linewise&amp;&amp;!f?e.replaceRange(<span class="code-string">""</span>,h,l):e.replaceRange(<span class="code-string">""</span>,s,l),t.linewise&amp;&amp;(f||(e.setCursor(h),x.commands.newlineAndIndent(e)),s.ch=<span class="code-built_in">Number</span>.MAX_VALUE),r=s}T.registerController.pushText(t.registerName,<span class="code-string">"change"</span>,o,t.linewise,n.length&gt;<span class="code-number">1</span>),q.enterInsertMode(e,{<span class="code-attr">head</span>:r},e.state.vim)},<span class="code-attr">delete</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r,o;e.pushUndoStop();<span class="code-keyword">var</span> i=e.state.vim;<span class="code-keyword">if</span>(i.visualBlock){o=e.getSelection();<span class="code-keyword">var</span> a=H(<span class="code-string">""</span>,n.length);e.replaceSelections(a),r=n[<span class="code-number">0</span>].anchor}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> s=n[<span class="code-number">0</span>].anchor,l=n[<span class="code-number">0</span>].head;t.linewise&amp;&amp;l.line!=e.firstLine()&amp;&amp;s.line==e.lastLine()&amp;&amp;s.line==l.line<span class="code-number">-1</span>&amp;&amp;(s.line==e.firstLine()?s.ch=<span class="code-number">0</span>:s=E(s.line<span class="code-number">-1</span>,re(e,s.line<span class="code-number">-1</span>))),o=e.getRange(s,l),e.replaceRange(<span class="code-string">""</span>,s,l),r=s,t.linewise&amp;&amp;(r=F.moveToFirstNonWhiteSpaceCharacter(e,s))}<span class="code-keyword">return</span> T.registerController.pushText(t.registerName,<span class="code-string">"delete"</span>,o,t.linewise,i.visualBlock),$(e,r,i.insertMode)},<span class="code-attr">indent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=e.state.vim,o=n[<span class="code-number">0</span>].anchor.line,i=r.visualBlock?n[n.length<span class="code-number">-1</span>].anchor.line:n[<span class="code-number">0</span>].head.line,a=r.visualMode?t.repeat:<span class="code-number">1</span>;t.linewise&amp;&amp;i--,e.pushUndoStop();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=o;s&lt;=i;s++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>;l&lt;a;l++)e.indentLine(s,t.indentRight);<span class="code-keyword">return</span> e.pushUndoStop(),F.moveToFirstNonWhiteSpaceCharacter(e,n[<span class="code-number">0</span>].anchor)},<span class="code-attr">changeCase</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r,o</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e.getSelections(),a=[],s=t.toLower,l=<span class="code-number">0</span>;l&lt;i.length;l++){<span class="code-keyword">var</span> c=i[l],u=<span class="code-string">""</span>;<span class="code-keyword">if</span>(!<span class="code-number">0</span>===s)u=c.toLowerCase();<span class="code-keyword">else</span> <span class="code-keyword">if</span>(!<span class="code-number">1</span>===s)u=c.toUpperCase();<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=<span class="code-number">0</span>;h&lt;c.length;h++){<span class="code-keyword">var</span> f=c.charAt(h);u+=m(f)?f.toLowerCase():f.toUpperCase()}a.push(u)}<span class="code-keyword">return</span> e.replaceSelections(a),t.shouldMoveCursor?o:!e.state.vim.visualMode&amp;&amp;t.linewise&amp;&amp;n[<span class="code-number">0</span>].anchor.line+<span class="code-number">1</span>==n[<span class="code-number">0</span>].head.line?F.moveToFirstNonWhiteSpaceCharacter(e,r):t.linewise?r:ee(n[<span class="code-number">0</span>].anchor,n[<span class="code-number">0</span>].head)},<span class="code-attr">yank</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=e.state.vim,i=e.getSelection(),a=o.visualMode?ee(o.sel.anchor,o.sel.head,n[<span class="code-number">0</span>].head,n[<span class="code-number">0</span>].anchor):r;<span class="code-keyword">return</span> T.registerController.pushText(t.registerName,<span class="code-string">"yank"</span>,i,t.linewise,o.visualBlock),a}};<span class="code-keyword">var</span> q={<span class="code-attr">jumpListWalk</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(!n.visualMode){<span class="code-keyword">var</span> r=t.repeat,o=t.forward,i=T.jumpList.move(e,o?r:-r),a=i?i.find():<span class="code-keyword">void</span> <span class="code-number">0</span>;a=a||e.getCursor(),e.setCursor(a)}},<span class="code-attr">scroll</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(!n.visualMode){<span class="code-keyword">var</span> r=t.repeat||<span class="code-number">1</span>,o=e.defaultTextHeight(),i=e.getScrollInfo().top,a=o*r,s=t.forward?i+a:i-a,l=X(e.getCursor()),c=e.charCoords(l,<span class="code-string">"local"</span>);<span class="code-keyword">if</span>(t.forward)s&gt;c.top?(l.line+=(s-c.top)/o,l.line=<span class="code-built_in">Math</span>.ceil(l.line),e.setCursor(l),c=e.charCoords(l,<span class="code-string">"local"</span>),e.scrollTo(<span class="code-literal">null</span>,c.top)):e.scrollTo(<span class="code-literal">null</span>,s);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> u=s+e.getScrollInfo().clientHeight;u&lt;c.bottom?(l.line-=(c.bottom-u)/o,l.line=<span class="code-built_in">Math</span>.floor(l.line),e.setCursor(l),c=e.charCoords(l,<span class="code-string">"local"</span>),e.scrollTo(<span class="code-literal">null</span>,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(<span class="code-literal">null</span>,s)}}},<span class="code-attr">scrollToCursor</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.moveCurrentLineTo(t.position)},<span class="code-attr">replayMacro</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t.selectedCharacter,o=t.repeat,i=T.macroModeState;<span class="code-keyword">for</span>(<span class="code-string">"@"</span>==r&amp;&amp;(r=i.latestRegister);o--;)Ue(e,n,i,r)},<span class="code-attr">enterMacroRecordMode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=T.macroModeState,r=t.selectedCharacter;T.registerController.isValidRegister(r)&amp;&amp;n.enterMacroRecordMode(e,r)},<span class="code-attr">toggleOverwrite</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.replaceMode?(e.toggleOverwrite(!<span class="code-number">1</span>),e.setOption(<span class="code-string">"keyMap"</span>,<span class="code-string">"vim-insert"</span>),x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"insert"</span>})):(e.toggleOverwrite(!<span class="code-number">0</span>),e.setOption(<span class="code-string">"keyMap"</span>,<span class="code-string">"vim-replace"</span>),x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"replace"</span>}))},<span class="code-attr">enterInsertMode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(!e.getOption(<span class="code-string">"readOnly"</span>)){n.insertMode=!<span class="code-number">0</span>,n.insertModeRepeat=t&amp;&amp;t.repeat||<span class="code-number">1</span>,e.leaveVimMode();<span class="code-keyword">var</span> r=t?t.insertAt:<span class="code-literal">null</span>,o=n.sel,i=t.head||e.getCursor(<span class="code-string">"head"</span>),a=e.listSelections().length;<span class="code-keyword">if</span>(<span class="code-string">"eol"</span>==r)i=E(i.line,re(e,i.line));<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"charAfter"</span>==r)i=Q(i,<span class="code-number">0</span>,<span class="code-number">1</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"firstNonBlank"</span>==r)i=F.moveToFirstNonWhiteSpaceCharacter(e,i);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"startOfSelectedArea"</span>==r)n.visualBlock?(i=E(<span class="code-built_in">Math</span>.min(o.head.line,o.anchor.line),<span class="code-built_in">Math</span>.min(o.head.ch,o.anchor.ch)),a=<span class="code-built_in">Math</span>.abs(o.head.line-o.anchor.line)+<span class="code-number">1</span>):i=o.head.line&lt;o.anchor.line?o.head:E(o.anchor.line,<span class="code-number">0</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"endOfSelectedArea"</span>==r)n.visualBlock?(i=E(<span class="code-built_in">Math</span>.min(o.head.line,o.anchor.line),<span class="code-built_in">Math</span>.max(o.head.ch+<span class="code-number">1</span>,o.anchor.ch)),a=<span class="code-built_in">Math</span>.abs(o.head.line-o.anchor.line)+<span class="code-number">1</span>):i=o.head.line&gt;=o.anchor.line?Q(o.head,<span class="code-number">0</span>,<span class="code-number">1</span>):E(o.anchor.line,<span class="code-number">0</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"inplace"</span>==r&amp;&amp;n.visualMode)<span class="code-keyword">return</span>;e.setOption(<span class="code-string">"disableInput"</span>,!<span class="code-number">1</span>),n.visualMode&amp;&amp;he(e),t&amp;&amp;t.replace?(e.toggleOverwrite(!<span class="code-number">0</span>),e.setOption(<span class="code-string">"keyMap"</span>,<span class="code-string">"vim-replace"</span>),x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"replace"</span>})):(e.toggleOverwrite(!<span class="code-number">1</span>),e.setOption(<span class="code-string">"keyMap"</span>,<span class="code-string">"vim-insert"</span>),x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"insert"</span>})),T.macroModeState.isPlaying||(e.on(<span class="code-string">"change"</span>,qe),x.on(e.getInputField(),<span class="code-string">"keydown"</span>,ze)),se(e,i,a)}},<span class="code-attr">toggleVisualMode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r,o=t.repeat,i=e.getCursor();n.visualMode?n.visualLine^t.linewise||n.visualBlock^t.blockwise?(n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"visual"</span>,<span class="code-attr">subMode</span>:n.visualLine?<span class="code-string">"linewise"</span>:n.visualBlock?<span class="code-string">"blockwise"</span>:<span class="code-string">""</span>}),ce(e)):he(e):(n.visualMode=!<span class="code-number">0</span>,n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,r=$(e,E(i.line,i.ch+o<span class="code-number">-1</span>),!<span class="code-number">0</span>),n.sel={<span class="code-attr">anchor</span>:i,<span class="code-attr">head</span>:r},x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"visual"</span>,<span class="code-attr">subMode</span>:n.visualLine?<span class="code-string">"linewise"</span>:n.visualBlock?<span class="code-string">"blockwise"</span>:<span class="code-string">""</span>}),ce(e),ke(e,n,<span class="code-string">"&lt;"</span>,ee(i,r)),ke(e,n,<span class="code-string">"&gt;"</span>,te(i,r)))},<span class="code-attr">reselectLastSelection</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=n.lastSelection;<span class="code-keyword">if</span>(n.visualMode&amp;&amp;le(e,n),r){<span class="code-keyword">var</span> o=r.anchorMark.find(),i=r.headMark.find();<span class="code-keyword">if</span>(!o||!i)<span class="code-keyword">return</span>;n.sel={<span class="code-attr">anchor</span>:o,<span class="code-attr">head</span>:i},n.visualMode=!<span class="code-number">0</span>,n.visualLine=r.visualLine,n.visualBlock=r.visualBlock,ce(e),ke(e,n,<span class="code-string">"&lt;"</span>,ee(o,i)),ke(e,n,<span class="code-string">"&gt;"</span>,te(o,i)),x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"visual"</span>,<span class="code-attr">subMode</span>:n.visualLine?<span class="code-string">"linewise"</span>:n.visualBlock?<span class="code-string">"blockwise"</span>:<span class="code-string">""</span>})}},<span class="code-attr">joinLines</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r,o;<span class="code-keyword">if</span>(n.visualMode){<span class="code-keyword">if</span>(r=e.getCursor(<span class="code-string">"anchor"</span>),Z(o=e.getCursor(<span class="code-string">"head"</span>),r)){<span class="code-keyword">var</span> i=o;o=r,r=i}o.ch=re(e,o.line)<span class="code-number">-1</span>}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> a=<span class="code-built_in">Math</span>.max(t.repeat,<span class="code-number">2</span>);r=e.getCursor(),o=$(e,E(r.line+a<span class="code-number">-1</span>,<span class="code-number">1</span>/<span class="code-number">0</span>))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>,l=r.line;l&lt;o.line;l++){s=re(e,r.line);i=E(r.line+<span class="code-number">1</span>,re(e,r.line+<span class="code-number">1</span>));<span class="code-keyword">var</span> c=e.getRange(r,i);c=c.replace(<span class="code-regexp">/\n\s*/g</span>,<span class="code-string">" "</span>),e.replaceRange(c,r,i)}<span class="code-keyword">var</span> u=E(r.line,s);n.visualMode&amp;&amp;he(e,!<span class="code-number">1</span>),e.setCursor(u)},<span class="code-attr">newLineAndEnterInsertMode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{n.insertMode=!<span class="code-number">0</span>;<span class="code-keyword">var</span> r=X(e.getCursor());r.line!==e.firstLine()||t.after?(r.line=t.after?r.line:r.line<span class="code-number">-1</span>,r.ch=re(e,r.line),e.setCursor(r),(x.commands.newlineAndIndentContinueComment||x.commands.newlineAndIndent)(e)):(e.replaceRange(<span class="code-string">"\n"</span>,E(e.firstLine(),<span class="code-number">0</span>)),e.setCursor(e.firstLine(),<span class="code-number">0</span>));<span class="code-keyword">this</span>.enterInsertMode(e,{<span class="code-attr">repeat</span>:t.repeat},n)},<span class="code-attr">paste</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=X(e.getCursor()),o=T.registerController.getRegister(t.registerName);<span class="code-keyword">if</span>(f=o.toString()){<span class="code-keyword">if</span>(t.matchIndent){<span class="code-keyword">var</span> i=e.getOption(<span class="code-string">"tabSize"</span>),a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.split(<span class="code-string">"\t"</span>).length<span class="code-number">-1</span>,n=e.split(<span class="code-string">" "</span>).length<span class="code-number">-1</span>;<span class="code-keyword">return</span> t*i+<span class="code-number">1</span>*n},s=e.getLine(e.getCursor().line),l=a(s.match(<span class="code-regexp">/^\s*/</span>)[<span class="code-number">0</span>]),c=f.replace(<span class="code-regexp">/\n$/</span>,<span class="code-string">""</span>),u=f!==c,h=a(f.match(<span class="code-regexp">/^\s*/</span>)[<span class="code-number">0</span>]),f=c.replace(<span class="code-regexp">/^\s*/gm</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> n=l+(a(t)-h);<span class="code-keyword">if</span>(n&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span><span class="code-string">""</span>;<span class="code-keyword">if</span>(e.getOption(<span class="code-string">"indentWithTabs"</span>)){<span class="code-keyword">var</span> r=<span class="code-built_in">Math</span>.floor(n/i);<span class="code-keyword">return</span> <span class="code-built_in">Array</span>(r+<span class="code-number">1</span>).join(<span class="code-string">"\t"</span>)}<span class="code-keyword">return</span> <span class="code-built_in">Array</span>(n+<span class="code-number">1</span>).join(<span class="code-string">" "</span>)}));f+=u?<span class="code-string">"\n"</span>:<span class="code-string">""</span>}<span class="code-keyword">if</span>(t.repeat&gt;<span class="code-number">1</span>)f=<span class="code-built_in">Array</span>(t.repeat+<span class="code-number">1</span>).join(f);<span class="code-keyword">var</span> p,d,g=o.linewise,m=o.blockwise;<span class="code-keyword">if</span>(g)n.visualMode?f=n.visualLine?f.slice(<span class="code-number">0</span>,<span class="code-number">-1</span>):<span class="code-string">"\n"</span>+f.slice(<span class="code-number">0</span>,f.length<span class="code-number">-1</span>)+<span class="code-string">"\n"</span>:t.after?(f=<span class="code-string">"\n"</span>+f.slice(<span class="code-number">0</span>,f.length<span class="code-number">-1</span>),r.ch=re(e,r.line)):r.ch=<span class="code-number">0</span>;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(m){f=f.split(<span class="code-string">"\n"</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=<span class="code-number">0</span>;v&lt;f.length;v++)f[v]=<span class="code-string">""</span>==f[v]?<span class="code-string">" "</span>:f[v]}r.ch+=t.after?<span class="code-number">1</span>:<span class="code-number">0</span>}<span class="code-keyword">if</span>(n.visualMode){<span class="code-keyword">var</span> y;n.lastPastedText=f;<span class="code-keyword">var</span> k=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t.lastSelection;<span class="code-keyword">return</span> t.visualMode?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=e.listSelections(),n=t[<span class="code-number">0</span>],r=t[t.length<span class="code-number">-1</span>];<span class="code-keyword">return</span>[Z(n.anchor,n.head)?n.anchor:n.head,Z(r.anchor,r.head)?r.head:r.anchor]}():<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=e.getCursor(),r=e.getCursor(),o=n.visualBlock;<span class="code-keyword">if</span>(o){<span class="code-keyword">var</span> i=o.width,a=o.height;r=E(t.line+a,t.ch+i);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=[],l=t.line;l&lt;r.line;l++){<span class="code-keyword">var</span> c={<span class="code-attr">anchor</span>:E(l,t.ch),<span class="code-attr">head</span>:E(l,r.ch)};s.push(c)}e.setSelections(s)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> u=n.anchorMark.find(),h=n.headMark.find(),f=h.line-u.line,p=h.ch-u.ch;r={<span class="code-attr">line</span>:r.line+f,<span class="code-attr">ch</span>:f?r.ch:p+r.ch},n.visualLine&amp;&amp;(t=E(t.line,<span class="code-number">0</span>),r=E(r.line,re(e,r.line))),e.setSelection(t,r)}<span class="code-keyword">return</span>[t,r]}()}(e,n),C=k[<span class="code-number">0</span>],w=k[<span class="code-number">1</span>],S=e.getSelection(),M=e.listSelections(),x=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(M.length).join(<span class="code-string">"1"</span>).split(<span class="code-string">"1"</span>);n.lastSelection&amp;&amp;(y=n.lastSelection.headMark.find()),T.registerController.unnamedRegister.setText(S),m?(e.replaceSelections(x),w=E(C.line+f.length<span class="code-number">-1</span>,C.ch),e.setCursor(C),ae(e,w),e.replaceSelections(f),p=C):n.visualBlock?(e.replaceSelections(x),e.setCursor(C),e.replaceRange(f,C,C),p=C):(e.replaceRange(f,C,w),p=e.posFromIndex(e.indexFromPos(C)+f.length<span class="code-number">-1</span>)),y&amp;&amp;(n.lastSelection.headMark=e.setBookmark(y)),g&amp;&amp;(p.ch=<span class="code-number">0</span>)}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(m){e.setCursor(r);<span class="code-keyword">for</span>(v=<span class="code-number">0</span>;v&lt;f.length;v++){<span class="code-keyword">var</span> b=r.line+v;b&gt;e.lastLine()&amp;&amp;e.replaceRange(<span class="code-string">"\n"</span>,E(b,<span class="code-number">0</span>)),re(e,b)&lt;r.ch&amp;&amp;ie(e,b,r.ch)}e.setCursor(r),ae(e,E(r.line+f.length<span class="code-number">-1</span>,r.ch)),e.replaceSelections(f),p=r}<span class="code-keyword">else</span> e.replaceRange(f,r),g&amp;&amp;t.after?p=E(r.line+<span class="code-number">1</span>,e.findFirstNonWhiteSpaceCharacter(r.line+<span class="code-number">1</span>)):g&amp;&amp;!t.after?p=E(r.line,e.findFirstNonWhiteSpaceCharacter(r.line)):!g&amp;&amp;t.after?(d=e.indexFromPos(r),p=e.posFromIndex(d+f.length<span class="code-number">-1</span>)):(d=e.indexFromPos(r),p=e.posFromIndex(d+f.length));n.visualMode&amp;&amp;he(e,!<span class="code-number">1</span>),e.setCursor(p)}},<span class="code-attr">undo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.operation((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{G(e,x.commands.undo,t.repeat)(),e.setCursor(e.getCursor(<span class="code-string">"anchor"</span>))}))},<span class="code-attr">redo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{G(e,x.commands.redo,t.repeat)()},<span class="code-attr">setRegister</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{n.inputState.registerName=t.selectedCharacter},<span class="code-attr">setMark</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{ke(e,n,t.selectedCharacter,e.getCursor())},<span class="code-attr">replace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r,o,i=t.selectedCharacter,a=e.getCursor(),s=e.listSelections();<span class="code-keyword">if</span>(n.visualMode)a=e.getCursor(<span class="code-string">"start"</span>),o=e.getCursor(<span class="code-string">"end"</span>);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> l=e.getLine(a.line);(r=a.ch+t.repeat)&gt;l.length&amp;&amp;(r=l.length),o=E(a.line,r)}<span class="code-keyword">if</span>(<span class="code-string">"\n"</span>==i)n.visualMode||e.replaceRange(<span class="code-string">""</span>,a,o),(x.commands.newlineAndIndentContinueComment||x.commands.newlineAndIndent)(e);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> c=e.getRange(a,o);<span class="code-keyword">if</span>(c=c.replace(<span class="code-regexp">/[^\n]/g</span>,i),n.visualBlock){<span class="code-keyword">var</span> u=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e.getOption(<span class="code-string">"tabSize"</span>)+<span class="code-number">1</span>).join(<span class="code-string">" "</span>);c=(c=e.getSelection()).replace(<span class="code-regexp">/\t/g</span>,u).replace(<span class="code-regexp">/[^\n]/g</span>,i).split(<span class="code-string">"\n"</span>),e.replaceSelections(c)}<span class="code-keyword">else</span> e.replaceRange(c,a,o);n.visualMode?(a=Z(s[<span class="code-number">0</span>].anchor,s[<span class="code-number">0</span>].head)?s[<span class="code-number">0</span>].anchor:s[<span class="code-number">0</span>].head,e.setCursor(a),he(e,!<span class="code-number">1</span>)):e.setCursor(Q(o,<span class="code-number">0</span>,<span class="code-number">-1</span>))}},<span class="code-attr">incrementNumberToken</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r,o,i,a=e.getCursor(),s=e.getLine(a.line),l=<span class="code-regexp">/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi</span>;<span class="code-literal">null</span>!==(n=l.exec(s))&amp;&amp;(o=(r=n.index)+n[<span class="code-number">0</span>].length,!(a.ch&lt;o)););<span class="code-keyword">if</span>((t.backtrack||!(o&lt;=a.ch))&amp;&amp;n){<span class="code-keyword">var</span> c=n[<span class="code-number">2</span>]||n[<span class="code-number">4</span>],u=n[<span class="code-number">3</span>]||n[<span class="code-number">5</span>],h=t.increase?<span class="code-number">1</span>:<span class="code-number">-1</span>,f={<span class="code-string">"0b"</span>:<span class="code-number">2</span>,<span class="code-number">0</span>:<span class="code-number">8</span>,<span class="code-string">""</span>:<span class="code-number">10</span>,<span class="code-string">"0x"</span>:<span class="code-number">16</span>}[c.toLowerCase()];i=(<span class="code-built_in">parseInt</span>(n[<span class="code-number">1</span>]+u,f)+h*t.repeat).toString(f);<span class="code-keyword">var</span> p=c?<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(u.length-i.length+<span class="code-number">1</span>+n[<span class="code-number">1</span>].length).join(<span class="code-string">"0"</span>):<span class="code-string">""</span>;i=<span class="code-string">"-"</span>===i.charAt(<span class="code-number">0</span>)?<span class="code-string">"-"</span>+c+p+i.substr(<span class="code-number">1</span>):c+p+i;<span class="code-keyword">var</span> d=E(a.line,r),g=E(a.line,o);e.replaceRange(i,d,g),e.setCursor(E(a.line,r+i.length<span class="code-number">-1</span>))}},<span class="code-attr">repeatLastEdit</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(n.lastEditInputState){<span class="code-keyword">var</span> r=t.repeat;r&amp;&amp;t.repeatIsExplicit?n.lastEditInputState.repeatOverride=r:r=n.lastEditInputState.repeatOverride||r,Ge(e,n,r,!<span class="code-number">1</span>)}},<span class="code-attr">indent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.indentLine(e.getCursor().line,t.indentRight)},<span class="code-attr">exitInsertMode</span>:Fe};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-built_in">Math</span>.min(<span class="code-built_in">Math</span>.max(e.firstLine(),t.line),e.lastLine()),o=re(e,r)<span class="code-number">-1</span>;o=n?o+<span class="code-number">1</span>:o;<span class="code-keyword">var</span> i=<span class="code-built_in">Math</span>.min(<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,t.ch),o);<span class="code-keyword">return</span> E(r,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">J</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> e)e.hasOwnProperty(n)&amp;&amp;(t[n]=e[n]);<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Q</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"object"</span>===b(t)&amp;&amp;(n=t.ch,t=t.line),E(e.line+t,e.ch+n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">z</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"&lt;character&gt;"</span>==t.slice(<span class="code-number">-11</span>)){<span class="code-keyword">var</span> n=t.length<span class="code-number">-11</span>,r=e.slice(<span class="code-number">0</span>,n),o=t.slice(<span class="code-number">0</span>,n);<span class="code-keyword">return</span> r==o&amp;&amp;e.length&gt;n?<span class="code-string">"full"</span>:<span class="code-number">0</span>==o.indexOf(r)&amp;&amp;<span class="code-string">"partial"</span>}<span class="code-keyword">return</span> e==t?<span class="code-string">"full"</span>:<span class="code-number">0</span>==t.indexOf(e)&amp;&amp;<span class="code-string">"partial"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">G</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;n;r++)t(e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">X</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> E(e.line,e.ch)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Y</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.ch==t.ch&amp;&amp;e.line==t.line}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Z</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.line&lt;t.line||e.line==t.line&amp;&amp;e.ch&lt;t.ch}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ee</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">arguments</span>.length&gt;<span class="code-number">2</span>&amp;&amp;(t=ee.apply(<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>,<span class="code-number">1</span>))),Z(e,t)?e:t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">te</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">arguments</span>.length&gt;<span class="code-number">2</span>&amp;&amp;(t=te.apply(<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>,<span class="code-number">1</span>))),Z(e,t)?t:e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ne</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=Z(e,t),o=Z(t,n);<span class="code-keyword">return</span> r&amp;&amp;o}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">re</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.getLine(t).length}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.trim?e.trim():e.replace(<span class="code-regexp">/^\s+|\s+$/g</span>,<span class="code-string">""</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ie</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=re(e,t),o=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(n-r+<span class="code-number">1</span>).join(<span class="code-string">" "</span>);e.setCursor(E(t,r)),e.replaceRange(o,e.getCursor())}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ae</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=[],r=e.listSelections(),o=X(e.clipPos(t)),i=!Y(t,o),a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;e.length;r++){<span class="code-keyword">var</span> o=<span class="code-string">"head"</span>!=n&amp;&amp;Y(e[r].anchor,t),i=<span class="code-string">"anchor"</span>!=n&amp;&amp;Y(e[r].head,t);<span class="code-keyword">if</span>(o||i)<span class="code-keyword">return</span> r}<span class="code-keyword">return</span><span class="code-number">-1</span>}(r,e.getCursor(<span class="code-string">"head"</span>)),s=Y(r[a].head,r[a].anchor),l=r.length<span class="code-number">-1</span>,c=l-a&gt;a?l:<span class="code-number">0</span>,u=r[c].anchor,h=<span class="code-built_in">Math</span>.min(u.line,o.line),f=<span class="code-built_in">Math</span>.max(u.line,o.line),p=u.ch,d=o.ch,g=r[c].head.ch-p,m=d-p;g&gt;<span class="code-number">0</span>&amp;&amp;m&lt;=<span class="code-number">0</span>?(p++,i||d--):g&lt;<span class="code-number">0</span>&amp;&amp;m&gt;=<span class="code-number">0</span>?(p--,s||d++):g&lt;<span class="code-number">0</span>&amp;&amp;<span class="code-number">-1</span>==m&amp;&amp;(p--,d++);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=h;v&lt;=f;v++){<span class="code-keyword">var</span> y={<span class="code-attr">anchor</span>:<span class="code-keyword">new</span> E(v,p),<span class="code-attr">head</span>:<span class="code-keyword">new</span> E(v,d)};n.push(y)}<span class="code-keyword">return</span> e.setSelections(n),t.ch=d,u.ch=p,u}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">se</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=[],o=<span class="code-number">0</span>;o&lt;n;o++){<span class="code-keyword">var</span> i=Q(t,o,<span class="code-number">0</span>);r.push({<span class="code-attr">anchor</span>:i,<span class="code-attr">head</span>:i})}e.setSelections(r,<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">le</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t.sel.anchor,r=t.sel.head;t.lastPastedText&amp;&amp;(r=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=<span class="code-literal">null</span>),t.lastSelection={<span class="code-attr">anchorMark</span>:e.setBookmark(n),<span class="code-attr">headMark</span>:e.setBookmark(r),<span class="code-attr">anchor</span>:X(n),<span class="code-attr">head</span>:X(r),<span class="code-attr">visualMode</span>:t.visualMode,<span class="code-attr">visualLine</span>:t.visualLine,<span class="code-attr">visualBlock</span>:t.visualBlock}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ce</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=e.state.vim,o=ue(e,t=t||r.sel,n=n||r.visualLine?<span class="code-string">"line"</span>:r.visualBlock?<span class="code-string">"block"</span>:<span class="code-string">"char"</span>,r.visualMode&amp;&amp;<span class="code-string">"char"</span>===n);e.setSelections(o.ranges,o.primary),Je(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ue</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=X(t.head),i=X(t.anchor);<span class="code-keyword">if</span>(<span class="code-string">"char"</span>==n){<span class="code-keyword">var</span> a=r||Z(t.head,t.anchor)?<span class="code-number">0</span>:<span class="code-number">1</span>,s=Z(t.head,t.anchor)?<span class="code-number">1</span>:<span class="code-number">0</span>;<span class="code-keyword">return</span> o=Q(t.head,<span class="code-number">0</span>,a),{<span class="code-attr">ranges</span>:[{<span class="code-attr">anchor</span>:i=Q(t.anchor,<span class="code-number">0</span>,s),<span class="code-attr">head</span>:o}],<span class="code-attr">primary</span>:<span class="code-number">0</span>}}<span class="code-keyword">if</span>(<span class="code-string">"line"</span>==n){<span class="code-keyword">if</span>(Z(t.head,t.anchor))o.ch=<span class="code-number">0</span>,i.ch=re(e,i.line);<span class="code-keyword">else</span>{i.ch=<span class="code-number">0</span>;<span class="code-keyword">var</span> l=e.lastLine();o.line&gt;l&amp;&amp;(o.line=l),o.ch=re(e,o.line)}<span class="code-keyword">return</span>{<span class="code-attr">ranges</span>:[{<span class="code-attr">anchor</span>:i,<span class="code-attr">head</span>:o}],<span class="code-attr">primary</span>:<span class="code-number">0</span>}}<span class="code-keyword">if</span>(<span class="code-string">"block"</span>==n){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-built_in">Math</span>.min(i.line,o.line),u=<span class="code-built_in">Math</span>.min(i.ch,o.ch),h=<span class="code-built_in">Math</span>.max(i.line,o.line),f=<span class="code-built_in">Math</span>.max(i.ch,o.ch)+<span class="code-number">1</span>,p=h-c+<span class="code-number">1</span>,d=o.line==c?<span class="code-number">0</span>:p<span class="code-number">-1</span>,g=[],m=<span class="code-number">0</span>;m&lt;p;m++)g.push({<span class="code-attr">anchor</span>:E(c+m,u),<span class="code-attr">head</span>:E(c+m,f)});<span class="code-keyword">return</span>{<span class="code-attr">ranges</span>:g,<span class="code-attr">primary</span>:d}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">he</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=e.state.vim;!<span class="code-number">1</span>!==t&amp;&amp;e.setCursor($(e,n.sel.head)),le(e,n),n.visualMode=!<span class="code-number">1</span>,n.visualLine=!<span class="code-number">1</span>,n.visualBlock=!<span class="code-number">1</span>,x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"normal"</span>}),n.fakeCursor&amp;&amp;n.fakeCursor.clear()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fe</span>(<span class="code-params">e,t,n,r,o</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.getCursor(<span class="code-string">"head"</span>);<span class="code-keyword">return</span> <span class="code-number">1</span>==e.getSelection().length&amp;&amp;(t=ee(t,e.getCursor(<span class="code-string">"anchor"</span>))),t}(e),l=e.getLine(i.line),c=i.ch,u=o?a[<span class="code-number">0</span>]:s[<span class="code-number">0</span>];!u(l.charAt(c));)<span class="code-keyword">if</span>(++c&gt;=l.length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;r?u=s[<span class="code-number">0</span>]:(u=a[<span class="code-number">0</span>])(l.charAt(c))||(u=a[<span class="code-number">1</span>]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=c,f=c;u(l.charAt(h))&amp;&amp;h&lt;l.length;)h++;<span class="code-keyword">for</span>(;u(l.charAt(f))&amp;&amp;f&gt;=<span class="code-number">0</span>;)f--;<span class="code-keyword">if</span>(f++,t){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=h;<span class="code-regexp">/\s/</span>.test(l.charAt(h))&amp;&amp;h&lt;l.length;)h++;<span class="code-keyword">if</span>(p==h){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=f;<span class="code-regexp">/\s/</span>.test(l.charAt(f<span class="code-number">-1</span>))&amp;&amp;f&gt;<span class="code-number">0</span>;)f--;f||(f=d)}}<span class="code-keyword">return</span>{<span class="code-attr">start</span>:E(i.line,f),<span class="code-attr">end</span>:E(i.line,h)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pe</span>(<span class="code-params">e,t,n</span>)</span>{Y(t,n)||T.jumpList.add(e,t,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">de</span>(<span class="code-params">e,t</span>)</span>{T.lastCharacterSearch.increment=e,T.lastCharacterSearch.forward=t.forward,T.lastCharacterSearch.selectedCharacter=t.selectedCharacter}<span class="code-keyword">var</span> ge={<span class="code-string">"("</span>:<span class="code-string">"bracket"</span>,<span class="code-string">")"</span>:<span class="code-string">"bracket"</span>,<span class="code-string">"{"</span>:<span class="code-string">"bracket"</span>,<span class="code-string">"}"</span>:<span class="code-string">"bracket"</span>,<span class="code-string">"["</span>:<span class="code-string">"section"</span>,<span class="code-string">"]"</span>:<span class="code-string">"section"</span>,<span class="code-string">"*"</span>:<span class="code-string">"comment"</span>,<span class="code-string">"/"</span>:<span class="code-string">"comment"</span>,<span class="code-attr">m</span>:<span class="code-string">"method"</span>,<span class="code-attr">M</span>:<span class="code-string">"method"</span>,<span class="code-string">"#"</span>:<span class="code-string">"preprocess"</span>},me={<span class="code-attr">bracket</span>:{<span class="code-attr">isComplete</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.nextCh===e.symb){<span class="code-keyword">if</span>(e.depth++,e.depth&gt;=<span class="code-number">1</span>)<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">else</span> e.nextCh===e.reverseSymb&amp;&amp;e.depth--;<span class="code-keyword">return</span>!<span class="code-number">1</span>}},<span class="code-attr">section</span>:{<span class="code-attr">init</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.curMoveThrough=!<span class="code-number">0</span>,e.symb=(e.forward?<span class="code-string">"]"</span>:<span class="code-string">"["</span>)===e.symb?<span class="code-string">"{"</span>:<span class="code-string">"}"</span>},<span class="code-attr">isComplete</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===e.index&amp;&amp;e.nextCh===e.symb}},<span class="code-attr">comment</span>:{<span class="code-attr">isComplete</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">"*"</span>===e.lastCh&amp;&amp;<span class="code-string">"/"</span>===e.nextCh;<span class="code-keyword">return</span> e.lastCh=e.nextCh,t}},<span class="code-attr">method</span>:{<span class="code-attr">init</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.symb=<span class="code-string">"m"</span>===e.symb?<span class="code-string">"{"</span>:<span class="code-string">"}"</span>,e.reverseSymb=<span class="code-string">"{"</span>===e.symb?<span class="code-string">"}"</span>:<span class="code-string">"{"</span>},<span class="code-attr">isComplete</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.nextCh===e.symb}},<span class="code-attr">preprocess</span>:{<span class="code-attr">init</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.index=<span class="code-number">0</span>},<span class="code-attr">isComplete</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"#"</span>===e.nextCh){<span class="code-keyword">var</span> t=e.lineText.match(<span class="code-regexp">/#(\w+)/</span>)[<span class="code-number">1</span>];<span class="code-keyword">if</span>(<span class="code-string">"endif"</span>===t){<span class="code-keyword">if</span>(e.forward&amp;&amp;<span class="code-number">0</span>===e.depth)<span class="code-keyword">return</span>!<span class="code-number">0</span>;e.depth++}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"if"</span>===t){<span class="code-keyword">if</span>(!e.forward&amp;&amp;<span class="code-number">0</span>===e.depth)<span class="code-keyword">return</span>!<span class="code-number">0</span>;e.depth--}<span class="code-keyword">if</span>(<span class="code-string">"else"</span>===t&amp;&amp;<span class="code-number">0</span>===e.depth)<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>}}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ve</span>(<span class="code-params">e,t,n,r,o</span>)</span>{<span class="code-keyword">var</span> i=t.line,l=t.ch,c=e.getLine(i),u=n?<span class="code-number">1</span>:<span class="code-number">-1</span>,h=r?s:a;<span class="code-keyword">if</span>(o&amp;&amp;<span class="code-string">""</span>==c){<span class="code-keyword">if</span>(i+=u,c=e.getLine(i),!d(e,i))<span class="code-keyword">return</span> <span class="code-literal">null</span>;l=n?<span class="code-number">0</span>:c.length}<span class="code-keyword">for</span>(;;){<span class="code-keyword">if</span>(o&amp;&amp;<span class="code-string">""</span>==c)<span class="code-keyword">return</span>{<span class="code-attr">from</span>:<span class="code-number">0</span>,<span class="code-attr">to</span>:<span class="code-number">0</span>,<span class="code-attr">line</span>:i};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=u&gt;<span class="code-number">0</span>?c.length:<span class="code-number">-1</span>,p=f,g=f;l!=f;){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=!<span class="code-number">1</span>,v=<span class="code-number">0</span>;v&lt;h.length&amp;&amp;!m;++v)<span class="code-keyword">if</span>(h[v](c.charAt(l))){<span class="code-keyword">for</span>(p=l;l!=f&amp;&amp;h[v](c.charAt(l));)l+=u;<span class="code-keyword">if</span>(m=p!=(g=l),p==t.ch&amp;&amp;i==t.line&amp;&amp;g==p+u)<span class="code-keyword">continue</span>;<span class="code-keyword">return</span>{<span class="code-attr">from</span>:<span class="code-built_in">Math</span>.min(p,g+<span class="code-number">1</span>),<span class="code-attr">to</span>:<span class="code-built_in">Math</span>.max(p,g),<span class="code-attr">line</span>:i}}m||(l+=u)}<span class="code-keyword">if</span>(!d(e,i+=u))<span class="code-keyword">return</span> <span class="code-literal">null</span>;c=e.getLine(i),l=u&gt;<span class="code-number">0</span>?<span class="code-number">0</span>:c.length}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ye</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o,i=e.getCursor(),a=i.ch,s=<span class="code-number">0</span>;s&lt;t;s++){<span class="code-keyword">if</span>(<span class="code-number">-1</span>==(o=Ce(a,e.getLine(i.line),r,n,!<span class="code-number">0</span>)))<span class="code-keyword">return</span> <span class="code-literal">null</span>;a=o}<span class="code-keyword">return</span> E(e.getCursor().line,o)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ke</span>(<span class="code-params">e,t,n,r</span>)</span>{k(n,f)&amp;&amp;(t.marks[n]&amp;&amp;t.marks[n].clear(),t.marks[n]=e.setBookmark(r))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ce</span>(<span class="code-params">e,t,n,r,o</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span> r?<span class="code-number">-1</span>==(i=t.indexOf(n,e+<span class="code-number">1</span>))||o||(i-=<span class="code-number">1</span>):<span class="code-number">-1</span>==(i=t.lastIndexOf(n,e<span class="code-number">-1</span>))||o||(i+=<span class="code-number">1</span>),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">we</span>(<span class="code-params">e,t,n,r,o</span>)</span>{<span class="code-keyword">var</span> i,a=t.line,s=e.firstLine(),l=e.lastLine(),c=a;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!e.getLine(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">h</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">return</span> n?u(e)!=u(e+t):!u(e)&amp;&amp;u(e+t)}<span class="code-keyword">if</span>(r){<span class="code-keyword">for</span>(;s&lt;=c&amp;&amp;c&lt;=l&amp;&amp;n&gt;<span class="code-number">0</span>;)h(c,r)&amp;&amp;n--,c+=r;<span class="code-keyword">return</span> <span class="code-keyword">new</span> E(c,<span class="code-number">0</span>)}<span class="code-keyword">var</span> f=e.state.vim;<span class="code-keyword">if</span>(f.visualLine&amp;&amp;h(a,<span class="code-number">1</span>,!<span class="code-number">0</span>)){<span class="code-keyword">var</span> p=f.sel.anchor;h(p.line,<span class="code-number">-1</span>,!<span class="code-number">0</span>)&amp;&amp;(o&amp;&amp;p.line==a||(a+=<span class="code-number">1</span>))}<span class="code-keyword">var</span> d=u(a);<span class="code-keyword">for</span>(c=a;c&lt;=l&amp;&amp;n;c++)h(c,<span class="code-number">1</span>,!<span class="code-number">0</span>)&amp;&amp;(o&amp;&amp;u(c)==d||n--);<span class="code-keyword">for</span>(i=<span class="code-keyword">new</span> E(c,<span class="code-number">0</span>),c&gt;l&amp;&amp;!d?d=!<span class="code-number">0</span>:o=!<span class="code-number">1</span>,c=a;c&gt;s&amp;&amp;(o&amp;&amp;u(c)!=d&amp;&amp;c!=a||!h(c,<span class="code-number">-1</span>,!<span class="code-number">0</span>));c--);<span class="code-keyword">return</span>{<span class="code-attr">start</span>:<span class="code-keyword">new</span> E(c,<span class="code-number">0</span>),<span class="code-attr">end</span>:i}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Se</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Me</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.state.vim;<span class="code-keyword">return</span> t.searchState_||(t.searchState_=<span class="code-keyword">new</span> Se)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xe</span>(<span class="code-params">e,t,n,r,o</span>)</span>{e.openDialog?e.openDialog(t,r,{<span class="code-attr">bottom</span>:!<span class="code-number">0</span>,<span class="code-attr">value</span>:o.value,<span class="code-attr">onKeyDown</span>:o.onKeyDown,<span class="code-attr">onKeyUp</span>:o.onKeyUp,<span class="code-attr">selectValueOnOpen</span>:!<span class="code-number">1</span>}):r(prompt(n,<span class="code-string">""</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">be</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=Ae(e,t)||[];<span class="code-keyword">if</span>(!n.length)<span class="code-keyword">return</span>[];<span class="code-keyword">var</span> r=[];<span class="code-keyword">if</span>(<span class="code-number">0</span>===n[<span class="code-number">0</span>]){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o&lt;n.length;o++)<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> n[o]&amp;&amp;r.push(e.substring(n[o]+<span class="code-number">1</span>,n[o+<span class="code-number">1</span>]));<span class="code-keyword">return</span> r}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ae</span>(<span class="code-params">e,t</span>)</span>{t||(t=<span class="code-string">"/"</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=!<span class="code-number">1</span>,r=[],o=<span class="code-number">0</span>;o&lt;e.length;o++){<span class="code-keyword">var</span> i=e.charAt(o);n||i!=t||r.push(o),n=!n&amp;&amp;<span class="code-string">"\\"</span>==i}<span class="code-keyword">return</span> r}w(<span class="code-string">"pcre"</span>,!<span class="code-number">0</span>,<span class="code-string">"boolean"</span>),Se.prototype={<span class="code-attr">getQuery</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> T.query},<span class="code-attr">setQuery</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{T.query=e},<span class="code-attr">getOverlay</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.searchOverlay},<span class="code-attr">setOverlay</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.searchOverlay=e},<span class="code-attr">isReversed</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> T.isReversed},<span class="code-attr">setReversed</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{T.isReversed=e},<span class="code-attr">getScrollbarAnnotate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.annotate},<span class="code-attr">setScrollbarAnnotate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.annotate=e}};<span class="code-keyword">var</span> Le={<span class="code-string">"\\n"</span>:<span class="code-string">"\n"</span>,<span class="code-string">"\\r"</span>:<span class="code-string">"\r"</span>,<span class="code-string">"\\t"</span>:<span class="code-string">"\t"</span>};<span class="code-keyword">var</span> Ee={<span class="code-string">"\\/"</span>:<span class="code-string">"/"</span>,<span class="code-string">"\\\\"</span>:<span class="code-string">"\\"</span>,<span class="code-string">"\\n"</span>:<span class="code-string">"\n"</span>,<span class="code-string">"\\r"</span>:<span class="code-string">"\r"</span>,<span class="code-string">"\\t"</span>:<span class="code-string">"\t"</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Te</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(T.registerController.getRegister(<span class="code-string">"/"</span>).setText(e),e <span class="code-keyword">instanceof</span> <span class="code-built_in">RegExp</span>)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> r,o,i=Ae(e,<span class="code-string">"/"</span>);i.length?(r=e.substring(<span class="code-number">0</span>,i[<span class="code-number">0</span>]),o=<span class="code-number">-1</span>!=e.substring(i[<span class="code-number">0</span>]).indexOf(<span class="code-string">"i"</span>)):r=e;<span class="code-keyword">return</span> r?(M(<span class="code-string">"pcre"</span>)||(r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=!<span class="code-number">1</span>,n=[],r=<span class="code-number">-1</span>;r&lt;e.length;r++){<span class="code-keyword">var</span> o=e.charAt(r)||<span class="code-string">""</span>,i=e.charAt(r+<span class="code-number">1</span>)||<span class="code-string">""</span>,a=i&amp;&amp;<span class="code-number">-1</span>!=<span class="code-string">"|(){"</span>.indexOf(i);t?(<span class="code-string">"\\"</span>===o&amp;&amp;a||n.push(o),t=!<span class="code-number">1</span>):<span class="code-string">"\\"</span>===o?(t=!<span class="code-number">0</span>,i&amp;&amp;<span class="code-number">-1</span>!=<span class="code-string">"}"</span>.indexOf(i)&amp;&amp;(a=!<span class="code-number">0</span>),a&amp;&amp;<span class="code-string">"\\"</span>!==i||n.push(o)):(n.push(o),a&amp;&amp;<span class="code-string">"\\"</span>!==i&amp;&amp;n.push(<span class="code-string">"\\"</span>))}<span class="code-keyword">return</span> n.join(<span class="code-string">""</span>)}(r)),n&amp;&amp;(t=<span class="code-regexp">/^[^A-Z]*$/</span>.test(r)),<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(r,t||o?<span class="code-string">"i"</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>)):<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Re</span>(<span class="code-params">e,t</span>)</span>{e.openNotification?e.openNotification(<span class="code-string">'&lt;span style="color: red"&gt;'</span>+t+<span class="code-string">"&lt;/span&gt;"</span>,{<span class="code-attr">bottom</span>:!<span class="code-number">0</span>,<span class="code-attr">duration</span>:<span class="code-number">5e3</span>}):alert(t)}<span class="code-keyword">var</span> Oe=<span class="code-string">"(Javascript regexp)"</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ie</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n,r,o,i=(t.prefix||<span class="code-string">""</span>)+<span class="code-string">" "</span>+(t.desc||<span class="code-string">""</span>);xe(e,(n=t.prefix,r=t.desc,o=<span class="code-string">'&lt;span style="font-family: monospace; white-space: pre"&gt;'</span>+(n||<span class="code-string">""</span>)+<span class="code-string">'&lt;input type="text"&gt;&lt;/span&gt;'</span>,r&amp;&amp;(o+=<span class="code-string">' &lt;span style="color: #888"&gt;'</span>+r+<span class="code-string">"&lt;/span&gt;"</span>),o),i,t.onClose,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Be</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">if</span>(t){<span class="code-keyword">var</span> o=Me(e),i=Te(t,!!n,!!r);<span class="code-keyword">if</span>(i)<span class="code-keyword">return</span> Pe(e,i),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e <span class="code-keyword">instanceof</span> <span class="code-built_in">RegExp</span>&amp;&amp;t <span class="code-keyword">instanceof</span> <span class="code-built_in">RegExp</span>){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[<span class="code-string">"global"</span>,<span class="code-string">"multiline"</span>,<span class="code-string">"ignoreCase"</span>,<span class="code-string">"source"</span>],r=<span class="code-number">0</span>;r&lt;n.length;r++){<span class="code-keyword">var</span> o=n[r];<span class="code-keyword">if</span>(e[o]!==t[o])<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>}(i,o.getQuery())?i:(o.setQuery(i),i)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pe</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=Me(e),r=n.getOverlay();r&amp;&amp;t==r.query||(r&amp;&amp;e.removeOverlay(r),r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"^"</span>==e.source.charAt(<span class="code-number">0</span>))<span class="code-keyword">var</span> t=!<span class="code-number">0</span>;<span class="code-keyword">return</span>{<span class="code-attr">token</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">if</span>(!t||n.sol()){<span class="code-keyword">var</span> r=n.match(e,!<span class="code-number">1</span>);<span class="code-keyword">if</span>(r)<span class="code-keyword">return</span> <span class="code-number">0</span>==r[<span class="code-number">0</span>].length?(n.next(),<span class="code-string">"searching"</span>):n.sol()||(n.backUp(<span class="code-number">1</span>),e.exec(n.next()+r[<span class="code-number">0</span>]))?(n.match(e),<span class="code-string">"searching"</span>):(n.next(),<span class="code-literal">null</span>);<span class="code-keyword">for</span>(;!n.eol()&amp;&amp;(n.next(),!n.match(e,!<span class="code-number">1</span>)););}<span class="code-keyword">else</span> n.skipToEnd()},<span class="code-attr">query</span>:e}}(t),e.addOverlay(r),e.showMatchesOnScrollbar&amp;&amp;(n.getScrollbarAnnotate()&amp;&amp;n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(r))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ne</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=<span class="code-number">1</span>),e.operation((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=e.getCursor(),i=e.getSearchCursor(n,o),a=<span class="code-number">0</span>;a&lt;r;a++){<span class="code-keyword">var</span> s=i.find(t);<span class="code-keyword">if</span>(<span class="code-number">0</span>==a&amp;&amp;s&amp;&amp;Y(i.from(),o)&amp;&amp;(s=i.find(t)),!s&amp;&amp;!(i=e.getSearchCursor(n,t?E(e.lastLine()):E(e.firstLine(),<span class="code-number">0</span>))).find(t))<span class="code-keyword">return</span>}<span class="code-keyword">return</span> i.from()}))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ke</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Me(e);e.removeOverlay(Me(e).getOverlay()),t.setOverlay(<span class="code-literal">null</span>),t.getScrollbarAnnotate()&amp;&amp;(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(<span class="code-literal">null</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ve</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.getUserVisibleLines()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">We</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"'"</span>==n){<span class="code-keyword">var</span> r=e.doc.history.done,o=r[r.length<span class="code-number">-2</span>];<span class="code-keyword">return</span> o&amp;&amp;o.ranges&amp;&amp;o.ranges[<span class="code-number">0</span>].head}<span class="code-keyword">if</span>(<span class="code-string">"."</span>==n){<span class="code-keyword">if</span>(<span class="code-number">0</span>==e.doc.history.lastModTime)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> i=e.doc.history.done.filter((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.changes)<span class="code-keyword">return</span> e}));<span class="code-keyword">return</span> i.reverse(),i[<span class="code-number">0</span>].changes[<span class="code-number">0</span>].to}<span class="code-keyword">var</span> a=t.marks[n];<span class="code-keyword">return</span> a&amp;&amp;a.find()}<span class="code-keyword">var</span> De=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.buildCommandMap_()};De.prototype={<span class="code-attr">processCommand</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;e.operation((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.curOp.isVimOp=!<span class="code-number">0</span>,r._processCommand(e,t,n)}))},<span class="code-attr">_processCommand</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=e.state.vim,o=T.registerController.getRegister(<span class="code-string">":"</span>),i=o.toString();r.visualMode&amp;&amp;he(e);<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> x.StringStream(t);o.setText(t);<span class="code-keyword">var</span> s,l,c=n||{};c.input=t;<span class="code-keyword">try</span>{<span class="code-keyword">this</span>.parseInput_(e,a,c)}<span class="code-keyword">catch</span>(t){<span class="code-keyword">throw</span> Re(e,t),t}<span class="code-keyword">if</span>(c.commandName){<span class="code-keyword">if</span>(s=<span class="code-keyword">this</span>.matchCommand_(c.commandName)){<span class="code-keyword">if</span>(l=s.name,s.excludeFromCommandHistory&amp;&amp;o.setText(i),<span class="code-keyword">this</span>.parseCommandArgs_(a,c,s),<span class="code-string">"exToKey"</span>==s.type){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u&lt;s.toKeys.length;u++)x.Vim.handleKey(e,s.toKeys[u],<span class="code-string">"mapping"</span>);<span class="code-keyword">return</span>}<span class="code-keyword">if</span>(<span class="code-string">"exToEx"</span>==s.type)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">this</span>.processCommand(e,s.toInput)}}<span class="code-keyword">else</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==c.line&amp;&amp;(l=<span class="code-string">"move"</span>);<span class="code-keyword">if</span>(l)<span class="code-keyword">try</span>{_e[l](e,c),s&amp;&amp;s.possiblyAsync||!c.callback||c.callback()}<span class="code-keyword">catch</span>(t){<span class="code-keyword">throw</span> Re(e,t),t}<span class="code-keyword">else</span> Re(e,<span class="code-string">'Not an editor command ":'</span>+t+<span class="code-string">'"'</span>)},<span class="code-attr">parseInput_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{t.eatWhile(<span class="code-string">":"</span>),t.eat(<span class="code-string">"%"</span>)?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=<span class="code-keyword">this</span>.parseLineSpec_(e,t),<span class="code-keyword">void</span> <span class="code-number">0</span>!==n.line&amp;&amp;t.eat(<span class="code-string">","</span>)&amp;&amp;(n.lineEnd=<span class="code-keyword">this</span>.parseLineSpec_(e,t)));<span class="code-keyword">var</span> r=t.match(<span class="code-regexp">/^(\w+)/</span>);<span class="code-keyword">return</span> n.commandName=r?r[<span class="code-number">1</span>]:t.match(<span class="code-regexp">/.*/</span>)[<span class="code-number">0</span>],n},<span class="code-attr">parseLineSpec_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t.match(<span class="code-regexp">/^(\d+)/</span>);<span class="code-keyword">if</span>(n)<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(n[<span class="code-number">1</span>],<span class="code-number">10</span>)<span class="code-number">-1</span>;<span class="code-keyword">switch</span>(t.next()){<span class="code-keyword">case</span><span class="code-string">"."</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.parseLineSpecOffset_(t,e.getCursor().line);<span class="code-keyword">case</span><span class="code-string">"$"</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.parseLineSpecOffset_(t,e.lastLine());<span class="code-keyword">case</span><span class="code-string">"'"</span>:<span class="code-keyword">var</span> r=t.next(),o=We(e,e.state.vim,r);<span class="code-keyword">if</span>(!o)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Mark not set"</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.parseLineSpecOffset_(t,o.line);<span class="code-keyword">case</span><span class="code-string">"-"</span>:<span class="code-keyword">case</span><span class="code-string">"+"</span>:<span class="code-keyword">return</span> t.backUp(<span class="code-number">1</span>),<span class="code-keyword">this</span>.parseLineSpecOffset_(t,e.getCursor().line);<span class="code-keyword">default</span>:<span class="code-keyword">return</span> <span class="code-keyword">void</span> t.backUp(<span class="code-number">1</span>)}},<span class="code-attr">parseLineSpecOffset_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=e.match(<span class="code-regexp">/^([+-])?(\d+)/</span>);<span class="code-keyword">if</span>(n){<span class="code-keyword">var</span> r=<span class="code-built_in">parseInt</span>(n[<span class="code-number">2</span>],<span class="code-number">10</span>);<span class="code-string">"-"</span>==n[<span class="code-number">1</span>]?t-=r:t+=r}<span class="code-keyword">return</span> t},<span class="code-attr">parseCommandArgs_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(!e.eol()){t.argString=e.match(<span class="code-regexp">/.*/</span>)[<span class="code-number">0</span>];<span class="code-keyword">var</span> r=n.argDelimiter||<span class="code-regexp">/\s+/</span>,o=oe(t.argString).split(r);o.length&amp;&amp;o[<span class="code-number">0</span>]&amp;&amp;(t.args=o)}},<span class="code-attr">matchCommand_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.length;t&gt;<span class="code-number">0</span>;t--){<span class="code-keyword">var</span> n=e.substring(<span class="code-number">0</span>,t);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.commandMap_[n]){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.commandMap_[n];<span class="code-keyword">if</span>(<span class="code-number">0</span>===r.name.indexOf(e))<span class="code-keyword">return</span> r}}<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">buildCommandMap_</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.commandMap_={};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;L.length;e++){<span class="code-keyword">var</span> t=L[e],n=t.shortName||t.name;<span class="code-keyword">this</span>.commandMap_[n]=t}},<span class="code-attr">map</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">":"</span>!=e&amp;&amp;<span class="code-string">":"</span>==e.charAt(<span class="code-number">0</span>)){<span class="code-keyword">if</span>(n)<span class="code-keyword">throw</span> <span class="code-built_in">Error</span>(<span class="code-string">"Mode not supported for ex mappings"</span>);<span class="code-keyword">var</span> r=e.substring(<span class="code-number">1</span>);<span class="code-string">":"</span>!=t&amp;&amp;<span class="code-string">":"</span>==t.charAt(<span class="code-number">0</span>)?<span class="code-keyword">this</span>.commandMap_[r]={<span class="code-attr">name</span>:r,<span class="code-attr">type</span>:<span class="code-string">"exToEx"</span>,<span class="code-attr">toInput</span>:t.substring(<span class="code-number">1</span>),<span class="code-attr">user</span>:!<span class="code-number">0</span>}:<span class="code-keyword">this</span>.commandMap_[r]={<span class="code-attr">name</span>:r,<span class="code-attr">type</span>:<span class="code-string">"exToKey"</span>,<span class="code-attr">toKeys</span>:t,<span class="code-attr">user</span>:!<span class="code-number">0</span>}}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">":"</span>!=t&amp;&amp;<span class="code-string">":"</span>==t.charAt(<span class="code-number">0</span>)){<span class="code-keyword">var</span> o={<span class="code-attr">keys</span>:e,<span class="code-attr">type</span>:<span class="code-string">"keyToEx"</span>,<span class="code-attr">exArgs</span>:{<span class="code-attr">input</span>:t.substring(<span class="code-number">1</span>)}};n&amp;&amp;(o.context=n),A.unshift(o)}<span class="code-keyword">else</span>{o={<span class="code-attr">keys</span>:e,<span class="code-attr">type</span>:<span class="code-string">"keyToKey"</span>,<span class="code-attr">toKeys</span>:t};n&amp;&amp;(o.context=n),A.unshift(o)}},<span class="code-attr">unmap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">":"</span>!=e&amp;&amp;<span class="code-string">":"</span>==e.charAt(<span class="code-number">0</span>)){<span class="code-keyword">if</span>(t)<span class="code-keyword">throw</span> <span class="code-built_in">Error</span>(<span class="code-string">"Mode not supported for ex mappings"</span>);<span class="code-keyword">var</span> n=e.substring(<span class="code-number">1</span>);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.commandMap_[n]&amp;&amp;<span class="code-keyword">this</span>.commandMap_[n].user)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">delete</span> <span class="code-keyword">this</span>.commandMap_[n]}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=e,o=<span class="code-number">0</span>;o&lt;A.length;o++)<span class="code-keyword">if</span>(r==A[o].keys&amp;&amp;A[o].context===t)<span class="code-keyword">return</span> <span class="code-keyword">void</span> A.splice(o,<span class="code-number">1</span>);<span class="code-keyword">throw</span> <span class="code-built_in">Error</span>(<span class="code-string">"No such mapping."</span>)}};<span class="code-keyword">var</span> _e={<span class="code-attr">colorscheme</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{!t.args||t.args.length&lt;<span class="code-number">1</span>?Re(e,e.getOption(<span class="code-string">"theme"</span>)):e.setOption(<span class="code-string">"theme"</span>,t.args[<span class="code-number">0</span>])},<span class="code-attr">map</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t.args;!r||r.length&lt;<span class="code-number">2</span>?e&amp;&amp;Re(e,<span class="code-string">"Invalid mapping: "</span>+t.input):je.map(r[<span class="code-number">0</span>],r[<span class="code-number">1</span>],n)},<span class="code-attr">imap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.map(e,t,<span class="code-string">"insert"</span>)},<span class="code-attr">nmap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.map(e,t,<span class="code-string">"normal"</span>)},<span class="code-attr">vmap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.map(e,t,<span class="code-string">"visual"</span>)},<span class="code-attr">unmap</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">var</span> r=t.args;!r||r.length&lt;<span class="code-number">1</span>?e&amp;&amp;Re(e,<span class="code-string">"No such mapping: "</span>+t.input):je.unmap(r[<span class="code-number">0</span>],n)},<span class="code-attr">move</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{j.processCommand(e,e.state.vim,{<span class="code-attr">type</span>:<span class="code-string">"motion"</span>,<span class="code-attr">motion</span>:<span class="code-string">"moveToLineOrEdgeOfDocument"</span>,<span class="code-attr">motionArgs</span>:{<span class="code-attr">forward</span>:!<span class="code-number">1</span>,<span class="code-attr">explicitRepeat</span>:!<span class="code-number">0</span>,<span class="code-attr">linewise</span>:!<span class="code-number">0</span>},<span class="code-attr">repeatOverride</span>:t.line+<span class="code-number">1</span>})},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t.args,r=t.setCfg||{};<span class="code-keyword">if</span>(!n||n.length&lt;<span class="code-number">1</span>)e&amp;&amp;Re(e,<span class="code-string">"Invalid mapping: "</span>+t.input);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> o=n[<span class="code-number">0</span>].split(<span class="code-string">"="</span>),i=o[<span class="code-number">0</span>],a=o[<span class="code-number">1</span>],s=!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-string">"?"</span>==i.charAt(i.length<span class="code-number">-1</span>)){<span class="code-keyword">if</span>(a)<span class="code-keyword">throw</span> <span class="code-built_in">Error</span>(<span class="code-string">"Trailing characters: "</span>+t.argString);i=i.substring(<span class="code-number">0</span>,i.length<span class="code-number">-1</span>),s=!<span class="code-number">0</span>}<span class="code-keyword">void</span> <span class="code-number">0</span>===a&amp;&amp;<span class="code-string">"no"</span>==i.substring(<span class="code-number">0</span>,<span class="code-number">2</span>)&amp;&amp;(i=i.substring(<span class="code-number">2</span>),a=!<span class="code-number">1</span>);<span class="code-keyword">var</span> l=C[i]&amp;&amp;<span class="code-string">"boolean"</span>==C[i].type;<span class="code-keyword">if</span>(l&amp;&amp;<span class="code-literal">null</span>==a&amp;&amp;(a=!<span class="code-number">0</span>),!l&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===a||s){<span class="code-keyword">var</span> c=M(i,e,r);c <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>?Re(e,c.message):Re(e,!<span class="code-number">0</span>===c||!<span class="code-number">1</span>===c?<span class="code-string">" "</span>+(c?<span class="code-string">""</span>:<span class="code-string">"no"</span>)+i:<span class="code-string">"  "</span>+i+<span class="code-string">"="</span>+c)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> u=S(i,a,e,r);u <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>&amp;&amp;Re(e,u.message)}}},<span class="code-attr">setlocal</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t.setCfg={<span class="code-attr">scope</span>:<span class="code-string">"local"</span>},<span class="code-keyword">this</span>.set(e,t)},<span class="code-attr">setglobal</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t.setCfg={<span class="code-attr">scope</span>:<span class="code-string">"global"</span>},<span class="code-keyword">this</span>.set(e,t)},<span class="code-attr">registers</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t.args,r=T.registerController.registers,o=<span class="code-string">"----------Registers----------&lt;br&gt;&lt;br&gt;"</span>;<span class="code-keyword">if</span>(n){n=n.join(<span class="code-string">""</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;n.length;i++){<span class="code-keyword">if</span>(a=n.charAt(i),T.registerController.isValidRegister(a))o+=<span class="code-string">'"'</span>+a+<span class="code-string">"    "</span>+(r[a]||<span class="code-keyword">new</span> W).toString()+<span class="code-string">"&lt;br&gt;"</span>}}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> r){<span class="code-keyword">var</span> s=r[a].toString();s.length&amp;&amp;(o+=<span class="code-string">'"'</span>+a+<span class="code-string">"    "</span>+s+<span class="code-string">"&lt;br&gt;"</span>)}Re(e,o)},<span class="code-attr">sort</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n,r,o,i,a;<span class="code-keyword">var</span> s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(t.argString){<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> x.StringStream(t.argString);<span class="code-keyword">if</span>(e.eat(<span class="code-string">"!"</span>)&amp;&amp;(n=!<span class="code-number">0</span>),e.eol())<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(!e.eatSpace())<span class="code-keyword">return</span><span class="code-string">"Invalid arguments"</span>;<span class="code-keyword">var</span> s=e.match(<span class="code-regexp">/([dinuox]+)?\s*(\/.+\/)?\s*/</span>);<span class="code-keyword">if</span>(!s&amp;&amp;!e.eol())<span class="code-keyword">return</span><span class="code-string">"Invalid arguments"</span>;<span class="code-keyword">if</span>(s[<span class="code-number">1</span>]){r=<span class="code-number">-1</span>!=s[<span class="code-number">1</span>].indexOf(<span class="code-string">"i"</span>),o=<span class="code-number">-1</span>!=s[<span class="code-number">1</span>].indexOf(<span class="code-string">"u"</span>);<span class="code-keyword">var</span> l=<span class="code-number">-1</span>!=s[<span class="code-number">1</span>].indexOf(<span class="code-string">"d"</span>)||<span class="code-number">-1</span>!=s[<span class="code-number">1</span>].indexOf(<span class="code-string">"n"</span>)&amp;&amp;<span class="code-number">1</span>,c=<span class="code-number">-1</span>!=s[<span class="code-number">1</span>].indexOf(<span class="code-string">"x"</span>)&amp;&amp;<span class="code-number">1</span>,u=<span class="code-number">-1</span>!=s[<span class="code-number">1</span>].indexOf(<span class="code-string">"o"</span>)&amp;&amp;<span class="code-number">1</span>;<span class="code-keyword">if</span>(l+c+u&gt;<span class="code-number">1</span>)<span class="code-keyword">return</span><span class="code-string">"Invalid arguments"</span>;i=(l?<span class="code-string">"decimal"</span>:c&amp;&amp;<span class="code-string">"hex"</span>)||u&amp;&amp;<span class="code-string">"octal"</span>}s[<span class="code-number">2</span>]&amp;&amp;(a=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(s[<span class="code-number">2</span>].substr(<span class="code-number">1</span>,s[<span class="code-number">2</span>].length<span class="code-number">-2</span>),r?<span class="code-string">"i"</span>:<span class="code-string">""</span>))}}();<span class="code-keyword">if</span>(s)Re(e,s+<span class="code-string">": "</span>+t.argString);<span class="code-keyword">else</span>{<span class="code-keyword">var</span> l=t.line||e.firstLine(),c=t.lineEnd||t.line||e.lastLine();<span class="code-keyword">if</span>(l!=c){<span class="code-keyword">var</span> u=E(l,<span class="code-number">0</span>),h=E(c,re(e,c)),f=e.getRange(u,h).split(<span class="code-string">"\n"</span>),p=a||(<span class="code-string">"decimal"</span>==i?<span class="code-regexp">/(-?)([\d]+)/</span>:<span class="code-string">"hex"</span>==i?<span class="code-regexp">/(-?)(?:0x)?([0-9a-f]+)/i</span>:<span class="code-string">"octal"</span>==i?<span class="code-regexp">/([0-7]+)/</span>:<span class="code-literal">null</span>),d=<span class="code-string">"decimal"</span>==i?<span class="code-number">10</span>:<span class="code-string">"hex"</span>==i?<span class="code-number">16</span>:<span class="code-string">"octal"</span>==i?<span class="code-number">8</span>:<span class="code-literal">null</span>,g=[],m=[];<span class="code-keyword">if</span>(i||a)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> v=<span class="code-number">0</span>;v&lt;f.length;v++){<span class="code-keyword">var</span> y=a?f[v].match(a):<span class="code-literal">null</span>;y&amp;&amp;<span class="code-string">""</span>!=y[<span class="code-number">0</span>]?g.push(y):!a&amp;&amp;p.exec(f[v])?g.push(f[v]):m.push(f[v])}<span class="code-keyword">else</span> m=f;<span class="code-keyword">if</span>(g.sort(a?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> o;<span class="code-keyword">return</span> n&amp;&amp;(o=e,e=t,t=o),r&amp;&amp;(e[<span class="code-number">0</span>]=e[<span class="code-number">0</span>].toLowerCase(),t[<span class="code-number">0</span>]=t[<span class="code-number">0</span>].toLowerCase()),e[<span class="code-number">0</span>]&lt;t[<span class="code-number">0</span>]?<span class="code-number">-1</span>:<span class="code-number">1</span>}:w),a)<span class="code-keyword">for</span>(v=<span class="code-number">0</span>;v&lt;g.length;v++)g[v]=g[v].input;<span class="code-keyword">else</span> i||m.sort(w);<span class="code-keyword">if</span>(f=n?g.concat(m):m.concat(g),o){<span class="code-keyword">var</span> k,C=f;f=[];<span class="code-keyword">for</span>(v=<span class="code-number">0</span>;v&lt;C.length;v++)C[v]!=k&amp;&amp;f.push(C[v]),k=C[v]}e.replaceRange(f.join(<span class="code-string">"\n"</span>),u,h)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> o;n&amp;&amp;(o=e,e=t,t=o);r&amp;&amp;(e=e.toLowerCase(),t=t.toLowerCase());<span class="code-keyword">var</span> a=i&amp;&amp;p.exec(e),s=i&amp;&amp;p.exec(t);<span class="code-keyword">return</span> a?(a=<span class="code-built_in">parseInt</span>((a[<span class="code-number">1</span>]+a[<span class="code-number">2</span>]).toLowerCase(),d))-(s=<span class="code-built_in">parseInt</span>((s[<span class="code-number">1</span>]+s[<span class="code-number">2</span>]).toLowerCase(),d)):e&lt;t?<span class="code-number">-1</span>:<span class="code-number">1</span>}},<span class="code-attr">global</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=t.argString;<span class="code-keyword">if</span>(n){<span class="code-keyword">var</span> r,o=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.line?t.line:e.firstLine(),i=t.lineEnd||t.line||e.lastLine(),a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> be(e,<span class="code-string">"/"</span>)}(n),s=n;<span class="code-keyword">if</span>(a.length&amp;&amp;(s=a[<span class="code-number">0</span>],r=a.slice(<span class="code-number">1</span>,a.length).join(<span class="code-string">"/"</span>)),s)<span class="code-keyword">try</span>{Be(e,s,!<span class="code-number">0</span>,!<span class="code-number">0</span>)}<span class="code-keyword">catch</span>(t){<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"Invalid regex: "</span>+s)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=Me(e).getQuery(),c=[],u=<span class="code-string">""</span>,h=o;h&lt;=i;h++){l.test(e.getLine(h))&amp;&amp;(c.push(h+<span class="code-number">1</span>),u+=e.getLine(h)+<span class="code-string">"&lt;br&gt;"</span>)}<span class="code-keyword">if</span>(r){<span class="code-keyword">var</span> f=<span class="code-number">0</span>;!<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(f&lt;c.length){<span class="code-keyword">var</span> n=c[f]+r;je.processCommand(e,n,{<span class="code-attr">callback</span>:t})}f++}()}<span class="code-keyword">else</span> Re(e,u)}<span class="code-keyword">else</span> Re(e,<span class="code-string">"Regular Expression missing from global"</span>)},<span class="code-attr">substitute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!e.getSearchCursor)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation."</span>);<span class="code-keyword">var</span> n,r,o,a,s=t.argString,l=s?be(s,s[<span class="code-number">0</span>]):[],c=<span class="code-string">""</span>,u=!<span class="code-number">1</span>,h=!<span class="code-number">1</span>;<span class="code-keyword">if</span>(l.length)n=l[<span class="code-number">0</span>],c=l[<span class="code-number">1</span>],n&amp;&amp;<span class="code-string">"$"</span>===n[n.length<span class="code-number">-1</span>]&amp;&amp;(n=n.slice(<span class="code-number">0</span>,n.length<span class="code-number">-1</span>)+<span class="code-string">"\\n"</span>,c=c?c+<span class="code-string">"\n"</span>:<span class="code-string">"\n"</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==c&amp;&amp;(c=M(<span class="code-string">"pcre"</span>)?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> x.StringStream(e),n=[];!t.eol();){<span class="code-keyword">for</span>(;t.peek()&amp;&amp;<span class="code-string">"\\"</span>!=t.peek();)n.push(t.next());<span class="code-keyword">var</span> r=!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> Ee)<span class="code-keyword">if</span>(t.match(o,!<span class="code-number">0</span>)){r=!<span class="code-number">0</span>,n.push(Ee[o]);<span class="code-keyword">break</span>}r||n.push(t.next())}<span class="code-keyword">return</span> n.join(<span class="code-string">""</span>)}(c):<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,n=!<span class="code-number">1</span>,r=[],o=<span class="code-number">-1</span>;o&lt;e.length;o++){<span class="code-keyword">var</span> a=e.charAt(o)||<span class="code-string">""</span>,s=e.charAt(o+<span class="code-number">1</span>)||<span class="code-string">""</span>;Le[a+s]?(r.push(Le[a+s]),o++):n?(r.push(a),n=!<span class="code-number">1</span>):<span class="code-string">"\\"</span>===a?(n=!<span class="code-number">0</span>,t=s,i.test(t)||<span class="code-string">"$"</span>===s?r.push(<span class="code-string">"$"</span>):<span class="code-string">"/"</span>!==s&amp;&amp;<span class="code-string">"\\"</span>!==s&amp;&amp;r.push(<span class="code-string">"\\"</span>)):(<span class="code-string">"$"</span>===a&amp;&amp;r.push(<span class="code-string">"$"</span>),r.push(a),<span class="code-string">"/"</span>===s&amp;&amp;r.push(<span class="code-string">"\\"</span>))}<span class="code-keyword">return</span> r.join(<span class="code-string">""</span>)}(c),T.lastSubstituteReplacePart=c),r=l[<span class="code-number">2</span>]?l[<span class="code-number">2</span>].split(<span class="code-string">" "</span>):[];<span class="code-keyword">else</span> <span class="code-keyword">if</span>(s&amp;&amp;s.length)<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"Substitutions should be of the form :s/pattern/replace/"</span>);<span class="code-keyword">if</span>(r&amp;&amp;(o=r[<span class="code-number">0</span>],a=<span class="code-built_in">parseInt</span>(r[<span class="code-number">1</span>]),o&amp;&amp;(<span class="code-number">-1</span>!=o.indexOf(<span class="code-string">"c"</span>)&amp;&amp;(u=!<span class="code-number">0</span>,o.replace(<span class="code-string">"c"</span>,<span class="code-string">""</span>)),<span class="code-number">-1</span>!=o.indexOf(<span class="code-string">"g"</span>)&amp;&amp;(h=!<span class="code-number">0</span>,o.replace(<span class="code-string">"g"</span>,<span class="code-string">""</span>)),n=n.replace(<span class="code-regexp">/\//g</span>,<span class="code-string">"\\/"</span>)+<span class="code-string">"/"</span>+o)),n)<span class="code-keyword">try</span>{Be(e,n,!<span class="code-number">0</span>,!<span class="code-number">0</span>)}<span class="code-keyword">catch</span>(t){<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"Invalid regex: "</span>+n)}<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==(c=c||T.lastSubstituteReplacePart)){<span class="code-keyword">var</span> f=Me(e).getQuery(),p=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t.line?t.line:e.getCursor().line,d=t.lineEnd||p;p==e.firstLine()&amp;&amp;d==e.lastLine()&amp;&amp;(d=<span class="code-number">1</span>/<span class="code-number">0</span>),a&amp;&amp;(d=(p=d)+a<span class="code-number">-1</span>);<span class="code-keyword">var</span> g=$(e,E(p,<span class="code-number">0</span>)),m=e.getSearchCursor(f,g);e.pushUndoStop(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,r,o,i,a,s,l</span>)</span>{e.state.vim.exMode=!<span class="code-number">0</span>;<span class="code-keyword">var</span> c=!<span class="code-number">1</span>,u=i.from();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">h</span>(<span class="code-params"></span>)</span>{e.operation(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(;!c;)f(),p(!<span class="code-number">1</span>);d()}.bind(<span class="code-keyword">this</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">f</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=e.getRange(i.from(),i.to()).replace(a,s);i.replace(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">p</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">for</span>(;i.findNext()&amp;&amp;(a=i.from(),s=r,l=o,<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> a&amp;&amp;(a=a.line),s <span class="code-keyword">instanceof</span> <span class="code-built_in">Array</span>?k(a,s):l?a&gt;=s&amp;&amp;a&lt;=l:a==s);)<span class="code-keyword">if</span>(n||!u||i.from().line!=u.line)<span class="code-keyword">return</span> e.scrollIntoView(i.from(),<span class="code-number">30</span>),t&amp;&amp;e.setSelection(i.from(),i.to()),u=i.from(),<span class="code-keyword">void</span>(c=!<span class="code-number">1</span>);<span class="code-keyword">var</span> a,s,l;c=!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">d</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(t&amp;&amp;t(),e.focus(),u){e.setCursor(u);<span class="code-keyword">var</span> n=e.state.vim;n.exMode=!<span class="code-number">1</span>,n.lastHPos=n.lastHSPos=u.ch}l&amp;&amp;l()}<span class="code-keyword">if</span>(p(!<span class="code-number">0</span>),c)<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"No matches for "</span>+a.source);<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> h(),<span class="code-keyword">void</span>(l&amp;&amp;l());Ie(e,{<span class="code-attr">prefix</span>:<span class="code-string">"replace with &lt;strong&gt;"</span>+s+<span class="code-string">"&lt;/strong&gt; (y/n/a/q/l)"</span>,<span class="code-attr">onKeyDown</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,n,r</span>)</span>{<span class="code-keyword">switch</span>(x.e_stop(t),x.keyName(t)){<span class="code-keyword">case</span><span class="code-string">"y"</span>:<span class="code-keyword">case</span><span class="code-string">"Y"</span>:f(),p();<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"n"</span>:<span class="code-keyword">case</span><span class="code-string">"N"</span>:p();<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"a"</span>:<span class="code-keyword">case</span><span class="code-string">"A"</span>:<span class="code-keyword">var</span> o=l;l=<span class="code-keyword">void</span> <span class="code-number">0</span>,e.operation(h),l=o;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"l"</span>:<span class="code-keyword">case</span><span class="code-string">"L"</span>:f();<span class="code-keyword">case</span><span class="code-string">"q"</span>:<span class="code-keyword">case</span><span class="code-string">"Q"</span>:<span class="code-keyword">case</span><span class="code-string">"Esc"</span>:<span class="code-keyword">case</span><span class="code-string">"Ctrl-C"</span>:<span class="code-keyword">case</span><span class="code-string">"Ctrl-["</span>:d(r)}<span class="code-keyword">return</span> c&amp;&amp;d(r),!<span class="code-number">0</span>}})}(e,u,h,p,d,m,f,c,t.callback)}<span class="code-keyword">else</span> Re(e,<span class="code-string">"No previous substitute regular expression"</span>)},<span class="code-attr">redo</span>:x.commands.redo,<span class="code-attr">undo</span>:x.commands.undo,<span class="code-attr">write</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{x.commands.save?x.commands.save(e):e.save&amp;&amp;e.save()},<span class="code-attr">nohlsearch</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Ke(e)},<span class="code-attr">yank</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=X(e.getCursor()).line,n=e.getLine(t);T.registerController.pushText(<span class="code-string">"0"</span>,<span class="code-string">"yank"</span>,n,!<span class="code-number">0</span>,!<span class="code-number">0</span>)},<span class="code-attr">delmarks</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(t.argString&amp;&amp;oe(t.argString))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.state.vim,r=<span class="code-keyword">new</span> x.StringStream(oe(t.argString));!r.eol();){r.eatSpace();<span class="code-keyword">var</span> o=r.pos;<span class="code-keyword">if</span>(!r.match(<span class="code-regexp">/[a-zA-Z]/</span>,!<span class="code-number">1</span>))<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"Invalid argument: "</span>+t.argString.substring(o));<span class="code-keyword">var</span> i=r.next();<span class="code-keyword">if</span>(r.match(<span class="code-string">"-"</span>,!<span class="code-number">0</span>)){<span class="code-keyword">if</span>(!r.match(<span class="code-regexp">/[a-zA-Z]/</span>,!<span class="code-number">1</span>))<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"Invalid argument: "</span>+t.argString.substring(o));<span class="code-keyword">var</span> a=i,s=r.next();<span class="code-keyword">if</span>(!(g(a)&amp;&amp;g(s)||m(a)&amp;&amp;m(s)))<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"Invalid argument: "</span>+a+<span class="code-string">"-"</span>);<span class="code-keyword">var</span> l=a.charCodeAt(<span class="code-number">0</span>),c=s.charCodeAt(<span class="code-number">0</span>);<span class="code-keyword">if</span>(l&gt;=c)<span class="code-keyword">return</span> <span class="code-keyword">void</span> Re(e,<span class="code-string">"Invalid argument: "</span>+t.argString.substring(o));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u&lt;=c-l;u++){<span class="code-keyword">var</span> h=<span class="code-built_in">String</span>.fromCharCode(l+u);<span class="code-keyword">delete</span> n.marks[h]}}<span class="code-keyword">else</span> <span class="code-keyword">delete</span> n.marks[i]}<span class="code-keyword">else</span> Re(e,<span class="code-string">"Argument required"</span>)}},je=<span class="code-keyword">new</span> De;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.state.vim,n=T.macroModeState,r=T.registerController.getRegister(<span class="code-string">"."</span>),o=n.isPlaying,i=n.lastInsertModeChanges,a=[];<span class="code-keyword">if</span>(!o){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=i.inVisualBlock&amp;&amp;t.lastSelection?t.lastSelection.visualBlock.height:<span class="code-number">1</span>,l=i.changes,c=(a=[],<span class="code-number">0</span>);c&lt;l.length;)a.push(l[c]),l[c]<span class="code-keyword">instanceof</span> Qe?c++:c+=s;i.changes=a,e.off(<span class="code-string">"change"</span>,qe),x.off(e.getInputField(),<span class="code-string">"keydown"</span>,ze)}!o&amp;&amp;t.insertModeRepeat&gt;<span class="code-number">1</span>&amp;&amp;(Ge(e,t,t.insertModeRepeat<span class="code-number">-1</span>,!<span class="code-number">0</span>),t.lastEditInputState.repeatOverride=t.insertModeRepeat),<span class="code-keyword">delete</span> t.insertModeRepeat,t.insertMode=!<span class="code-number">1</span>,e.setCursor(e.getCursor().line,e.getCursor().ch<span class="code-number">-1</span>),e.setOption(<span class="code-string">"keyMap"</span>,<span class="code-string">"vim"</span>),e.setOption(<span class="code-string">"disableInput"</span>,!<span class="code-number">0</span>),e.toggleOverwrite(!<span class="code-number">1</span>),r.setText(i.changes.join(<span class="code-string">""</span>)),x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"normal"</span>}),n.isRecording&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.isPlaying)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> t=e.latestRegister,n=T.registerController.getRegister(t);n&amp;&amp;n.pushInsertModeChanges&amp;&amp;n.pushInsertModeChanges(e.lastInsertModeChanges)}(n),e.enterVimMode()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">He</span>(<span class="code-params">e</span>)</span>{A.unshift(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ue</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=T.registerController.getRegister(r);<span class="code-keyword">if</span>(<span class="code-string">":"</span>==r)<span class="code-keyword">return</span> o.keyBuffer[<span class="code-number">0</span>]&amp;&amp;je.processCommand(e,o.keyBuffer[<span class="code-number">0</span>]),<span class="code-keyword">void</span>(n.isPlaying=!<span class="code-number">1</span>);<span class="code-keyword">var</span> i=o.keyBuffer,a=<span class="code-number">0</span>;n.isPlaying=!<span class="code-number">0</span>,n.replaySearchQueries=o.searchQueries.slice(<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>;s&lt;i.length;s++)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l,c,u=i[s];u;)<span class="code-keyword">if</span>(c=(l=<span class="code-regexp">/&lt;\w+-.+?&gt;|&lt;\w+&gt;|./</span>.exec(u))[<span class="code-number">0</span>],u=u.substring(l.index+c.length),x.Vim.handleKey(e,c,<span class="code-string">"macro"</span>),t.insertMode){<span class="code-keyword">var</span> h=o.insertModeChanges[a++].changes;T.macroModeState.lastInsertModeChanges.changes=h,Xe(e,h,<span class="code-number">1</span>),Fe(e)}n.isPlaying=!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qe</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=T.macroModeState,r=n.lastInsertModeChanges;<span class="code-keyword">if</span>(!n.isPlaying)<span class="code-keyword">for</span>(;t;){<span class="code-keyword">if</span>(r.expectCursorActivityForChange=!<span class="code-number">0</span>,<span class="code-string">"+input"</span>==t.origin||<span class="code-string">"paste"</span>==t.origin||<span class="code-keyword">void</span> <span class="code-number">0</span>===t.origin){<span class="code-keyword">var</span> o=t.text.join(<span class="code-string">"\n"</span>);r.maybeReset&amp;&amp;(r.changes=[],r.maybeReset=!<span class="code-number">1</span>),e.state.overwrite&amp;&amp;!<span class="code-regexp">/\n/</span>.test(o)?r.changes.push([o]):r.changes.push(o)}t=t.next}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.state.vim;<span class="code-keyword">if</span>(t.insertMode){<span class="code-keyword">var</span> n=T.macroModeState;<span class="code-keyword">if</span>(n.isPlaying)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> r=n.lastInsertModeChanges;r.expectCursorActivityForChange?r.expectCursorActivityForChange=!<span class="code-number">1</span>:r.maybeReset=!<span class="code-number">0</span>}<span class="code-keyword">else</span> e.curOp.isVimOp||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=e.getCursor(<span class="code-string">"anchor"</span>),r=e.getCursor(<span class="code-string">"head"</span>);t.visualMode&amp;&amp;!e.somethingSelected()?he(e,!<span class="code-number">1</span>):t.visualMode||t.insertMode||!e.somethingSelected()||(t.visualMode=!<span class="code-number">0</span>,t.visualLine=!<span class="code-number">1</span>,x.signal(e,<span class="code-string">"vim-mode-change"</span>,{<span class="code-attr">mode</span>:<span class="code-string">"visual"</span>}));<span class="code-keyword">if</span>(t.visualMode){<span class="code-keyword">var</span> o=Z(r,n)?<span class="code-number">0</span>:<span class="code-number">-1</span>,i=Z(r,n)?<span class="code-number">-1</span>:<span class="code-number">0</span>;r=Q(r,<span class="code-number">0</span>,o),n=Q(n,<span class="code-number">0</span>,i),t.sel={<span class="code-attr">anchor</span>:n,<span class="code-attr">head</span>:r},ke(e,t,<span class="code-string">"&lt;"</span>,ee(r,n)),ke(e,t,<span class="code-string">"&gt;"</span>,te(r,n))}<span class="code-keyword">else</span> t.insertMode||(t.lastHPos=e.getCursor().ch)}(e,t);t.visualMode&amp;&amp;Je(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Je</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.state.vim,n=$(e,X(t.sel.head)),r=Q(n,<span class="code-number">0</span>,<span class="code-number">1</span>);t.fakeCursor&amp;&amp;t.fakeCursor.clear(),t.fakeCursor=e.markText(n,r,{<span class="code-attr">className</span>:<span class="code-string">"cm-animate-fat-cursor"</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.keyName=e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ze</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=T.macroModeState.lastInsertModeChanges,n=x.keyName(e);n&amp;&amp;(<span class="code-number">-1</span>==n.indexOf(<span class="code-string">"Delete"</span>)&amp;&amp;<span class="code-number">-1</span>==n.indexOf(<span class="code-string">"Backspace"</span>)||x.lookupKey(n,<span class="code-string">"vim-insert"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.maybeReset&amp;&amp;(t.changes=[],t.maybeReset=!<span class="code-number">1</span>),t.changes.push(<span class="code-keyword">new</span> Qe(n)),!<span class="code-number">0</span>})))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ge</span>(<span class="code-params">e,t,n,r</span>)</span>{<span class="code-keyword">var</span> o=T.macroModeState;o.isPlaying=!<span class="code-number">0</span>;<span class="code-keyword">var</span> i=!!t.lastEditActionCommand,a=t.inputState;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params"></span>)</span>{i?j.processAction(e,t,t.lastEditActionCommand):j.evalInput(e,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">if</span>(o.lastInsertModeChanges.changes.length&gt;<span class="code-number">0</span>){n=t.lastEditActionCommand?n:<span class="code-number">1</span>;<span class="code-keyword">var</span> r=o.lastInsertModeChanges;Xe(e,r.changes,n)}}<span class="code-keyword">if</span>(t.inputState=t.lastEditInputState,i&amp;&amp;t.lastEditActionCommand.interlaceInsertRepeat)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;n;c++)s(),l(<span class="code-number">1</span>);<span class="code-keyword">else</span> r||s(),l(n);t.inputState=a,t.insertMode&amp;&amp;!r&amp;&amp;Fe(e),o.isPlaying=!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xe</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t?x.commands[t](e):t(e),!<span class="code-number">0</span>}<span class="code-keyword">var</span> o=e.getCursor(<span class="code-string">"head"</span>),i=T.macroModeState.lastInsertModeChanges.inVisualBlock;<span class="code-keyword">if</span>(i){<span class="code-keyword">var</span> a=e.state.vim.lastSelection,s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">line</span>:t.line-e.line,<span class="code-attr">ch</span>:t.line-e.line}}(a.anchor,a.head);se(e,o,s.line+<span class="code-number">1</span>),n=e.listSelections().length,e.setCursor(o)}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l=<span class="code-number">0</span>;l&lt;n;l++){i&amp;&amp;e.setCursor(Q(o,l,<span class="code-number">0</span>));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;t.length;c++){<span class="code-keyword">var</span> u=t[c];<span class="code-keyword">if</span>(u <span class="code-keyword">instanceof</span> Qe)x.lookupKey(u.keyName,<span class="code-string">"vim-insert"</span>,r);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> u){<span class="code-keyword">var</span> h=e.getCursor();e.replaceRange(u,h,h)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> f=e.getCursor(),p=Q(f,<span class="code-number">0</span>,u[<span class="code-number">0</span>].length);e.replaceRange(u[<span class="code-number">0</span>],f,p)}}}i&amp;&amp;e.setCursor(Q(o,<span class="code-number">0</span>,<span class="code-number">1</span>))}<span class="code-keyword">return</span> x.keyMap.vim={<span class="code-attr">attach</span>:t,<span class="code-attr">detach</span>:e,<span class="code-attr">call</span>:n},w(<span class="code-string">"insertModeEscKeysTimeout"</span>,<span class="code-number">200</span>,<span class="code-string">"number"</span>),x.keyMap[<span class="code-string">"vim-insert"</span>]={<span class="code-attr">fallthrough</span>:[<span class="code-string">"default"</span>],<span class="code-attr">attach</span>:t,<span class="code-attr">detach</span>:e,<span class="code-attr">call</span>:n},x.keyMap[<span class="code-string">"vim-replace"</span>]={<span class="code-attr">Backspace</span>:<span class="code-string">"goCharLeft"</span>,<span class="code-attr">fallthrough</span>:[<span class="code-string">"vim-insert"</span>],<span class="code-attr">attach</span>:t,<span class="code-attr">detach</span>:e,<span class="code-attr">call</span>:n},P(),N}();<span class="code-keyword">var</span> T=x;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">R</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!(e <span class="code-keyword">instanceof</span> t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Cannot call a class as a function"</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">O</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.length;n++){<span class="code-keyword">var</span> r=t[n];r.enumerable=r.enumerable||!<span class="code-number">1</span>,r.configurable=!<span class="code-number">0</span>,<span class="code-string">"value"</span><span class="code-keyword">in</span> r&amp;&amp;(r.writable=!<span class="code-number">0</span>),<span class="code-built_in">Object</span>.defineProperty(e,r.key,r)}}<span class="code-keyword">var</span> I=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,o=<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">2</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">2</span>]?<span class="code-built_in">arguments</span>[<span class="code-number">2</span>]:<span class="code-literal">null</span>;R(<span class="code-keyword">this</span>,e),<span class="code-keyword">this</span>.closeInput=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.removeInputListeners(),r.input=<span class="code-literal">null</span>,r.setSec(<span class="code-string">""</span>),r.editor&amp;&amp;r.editor.focus()},<span class="code-keyword">this</span>.clear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.setInnerHtml_(r.node,<span class="code-string">""</span>)},<span class="code-keyword">this</span>.inputKeyUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=r.input.options;t&amp;&amp;t.onKeyUp&amp;&amp;t.onKeyUp(e,e.target.value,r.closeInput)},<span class="code-keyword">this</span>.inputBlur=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.input.options.closeOnBlur&amp;&amp;r.closeInput()},<span class="code-keyword">this</span>.inputKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=r.input,n=t.options,o=t.callback;n&amp;&amp;n.onKeyDown&amp;&amp;n.onKeyDown(e,e.target.value,r.closeInput)||((<span class="code-number">27</span>===e.keyCode||n&amp;&amp;!<span class="code-number">1</span>!==n.closeOnEnter&amp;&amp;<span class="code-number">13</span>==e.keyCode)&amp;&amp;(r.input.node.blur(),e.stopPropagation(),r.closeInput()),<span class="code-number">13</span>===e.keyCode&amp;&amp;o&amp;&amp;(e.stopPropagation(),e.preventDefault(),o(e.target.value)))},<span class="code-keyword">this</span>.node=t,<span class="code-keyword">this</span>.modeInfoNode=<span class="code-built_in">document</span>.createElement(<span class="code-string">"span"</span>),<span class="code-keyword">this</span>.secInfoNode=<span class="code-built_in">document</span>.createElement(<span class="code-string">"span"</span>),<span class="code-keyword">this</span>.notifNode=<span class="code-built_in">document</span>.createElement(<span class="code-string">"span"</span>),<span class="code-keyword">this</span>.notifNode.className=<span class="code-string">"vim-notification"</span>,<span class="code-keyword">this</span>.keyInfoNode=<span class="code-built_in">document</span>.createElement(<span class="code-string">"span"</span>),<span class="code-keyword">this</span>.keyInfoNode.setAttribute(<span class="code-string">"style"</span>,<span class="code-string">"float: right"</span>),<span class="code-keyword">this</span>.node.appendChild(<span class="code-keyword">this</span>.modeInfoNode),<span class="code-keyword">this</span>.node.appendChild(<span class="code-keyword">this</span>.secInfoNode),<span class="code-keyword">this</span>.node.appendChild(<span class="code-keyword">this</span>.notifNode),<span class="code-keyword">this</span>.node.appendChild(<span class="code-keyword">this</span>.keyInfoNode),<span class="code-keyword">this</span>.toggleVisibility(!<span class="code-number">1</span>),<span class="code-keyword">this</span>.editor=n,<span class="code-keyword">this</span>.sanitizer=o}<span class="code-keyword">var</span> t,n,r;<span class="code-keyword">return</span> t=e,(n=[{<span class="code-attr">key</span>:<span class="code-string">"setMode"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"visual"</span>!==e.mode||<span class="code-string">"linewise"</span>!==e.subMode?<span class="code-keyword">this</span>.setText(<span class="code-string">"--"</span>.concat(e.mode.toUpperCase(),<span class="code-string">"--"</span>)):<span class="code-keyword">this</span>.setText(<span class="code-string">"--VISUAL LINE--"</span>)}},{<span class="code-attr">key</span>:<span class="code-string">"setKeyBuffer"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.keyInfoNode.textContent=e}},{<span class="code-attr">key</span>:<span class="code-string">"setSec"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.notifNode.textContent=<span class="code-string">""</span>,<span class="code-keyword">void</span> <span class="code-number">0</span>!==e){<span class="code-keyword">this</span>.setInnerHtml_(<span class="code-keyword">this</span>.secInfoNode,e);<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.secInfoNode.querySelector(<span class="code-string">"input"</span>);<span class="code-keyword">return</span> r&amp;&amp;(r.focus(),<span class="code-keyword">this</span>.input={<span class="code-attr">callback</span>:t,<span class="code-attr">options</span>:n,<span class="code-attr">node</span>:r},n&amp;&amp;(n.selectValueOnOpen&amp;&amp;r.select(),n.value&amp;&amp;(r.value=n.value)),<span class="code-keyword">this</span>.addInputListeners()),<span class="code-keyword">this</span>.closeInput}}},{<span class="code-attr">key</span>:<span class="code-string">"setText"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.modeInfoNode.textContent=e}},{<span class="code-attr">key</span>:<span class="code-string">"toggleVisibility"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.node.style.display=e?<span class="code-string">"block"</span>:<span class="code-string">"none"</span>,<span class="code-keyword">this</span>.input&amp;&amp;<span class="code-keyword">this</span>.removeInputListeners(),clearInterval(<span class="code-keyword">this</span>.notifTimeout)}},{<span class="code-attr">key</span>:<span class="code-string">"addInputListeners"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.input.node;e.addEventListener(<span class="code-string">"keyup"</span>,<span class="code-keyword">this</span>.inputKeyUp),e.addEventListener(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.inputKeyDown),e.addEventListener(<span class="code-string">"input"</span>,<span class="code-keyword">this</span>.inputKeyInput),e.addEventListener(<span class="code-string">"blur"</span>,<span class="code-keyword">this</span>.inputBlur)}},{<span class="code-attr">key</span>:<span class="code-string">"removeInputListeners"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.input&amp;&amp;<span class="code-keyword">this</span>.input.node){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.input.node;e.removeEventListener(<span class="code-string">"keyup"</span>,<span class="code-keyword">this</span>.inputKeyUp),e.removeEventListener(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.inputKeyDown),e.removeEventListener(<span class="code-string">"input"</span>,<span class="code-keyword">this</span>.inputKeyInput),e.removeEventListener(<span class="code-string">"blur"</span>,<span class="code-keyword">this</span>.inputBlur)}}},{<span class="code-attr">key</span>:<span class="code-string">"showNotification"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,n=<span class="code-built_in">document</span>.createElement(<span class="code-string">"span"</span>);<span class="code-keyword">this</span>.setInnerHtml_(n,e),<span class="code-keyword">this</span>.notifNode.textContent=n.textContent,<span class="code-keyword">this</span>.notifTimeout=setTimeout((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.notifNode.textContent=<span class="code-string">""</span>}),<span class="code-number">5e3</span>)}},{<span class="code-attr">key</span>:<span class="code-string">"setInnerHtml_"</span>,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.sanitizer){<span class="code-keyword">for</span>(;e.children.length;)e.removeChild(e.children[<span class="code-number">0</span>]);e.appendChild(<span class="code-keyword">this</span>.sanitizer(t))}<span class="code-keyword">else</span> e.innerHTML=t}}])&amp;&amp;O(t.prototype,n),r&amp;&amp;O(t,r),e}();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">B</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">1</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]?<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]:<span class="code-literal">null</span>,n=<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">2</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">2</span>]?<span class="code-built_in">arguments</span>[<span class="code-number">2</span>]:I,r=<span class="code-built_in">arguments</span>.length&gt;<span class="code-number">3</span>&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-built_in">arguments</span>[<span class="code-number">3</span>]?<span class="code-built_in">arguments</span>[<span class="code-number">3</span>]:<span class="code-literal">null</span>,o=<span class="code-keyword">new</span> T(e);<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> o.attach(),o;<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> n(t,e,r),a=<span class="code-string">""</span>;<span class="code-keyword">return</span> o.on(<span class="code-string">"vim-mode-change"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.setMode(e)})),o.on(<span class="code-string">"vim-keypress"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">":"</span>===e?a=<span class="code-string">""</span>:a+=e,i.setKeyBuffer(a)})),o.on(<span class="code-string">"vim-command-done"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a=<span class="code-string">""</span>,i.setKeyBuffer(a)})),o.on(<span class="code-string">"dispose"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.toggleVisibility(!<span class="code-number">1</span>),i.closeInput(),i.clear()})),i.toggleVisibility(!<span class="code-number">0</span>),o.setStatusBar(i),o.attach(),o}n.d(t,<span class="code-string">"initVimMode"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> B})),n.d(t,<span class="code-string">"VimMode"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> T})),n.d(t,<span class="code-string">"StatusBar"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> I}))}])}));</code></td></tr><tr><td class="css-a4x74f">\</td><style data-emotion-css="jhhjkz">.css-jhhjkz{padding-left:10px;color:rgba(27,31,35,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td class="css-jhhjkz">No newline at end of file</td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p><span>Build: <!-- -->a7ebffa</span></p><p><span> <!-- -->2021<!-- --> UNPKG</span></p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="3czw03">.css-3czw03{color:#aaa;display:inline-block;margin-left:1rem;}.css-3czw03:hover{color:white;}</style><a href="https://github.com/mjackson/unpkg" class="css-3czw03"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(t,A,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a};return w.apply(this,arguments)}function P(a,b){if(null==a)return{};var e={},c=Object.keys(a),d;for(d=0;d<c.length;d++){var h=c[d];0<=b.indexOf(h)||(e[h]=a[h])}return e}function Q(a,b){b||(b=a.slice(0));a.raw=b;return a}function R(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function D(a,b){return b={exports:{}},a(b,b.exports),b.exports}function J(a,b,e,c,d){for(var g in a)if(ua(a,g)){try{if("function"!==typeof a[g]){var r=Error((c||"React class")+": "+e+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[g]+"`.");r.name="Invariant Violation";throw r;}var k=a[g](b,g,c,e,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(q){k=q}!k||k instanceof Error||K((c||"React class")+": type specification of "+
e+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");if(k instanceof Error&&!(k.message in L)){L[k.message]=!0;var B=d?d():"";K("Failed "+e+" type: "+k.message+(null!=B?B:""))}}}function G(){return null}function S(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={border:"1px solid #dfe2e5",
borderRadius:3},b["@media (max-width: 700px)"]={borderRightWidth:0,borderLeftWidth:0},b),a)},e)}function T(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={padding:10,background:"#f6f8fa",color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},b["@media (max-width: 700px)"]={paddingRight:20,paddingLeft:20},b),a)},e)}function U(a){return a&&a.map(function(a,
c){return t.createElement(a.tag,z({key:c},a.attr),U(a.child))})}function E(a){return function(b){return t.createElement(va,z({attr:z({},a.attr)},b),U(a.child))}}function va(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var e=b.className;a.className&&(e=(e?e+" ":"")+a.className);var h=a.attr,r=a.title,k=["attr","title"],B={},q;for(q in a)Object.prototype.hasOwnProperty.call(a,q)&&0>k.indexOf(q)&&(B[q]=a[q]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var p=0;for(q=
Object.getOwnPropertySymbols(a);p<q.length;p++)0>k.indexOf(q[p])&&(B[q[p]]=a[q[p]])}return t.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,B,{className:e,style:z({color:a.color||b.color},b.style,a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),a.children)};return void 0!==V?t.createElement(V.Consumer,null,function(a){return b(a)}):b(W)}function F(a,b){var e=b.css;b=P(b,["css"]);return c.jsx(a,w({css:w({},
e,{verticalAlign:"text-bottom"})},b))}function wa(a){return F(X,a)}function xa(a){return F(Y,a)}function ya(a){return F(Z,a)}function za(a){return F(aa,a)}function Aa(a){return F(ba,a)}function ca(a){var b=a.path,e=a.details,g=Object.keys(e).reduce(function(a,b){var c=a.subdirs,g=a.files;b=e[b];"directory"===b.type?c.push(b):"file"===b.type&&g.push(b);return a},{subdirs:[],files:[]});a=g.subdirs;g=g.files;a.sort(da("path"));g.sort(da("path"));var d=[];"/"!==b&&d.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:M}),c.jsx("td",{css:y},c.jsx("a",{title:"Parent directory",href:"../",css:N},"..")),c.jsx("td",{css:y}),c.jsx("td",{css:O})));a.forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var e=a+"/";d.push(c.jsx("tr",{key:a},c.jsx("td",{css:M},c.jsx(ya,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:e,css:N},a)),c.jsx("td",{css:y},"-"),c.jsx("td",{css:O},"-")))});g.forEach(function(a){var e=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);d.push(c.jsx("tr",{key:a},c.jsx("td",
{css:M},"text/plain"===g||"text/markdown"===g?c.jsx(wa,null):c.jsx(xa,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:a,css:N},a)),c.jsx("td",{css:y},ea(e)),c.jsx("td",{css:O},g)))});var h=[];0<g.length&&h.push(g.length+" file"+(1===g.length?"":"s"));0<a.length&&h.push(a.length+" folder"+(1===a.length?"":"s"));return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,h.join(", "))),c.jsx("table",{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}},
"& tr:first-of-type td":{borderTop:0}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(H,null,"Icon")),c.jsx("th",null,c.jsx(H,null,"Name")),c.jsx("th",null,c.jsx(H,null,"Size")),c.jsx("th",null,c.jsx(H,null,"Content Type")))),c.jsx("tbody",null,d)))}function Ba(a){a=a.split("/");return a[a.length-1]}function Ca(a){var b=a.uri;return c.jsx("div",{css:{padding:20,textAlign:"center"}},c.jsx("img",{alt:Ba(a.path),src:b}))}function Da(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-
1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var e=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+e,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,e)),c.jsx("td",{id:"LC"+e,css:{paddingLeft:10,
paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},"No newline at end of file")))))}function Ea(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},
"No preview available."))}function fa(a){var b=a.packageName,e=a.packageVersion,g=a.path;a=a.details;var d=a.highlights,h=a.uri,r=a.language;return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,ea(a.size)),c.jsx("span",null,r),c.jsx("span",null,c.jsx("a",{href:"/"+b+"@"+e+g,css:{display:"inline-block",marginLeft:8,padding:"2px 8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,":hover":{backgroundColor:"#e6ebf1",
borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw"))),d?c.jsx(Da,{highlights:d}):h?c.jsx(Ca,{path:g,uri:h}):c.jsx(Ea,null))}function ha(){var a=Q(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
ha=function(){return a};return a}function ia(){var a=Q(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-wrap: break-word;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
ia=function(){return a};return a}function ja(a){var b=a.css;a=P(a,["css"]);return c.jsx("a",w({},a,{css:w({color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},b)}))}function Fa(){return c.jsx("header",{css:{marginTop:"2rem"}},c.jsx("h1",{css:{textAlign:"center",fontSize:"3rem",letterSpacing:"0.05em"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},"UNPKG")))}function Ga(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;a=a.filename;var d=[];if("/"===
a)d.push(b);else{var h="/browse/"+b+"@"+e;d.push(c.jsx(ja,{href:h+"/"},b));b=a.replace(/^\/+/,"").replace(/\/+$/,"").split("/");a=b.pop();b.forEach(function(a){h+="/"+a;d.push(c.jsx(ja,{href:h+"/"},a))});d.push(a)}return c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1,wordBreak:"break-all"}},c.jsx("nav",null,d.map(function(a,
b,e){return c.jsx(t.Fragment,{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===e.length-1?c.jsx("strong",null,a):a)}))),c.jsx(Ha,{packageVersion:e,availableVersions:g,onChange:function(a){window.location.href=window.location.href.replace("@"+e,"@"+a)}}))}function Ha(a){var b=a.onChange;return c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:a.packageVersion,
onChange:function(a){b&&b(a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},a.availableVersions.map(function(a){return c.jsx("option",{key:a,value:a},a)}))))}function Ia(a){var b=a.packageName,e=a.packageVersion;a=a.target;return"directory"===a.type?c.jsx(ca,{path:a.path,details:a.details}):
"file"===a.type?c.jsx(fa,{packageName:b,packageVersion:e,path:a.path,details:a.details}):null}function ka(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;g=void 0===g?[]:g;var d=a.filename;a=a.target;return c.jsx(t.Fragment,null,c.jsx(c.Global,{styles:Ja}),c.jsx(c.Global,{styles:Ka}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Fa,null)),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Ga,{packageName:b,
packageVersion:e,availableVersions:g,filename:d})),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},c.jsx(Ia,{packageName:b,packageVersion:e,target:a}))),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,c.jsx("span",null,"Build: ","a7ebffa")),
c.jsx("p",null,c.jsx("span",null,"\u00a9 ",(new Date).getFullYear()," UNPKG")),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"}}},c.jsx(za,null)),c.jsx("a",{href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"},marginLeft:"1rem"}},c.jsx(Aa,null))))))}var la="default"in t?t["default"]:t;A=A&&A.hasOwnProperty("default")?A["default"]:A;var La="undefined"!==
typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},m=D(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type,a){case l:case f:case r:case m:case k:case v:return a;default:switch(a=a&&a.$$typeof,a){case p:case n:case q:return a;default:return b}}case x:case u:case h:return b}}}function g(a){return c(a)===f}Object.defineProperty(b,"__esModule",{value:!0});var d=
(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,k=a?Symbol.for("react.strict_mode"):60108,m=a?Symbol.for("react.profiler"):60114,q=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.async_mode"):60111,f=a?Symbol.for("react.concurrent_mode"):60111,n=a?Symbol.for("react.forward_ref"):60112,v=a?Symbol.for("react.suspense"):60113,u=a?Symbol.for("react.memo"):
60115,x=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=l;b.ConcurrentMode=f;b.ContextConsumer=p;b.ContextProvider=q;b.Element=d;b.ForwardRef=n;b.Fragment=r;b.Lazy=x;b.Memo=u;b.Portal=h;b.Profiler=m;b.StrictMode=k;b.Suspense=v;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===r||a===f||a===m||a===k||a===v||"object"===typeof a&&null!==a&&(a.$$typeof===x||a.$$typeof===u||a.$$typeof===q||a.$$typeof===p||a.$$typeof===n)};b.isAsyncMode=function(a){return g(a)||
c(a)===l};b.isConcurrentMode=g;b.isContextConsumer=function(a){return c(a)===p};b.isContextProvider=function(a){return c(a)===q};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===d};b.isForwardRef=function(a){return c(a)===n};b.isFragment=function(a){return c(a)===r};b.isLazy=function(a){return c(a)===x};b.isMemo=function(a){return c(a)===u};b.isPortal=function(a){return c(a)===h};b.isProfiler=function(a){return c(a)===m};b.isStrictMode=function(a){return c(a)===k};b.isSuspense=
function(a){return c(a)===v}});R(m);var na=D(function(a,b){(function(){function a(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case h:switch(a=a.type,a){case f:case n:case k:case q:case m:case u:return a;default:switch(a=a&&a.$$typeof,a){case l:case v:case p:return a;default:return b}}case I:case x:case r:return b}}}function c(b){return a(b)===n}Object.defineProperty(b,"__esModule",{value:!0});var d="function"===typeof Symbol&&Symbol.for,h=d?Symbol.for("react.element"):60103,r=
d?Symbol.for("react.portal"):60106,k=d?Symbol.for("react.fragment"):60107,m=d?Symbol.for("react.strict_mode"):60108,q=d?Symbol.for("react.profiler"):60114,p=d?Symbol.for("react.provider"):60109,l=d?Symbol.for("react.context"):60110,f=d?Symbol.for("react.async_mode"):60111,n=d?Symbol.for("react.concurrent_mode"):60111,v=d?Symbol.for("react.forward_ref"):60112,u=d?Symbol.for("react.suspense"):60113,x=d?Symbol.for("react.memo"):60115,I=d?Symbol.for("react.lazy"):60116;d=function(){};var Ma=function(a){for(var b=
arguments.length,f=Array(1<b?b-1:0),c=1;c<b;c++)f[c-1]=arguments[c];var n=0;b="Warning: "+a.replace(/%s/g,function(){return f[n++]});"undefined"!==typeof console&&console.warn(b);try{throw Error(b);}catch(Xa){}},Na=d=function(a,b){if(void 0===b)throw Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!a){for(var f=arguments.length,c=Array(2<f?f-2:0),n=2;n<f;n++)c[n-2]=arguments[n];Ma.apply(void 0,[b].concat(c))}},ma=!1;b.typeOf=a;b.AsyncMode=f;b.ConcurrentMode=
n;b.ContextConsumer=l;b.ContextProvider=p;b.Element=h;b.ForwardRef=v;b.Fragment=k;b.Lazy=I;b.Memo=x;b.Portal=r;b.Profiler=q;b.StrictMode=m;b.Suspense=u;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===k||a===n||a===q||a===m||a===u||"object"===typeof a&&null!==a&&(a.$$typeof===I||a.$$typeof===x||a.$$typeof===p||a.$$typeof===l||a.$$typeof===v)};b.isAsyncMode=function(b){ma||(ma=!0,Na(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."));
return c(b)||a(b)===f};b.isConcurrentMode=c;b.isContextConsumer=function(b){return a(b)===l};b.isContextProvider=function(b){return a(b)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===h};b.isForwardRef=function(b){return a(b)===v};b.isFragment=function(b){return a(b)===k};b.isLazy=function(b){return a(b)===I};b.isMemo=function(b){return a(b)===x};b.isPortal=function(b){return a(b)===r};b.isProfiler=function(b){return a(b)===q};b.isStrictMode=function(b){return a(b)===
m};b.isSuspense=function(b){return a(b)===u}})()});R(na);var oa=D(function(a){a.exports=na}),pa=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Qa=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,d=1;d<arguments.length;d++){var h=Object(arguments[d]);for(var r in h)Oa.call(h,r)&&(c[r]=h[r]);if(pa){g=pa(h);for(var k=0;k<g.length;k++)Pa.call(h,g[k])&&(c[g[k]]=h[g[k]])}}return c},K=function(){},L={},ua=Function.call.bind(Object.prototype.hasOwnProperty);
K=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};J.resetWarningCache=function(){L={}};var Ra=Function.call.bind(Object.prototype.hasOwnProperty),C=function(){};C=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};var Sa=function(a,b){function c(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function g(a){this.message=a;this.stack=""}function d(a){function c(c,n,v,d,e,u,h){d=d||"<<anonymous>>";
u=u||v;if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==h){if(b)throw c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),c.name="Invariant Violation",c;"undefined"!==typeof console&&(h=d+":"+v,!f[h]&&3>l&&(C("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+d+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),
f[h]=!0,l++))}return null==n[v]?c?null===n[v]?new g("The "+e+" `"+u+"` is marked as required "+("in `"+d+"`, but its value is `null`.")):new g("The "+e+" `"+u+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:a(n,v,d,e,u)}var f={},l=0,d=c.bind(null,!1);d.isRequired=c.bind(null,!0);return d}function h(a){return d(function(b,c,f,d,l,e){b=b[c];return k(b)!==a?(b=m(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("`"+a+"`."))):null})}function r(b){switch(typeof b){case "number":case "string":case "undefined":return!0;
case "boolean":return!b;case "object":if(Array.isArray(b))return b.every(r);if(null===b||a(b))return!0;var c=b&&(p&&b[p]||b["@@iterator"]);var f="function"===typeof c?c:void 0;if(f)if(c=f.call(b),f!==b.entries)for(;!(b=c.next()).done;){if(!r(b.value))return!1}else for(;!(b=c.next()).done;){if((b=b.value)&&!r(b[1]))return!1}else return!1;return!0;default:return!1}}function k(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":"symbol"===b||a&&("Symbol"===a["@@toStringTag"]||
"function"===typeof Symbol&&a instanceof Symbol)?"symbol":b}function m(a){if("undefined"===typeof a||null===a)return""+a;var b=k(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function q(a){a=m(a);switch(a){case "array":case "object":return"an "+a;case "boolean":case "date":case "regexp":return"a "+a;default:return a}}var p="function"===typeof Symbol&&Symbol.iterator,l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),
string:h("string"),symbol:h("symbol"),any:d(G),arrayOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside arrayOf.");b=b[c];if(!Array.isArray(b))return b=k(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected an array."));for(c=0;c<b.length;c++){var n=a(b,c,f,d,l+"["+c+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(n instanceof Error)return n}return null})},
element:function(){return d(function(b,c,d,l,e){b=b[c];return a(b)?null:(b=k(b),new g("Invalid "+l+" `"+e+"` of type "+("`"+b+"` supplied to `"+d+"`, expected a single ReactElement.")))})}(),elementType:function(){return d(function(a,b,c,d,l){a=a[b];return oa.isValidElementType(a)?null:(a=k(a),new g("Invalid "+d+" `"+l+"` of type "+("`"+a+"` supplied to `"+c+"`, expected a single ReactElement type.")))})}(),instanceOf:function(a){return d(function(b,c,f,d,l){if(!(b[c]instanceof a)){var n=a.name||
"<<anonymous>>";b=b[c];b=b.constructor&&b.constructor.name?b.constructor.name:"<<anonymous>>";return new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("instance of `"+n+"`."))}return null})},node:function(){return d(function(a,b,c,d,l){return r(a[b])?null:new g("Invalid "+d+" `"+l+"` supplied to "+("`"+c+"`, expected a ReactNode."))})}(),objectOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside objectOf.");
b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+d+" `"+l+"` of type "+("`"+c+"` supplied to `"+f+"`, expected an object."));for(var n in b)if(Ra(b,n)&&(c=a(b,n,f,d,l+"."+n,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),c instanceof Error))return c;return null})},oneOf:function(a){return Array.isArray(a)?d(function(b,f,d,l,e){b=b[f];for(f=0;f<a.length;f++)if(c(b,a[f]))return null;f=JSON.stringify(a,function(a,b){return"symbol"===m(b)?String(b):b});return new g("Invalid "+l+" `"+e+"` of value `"+
String(b)+"` "+("supplied to `"+d+"`, expected one of "+f+"."))}):(1<arguments.length?C("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):C("Invalid argument supplied to oneOf, expected an array."),G)},oneOfType:function(a){if(!Array.isArray(a))return C("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var b=0;b<a.length;b++){var c=a[b];if("function"!==
typeof c)return C("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+q(c)+" at index "+b+"."),G}return d(function(b,c,f,d,l){for(var e=0;e<a.length;e++)if(null==(0,a[e])(b,c,f,d,l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null;return new g("Invalid "+d+" `"+l+"` supplied to "+("`"+f+"`."))})},shape:function(a){return d(function(b,c,d,l,f){b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+l+" `"+f+"` of type `"+c+"` "+("supplied to `"+d+"`, expected `object`."));
for(var e in a)if(c=a[e])if(c=c(b,e,d,l,f+"."+e,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return c;return null})},exact:function(a){return d(function(b,c,d,l,f){var e=b[c],n=k(e);if("object"!==n)return new g("Invalid "+l+" `"+f+"` of type `"+n+"` "+("supplied to `"+d+"`, expected `object`."));n=Qa({},b[c],a);for(var h in n){n=a[h];if(!n)return new g("Invalid "+l+" `"+f+"` key `"+h+"` supplied to `"+d+"`.\nBad object: "+JSON.stringify(b[c],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(a),
null,"  "));if(n=n(e,h,d,l,f+"."+h,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return n}return null})}};g.prototype=Error.prototype;l.checkPropTypes=J;l.resetWarningCache=J.resetWarningCache;return l.PropTypes=l};m=D(function(a){a.exports=Sa(oa.isElement,!0)});var Ta=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},Ua={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",
padding:0,overflow:"hidden",position:"absolute"},H=function(a){return la.createElement("div",Ta({style:Ua},a))},qa=D(function(a){(function(b,c){a.exports=c()})(La,function(){function a(a){if(!a)return!0;if(!d(a)||0!==a.length)for(var b in a)if(q.call(a,b))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===t.call(a)}function g(a){return"string"===typeof a||"[object String]"===t.call(a)}function d(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===
t.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function m(b,d,e,k){c(d)&&(d=[d]);if(a(d))return b;if(g(d))return m(b,d.split("."),e,k);var f=h(d[0]);if(1===d.length)return d=b[f],void 0!==d&&k||(b[f]=e),d;void 0===b[f]&&(c(f)?b[f]=[]:b[f]={});return m(b[f],d.slice(1),e,k)}function k(b,f){c(f)&&(f=[f]);if(!a(b)){if(a(f))return b;if(g(f))return k(b,f.split("."));var e=h(f[0]),l=b[e];if(1===f.length)void 0!==l&&(d(b)?b.splice(e,1):delete b[e]);else if(void 0!==b[e])return k(b[e],
f.slice(1));return b}}var t=Object.prototype.toString,q=Object.prototype.hasOwnProperty,p={ensureExists:function(a,b,c){return m(a,b,c,!0)},set:function(a,b,c,d){return m(a,b,c,d)},insert:function(a,b,c,e){var f=p.get(a,b);e=~~e;d(f)||(f=[],p.set(a,b,f));f.splice(e,0,c)},empty:function(b,f){if(a(f))return b;if(!a(b)){var e,h;if(!(e=p.get(b,f)))return b;if(g(e))return p.set(b,f,"");if("boolean"===typeof e||"[object Boolean]"===t.call(e))return p.set(b,f,!1);if(c(e))return p.set(b,f,0);if(d(e))e.length=
0;else if("object"===typeof e&&"[object Object]"===t.call(e))for(h in e)q.call(e,h)&&delete e[h];else return p.set(b,f,null)}},push:function(a,b){var c=p.get(a,b);d(c)||(c=[],p.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=p.get(a,b[e])))return d;return c},get:function(b,d,e){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return e;if(g(d))return p.get(b,d.split("."),e);var f=h(d[0]);return 1===d.length?void 0===
b[f]?e:b[f]:p.get(b[f],d.slice(1),e)},del:function(a,b){return k(a,b)}};return p})});var ra=function(a){return function(b){return typeof b===a}};var Va=function(a,b){var c=1,g=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,e){var d;b=g(a,qa.get(b,a));e=g(a,qa.get(e,a));b<e&&(d=-1);b>e&&(d=1);b===e&&(d=0);return d*c}};var da=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ra("string")),c=a.filter(ra("function"))[0];return function(a,d){for(var e=b.length,
g=0,k=0;0===g&&k<e;)g=Va(b[k],c)(a,d),k++;return g}};let sa="B kB MB GB TB PB EB ZB YB".split(" "),ta=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var ea=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let g=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=ta(a,b.locale),g+a+" B";c=Math.min(Math.floor(Math.log10(a)/3),sa.length-
1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=ta(a,b.locale);return g+a+" "+sa[c]},W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=t.createContext&&t.createContext(W),z=function(){z=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return z.apply(this,arguments)},Y=function(a){return E({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z"}}]})(a)};Y.displayName="GoFileCode";var Z=function(a){return E({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};Z.displayName="GoFileDirectory";var X=function(a){return E({tag:"svg",
attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};X.displayName="GoFile";var ba=function(a){return E({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
ba.displayName="FaGithub";var aa=function(a){return E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
aa.displayName="FaTwitter";var N={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},y={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},M=w({},y,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),O=w({},y,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}});ca.propTypes={path:m.string.isRequired,details:m.objectOf(m.shape({path:m.string.isRequired,type:m.oneOf(["directory",
"file"]).isRequired,contentType:m.string,integrity:m.string,size:m.number})).isRequired};fa.propTypes={path:m.string.isRequired,details:m.shape({contentType:m.string.isRequired,highlights:m.arrayOf(m.string),uri:m.string,integrity:m.string.isRequired,language:m.string.isRequired,size:m.number.isRequired}).isRequired};var Ja=c.css(ia(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),Ka=c.css(ha()),Wa=m.shape({path:m.string.isRequired,type:m.oneOf(["directory","file"]).isRequired,details:m.object.isRequired});ka.propTypes={packageName:m.string.isRequired,packageVersion:m.string.isRequired,availableVersions:m.arrayOf(m.string),filename:m.string.isRequired,target:Wa.isRequired};A.hydrate(la.createElement(ka,window.__DATA__||
{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>