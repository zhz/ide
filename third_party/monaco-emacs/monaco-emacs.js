/*!
 * monaco-emacs
 * Version - 0.2.2
 * Author - Brijesh Bittu <brijesh@bitwiser.in> (http://bitwiser.in/)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("monaco-editor")):"function"==typeof define&&define.amd?define(["vs/editor/editor.main"],e):"object"==typeof exports?exports.MonacoEmacs=e(require("monaco-editor")):t.MonacoEmacs=e(t.monaco)}(self,function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);e.prefixPreservingKeys={"M-g":!0,"C-x":!0,"C-q":!0,"C-u":!0};var o=new i.SetMark,r=new i.UndoAction,s=new i.MoveCursorDown,u=new i.MoveCursorUp,a=new i.MoveCursorRight,c=new i.MoveCursorLeft;e.COMMANDS={"M-/":{description:"",action:"editor.action.triggerSuggest"},"C-'":{description:"",action:"editor.action.triggerSuggest"},"M-;":{description:"",action:"editor.action.commentLine"},"C-t":{description:"",action:"editor.action.transpose"},"C-x C-p":{description:"",action:"selectAll"},Tab:{description:"",action:"editor.action.formatDocument"},"C-Backspace":{description:"",action:"deleteWordLeft"},"C-d":{description:"",action:"deleteRight"},"M-Backspace":{description:"",action:"deleteWordLeft"},"M-Delete":{description:"",action:"deleteWordLeft"},"C-x C-u":{description:"",action:"editor.action.transformToUppercase"},"C-x C-l":{description:"",action:"editor.action.transformToLowercase"},"C-v":{description:"",action:"cursorPageDown"},PageDown:{description:"",action:"cursorPageDown"},"M-v":{description:"",action:"cursorPageUp"},PageUp:{description:"",action:"cursorPageUp"},"M-g n":{description:"",action:"editor.action.marker.next"},"M-g p":{description:"",action:"editor.action.marker.prev"},"M-C-n":{description:"",action:"editor.action.addSelectionToNextFindMatch"},"C-h":{description:"",action:"deleteLeft"},"M-d":{description:"",action:"deleteWordRight"},"S-C-":{description:"",action:"editor.action.triggerParameterHints"},"C-SPC":o,"S-C-2":o,"C-/":r,"S-C--":r,"C-z":r,"C-x u":r,"C-n":s,"C-p":u,"C-f":a,"C-b":c,"S-C-Backspace":new i.DeleteLines,"M-f":new i.MoveCursorWordRight,"M-b":new i.MoveCursorWordLeft,"C-k":new i.KillLines,"C-m":new i.InsertLineAfter,"C-w":new i.KillSelection,"C-o":new i.InsertLineBelow,"C-g":new i.KeyBoardQuit,"C-e":new i.MoveCursorToLineEnd,"C-a":new i.MoveCursorToLineStart,"C-y":new i.Yank,"M-w":new i.YankSelectionToRing,"M-y":new i.YankRotate,"C-l":new i.RevealToCenterAction,"C-q Tab":new i.InsertTabs,"M-r":new i.RotateCursorOnScreen,"M-g g":new i.GotoLine,"M-g M-g":new i.GotoLine,"C-x C-x":new i.InvertSelection,"S-M-.":new i.MoveCursorBottom,"S-M-,":new i.MoveCursorTop,"C-s":new i.Search,"C-r":new i.Search,"S-M-5":new i.SearchReplace},e.executeCommand=function(t,e,n,o){var r=t.getEditor(),s=parseInt(n)||1;if(e.run)e.run(r,t,s,o);else if("string"==typeof e.action)for(var u=0;u<s;u++)r.trigger(i.SOURCE,e.action,null);else if(Array.isArray(e.action))for(u=0;u<s;u++)e.action.forEach(function(t){r.trigger(i.SOURCE,t,null)})},e.registerGlobalCommand=function(t,n){e.COMMANDS[t]=n},e.unregisterKey=function(t){e.COMMANDS[t]&&delete e.COMMANDS[t]},e.getAllMappings=function(){var t={};return Object.keys(e.COMMANDS).forEach(function(n){t[n]=e.COMMANDS[n].description}),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(6),r=n(7),s=n(1),u=n(8),a=n(9),c=n(10),l=i.editor,f=l.TextEditorCursorBlinkingStyle,p=l.TextEditorCursorStyle,d=function(){function t(t){this._disposables=[],this._inSelectionMode=!1,this._changeDisposable=null,this._state=new c.State,this._onDidMarkChange=new u.Emitter,this.onDidMarkChange=this._onDidMarkChange.event,this._onDidChangeKey=new u.Emitter,this.onDidChangeKey=this._onDidChangeKey.event,this._editor=t;var e=h(t);this._intialCursorType=e.cursorStyle,this._intialCursorBlinking=e.cursorBlinking,this._basicInputWidget=new a.BasicInputWidget}return t.prototype.start=function(){this._disposables.length||(this.addListeners(),this._editor.updateOptions({cursorStyle:r(p[p.Block]),cursorBlinking:r(f[f.Blink])}),this._editor.addOverlayWidget(this._basicInputWidget))},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.getEditor=function(){return this._editor},t.prototype.addListeners=function(){this._disposables.push(this._editor.onKeyDown(this.onKeyDown.bind(this))),this._throttledScroll=o(this.onEditorScroll.bind(this),500),this._disposables.push(this._editor.onDidScrollChange(this._throttledScroll))},t.prototype.cancelKey=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.onKeyDown=function(t){if(!t.browserEvent.defaultPrevented){var e=u.monacoToEmacsKey(t);if(e){if(e=this._state.updateAndGetKey(e),this._onDidChangeKey.fire(this._state.getReadableState()),e===c.EAT_UP_KEY)return this._onDidChangeKey.fire(this._state.getReadableState()),void this.cancelKey(t);var n=s.COMMANDS[e];if(!n)return this._onDidChangeKey.fire(this._state.getReadableState()),void this._state.setLastCommandKey(e);this.cancelKey(t);var i=this._state.isLastCommandKey(e);s.executeCommand(this,n,this._state.getInputBuffer(),i),this._state.setLastCommandKey(e),this._state.updateStateOnExecution()}}},t.prototype.onEditorScroll=function(){var t=this._editor.getLayoutInfo().height,e=this._editor.getScrolledVisiblePosition(this._editor.getPosition());if(!(e.top>=0&&e.top<=t)){var n=this._editor.getVisibleRanges();if(n.length){var o,r=this._editor.getSelection();e.top<0?o=new i.Position(n[0].getStartPosition().lineNumber,1):e.top>t&&(o=new i.Position(n[n.length-1].getEndPosition().lineNumber,1)),this._inSelectionMode?this._editor.setSelection(i.Selection.fromPositions(r.getStartPosition(),o)):this._editor.setPosition(o)}}},t.prototype.onContentChange=function(){this.selectionMode=!1},t.prototype.clearState=function(){this._state.updateStateOnExecution()},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._inSelectionMode},set:function(t){t!==this._inSelectionMode&&(this._inSelectionMode=t,t?this._changeDisposable=this._editor.onDidChangeModelContent(this.onContentChange.bind(this)):this._changeDisposable&&(this._changeDisposable.dispose(),this._changeDisposable=null),this._onDidMarkChange.fire(t))},enumerable:!0,configurable:!0}),t.prototype.getCursorAnchor=function(){var t=this._editor.getSelection();return t.getDirection()===i.SelectionDirection.LTR?t.getEndPosition():t.getStartPosition()},t.prototype.getBasicInput=function(t){return this._basicInputWidget.getInput(t)},t.prototype.dispose=function(){this._disposables.forEach(function(t){return t.dispose()}),this._disposables=void 0,this._changeDisposable&&(this._changeDisposable.dispose(),this._changeDisposable=null),this._editor.updateOptions({cursorStyle:this._intialCursorType,cursorBlinking:this._intialCursorBlinking}),this._editor.removeOverlayWidget(this._basicInputWidget),this._basicInputWidget.dispose(),this._throttledScroll.cancel(),this._state=null},t}();function h(t){if("function"==typeof t.getConfiguration){var e=t.getConfiguration(),n=e.viewInfo;return{seedSearchStringFromSelection:e.contribInfo.find.seedSearchStringFromSelection,cursorStyle:p[n.cursorStyle].toLowerCase(),cursorBlinking:f[n.cursorBlinking].toLowerCase()}}var o=t.getOption(i.editor.EditorOption.find),s=t.getOption(i.editor.EditorOption.cursorStyle),u=t.getOption(i.editor.EditorOption.cursorBlinking);return{seedSearchStringFromSelection:o.seedSearchStringFromSelection,cursorStyle:r(p[s]),cursorBlinking:r(f[u])}}e.EmacsExtension=d,e.getConfiguration=h},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(2);e.SOURCE="extension.emacs";var s=function(){return function(){this.description=""}}();e.BaseAction=s;var u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,o){var r=t.getSelections();r.length&&r.forEach(function(i){var o=t.getModel().getValueInRange(i);n.state.addToRing(o),t.executeEdits(e.SOURCE,[{range:i,text:""}])})},n}(s);e.KillSelection=u;var a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,r){n.selectionMode=!1;var s,u=t.getModel(),a=n.getCursorAnchor();if(1===i){var c=u.getLineLength(a.lineNumber),l=a.column===c+1;if(!c||l)return r?n.state.growRingTop(u.getEOL()):n.state.addToRing(u.getEOL()),void t.trigger(e.SOURCE,"deleteAllRight",null);s=new o.Position(a.lineNumber,u.getLineLength(a.lineNumber)+1)}else{var f=u.getLineCount(),p=a.lineNumber+i>f?f:a.lineNumber+i;s=new o.Position(p,u.getLineLength(p)+1)}var d=o.Range.fromPositions(a,s);r?n.state.growRingTop(u.getValueInRange(d)):n.state.addToRing(u.getValueInRange(d)),t.executeEdits(e.SOURCE,[{range:d,text:""}]),t.setSelection(o.Selection.fromPositions(a,a))},n}(s);e.KillLines=a;var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,o){var r=t.getPosition();t.trigger(e.SOURCE,"editor.action.insertLineAfter",null),t.setPosition(r)},n}(s);e.InsertLineBelow=c;var l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,r){for(var s="",u=0;u<i;u++)s+=t.getModel().getEOL();n.selectionMode=!1;var a=n.getCursorAnchor();t.executeEdits(e.SOURCE,[{range:o.Range.fromPositions(a),text:s,forceMoveMarkers:!0}])},n}(s);e.InsertLineAfter=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.run=function(t,e,n,i){e.selectionMode;var r=t.getSelection(),s=r.isEmpty();s||(r.getDirection()===o.SelectionDirection.LTR?t.setSelection(o.Selection.fromPositions(r.getEndPosition(),r.getEndPosition())):t.setSelection(o.Selection.fromPositions(r.getStartPosition(),r.getStartPosition())));s&&e.selectionMode?e.selectionMode=!1:e.selectionMode=!0},e}(s);e.SetMark=f;var p=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.unit="char",e}return i(n,t),n.prototype.run=function(t,n,i,o){!function(t,n,i,o,r){void 0===r&&(r=1);for(var s="cursor"+("word"===o?"Word":"")+i+(n?"Select":""),u=0;u<r;u++)t.trigger(e.SOURCE,s,null)}(t,n.selectionMode,this.direction,this.unit,i)},n}(s),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Up",e}return i(e,t),e}(p);e.MoveCursorUp=d;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Down",e}return i(e,t),e}(p);e.MoveCursorDown=h;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Left",e}return i(e,t),e}(p);e.MoveCursorLeft=g;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Right",e}return i(e,t),e}(p);e.MoveCursorRight=v;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="End",e}return i(e,t),e}(p);e.MoveCursorToLineEnd=y;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Home",e}return i(e,t),e}(p);e.MoveCursorToLineStart=_;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unit="word",e}return i(e,t),e}(v);e.MoveCursorWordRight=m;var C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unit="word",e}return i(e,t),e}(g);e.MoveCursorWordLeft=C;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Bottom",e}return i(e,t),e}(p);e.MoveCursorBottom=S;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Top",e}return i(e,t),e}(p);e.MoveCursorTop=b;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.run=function(t,e,n,i){e.selectionMode=!1,e.clearState(),t.setPosition(t.getPosition())},e}(s);e.KeyBoardQuit=x;var M=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,o){for(var r=0;r<i;r++)t.trigger(e.SOURCE,this.action,null)},n}(s),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.action="undo",e}return i(e,t),e}(M);e.UndoAction=E;var P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.action="redo",e}return i(e,t),e}(M);e.RedoAction=P;var R=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,r){var s=n.state.getFromRing(i);if(s){var u=t.getPosition();t.executeEdits(e.SOURCE,[{range:o.Range.fromPositions(u,u),text:s,forceMoveMarkers:!0}])}},n}(s);e.Yank=R;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.run=function(t,e,n,i){var r=t.getSelection();if(!r.isEmpty()){e.state.addToRing(t.getModel().getValueInRange(r)),e.selectionMode=!1;var s=e.getCursorAnchor();t.setSelection(o.Selection.fromPositions(s,s))}},e}(s);e.YankSelectionToRing=w;var O=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,r){var s=n.state.popFromRing();if(s){var u=n.getCursorAnchor();t.executeEdits(e.SOURCE,[{range:o.Range.fromPositions(u),text:s,forceMoveMarkers:!0}])}},n}(s);e.YankRotate=O;var L=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,o){var r=t.getSelection();"up"===this.revealFunction?t.trigger(e.SOURCE,"scrollPageUp",null):t[this.revealFunction](r)},n}(s);e.RevealEditorAction=L;var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revealFunction="revealRangeAtTop",e}return i(e,t),e}(L);e.RevealToTopAction=A;var K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revealFunction="revealRangeInCenter",e}return i(e,t),e}(L);e.RevealToCenterAction=K;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revealFunction="up",e}return i(e,t),e}(L);e.RevealToBottomAction=D;var T=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,o){for(var r=t.getModel().getOptions(),s=r.tabSize,u=r.insertSpaces,a="",c=0;c<i;c++){for(var l="",f=0;f<s;f++)l+=" ";a+=u?l:"\t"}t.executeEdits(e.SOURCE,[{range:t.getSelection(),text:a,forceMoveMarkers:!0}])},n}(s);e.InsertTabs=T;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.run=function(t,e,n,i){var r=t.getVisibleRanges();if(r.length){for(var s=[],u=0;u<r.length;u++)for(var a=r[u],c=a.startLineNumber;c<=a.endLineNumber;c++)s.push(c);var l,f=t.getPosition(),p=Math.ceil(s.length/2);l=f.lineNumber===s[p]?new o.Position(s[0],1):f.lineNumber===s[0]?new o.Position(s[s.length-1],1):new o.Position(s[p],1),t.setPosition(l)}},e}(s);e.RotateCursorOnScreen=k;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.run=function(t,e,n,i){e.getBasicInput("Goto Line: ").then(function(n){var i=parseInt(n)||0,r=t.getModel().getLineCount();t.focus(),i?i>r&&(i=r):i=1;var s,u=new o.Position(i,1);if(e.selectionMode){var a=t.getSelection();s=a.getDirection()===o.SelectionDirection.LTR?o.Selection.fromPositions(a.getStartPosition(),u):o.Selection.fromPositions(a.getEndPosition(),u)}else s=o.Selection.fromPositions(u);t.setSelection(s),t.revealRangeInCenter(s)}).catch(function(){t.focus()})},e}(s);e.GotoLine=j;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.run=function(t,e,n,i){var r,s=t.getSelection();s.isEmpty()||(r=s.getDirection()===o.SelectionDirection.LTR?o.Selection.fromPositions(s.getEndPosition(),s.getStartPosition()):o.Selection.fromPositions(s.getStartPosition(),s.getEndPosition()),t.setSelection(r))},e}(s);e.InvertSelection=I;var B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showReplace=!1,e}return i(e,t),e.prototype.run=function(t,e,n,i){var o=t.getContribution("editor.contrib.findController");o&&o.start({forceRevealReplace:this.showReplace,seedSearchStringFromSelection:r.getConfiguration(t).seedSearchStringFromSelection,shouldFocus:1})},e}(s);e.Search=B;var U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showReplace=!0,e}return i(e,t),e}(B);e.SearchReplace=U;var N=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.run=function(t,n,i,o){n.selectionMode=!1;for(var r=0;r<i;r++)t.trigger(e.SOURCE,"editor.action.deleteLines",null)},n}(s);e.DeleteLines=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.EmacsExtension=i.EmacsExtension;var o=n(1);e.registerGlobalCommand=o.registerGlobalCommand,e.getAllMappings=o.getAllMappings,e.unregisterKey=o.unregisterKey;var r=n(4);e.Actions=r,e.default=i.EmacsExtension},function(t,e,n){(function(e){var n="Expected a function",i=NaN,o="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),d=Object.prototype.toString,h=Math.max,g=Math.min,v=function(){return p.Date.now()};function y(t,e,i){var o,r,s,u,a,c,l=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new TypeError(n);function y(e){var n=o,i=r;return o=r=void 0,l=e,u=t.apply(i,n)}function C(t){var n=t-c;return void 0===c||n>=e||n<0||p&&t-l>=s}function S(){var t=v();if(C(t))return b(t);a=setTimeout(S,function(t){var n=e-(t-c);return p?g(n,s-(t-l)):n}(t))}function b(t){return a=void 0,d&&o?y(t):(o=r=void 0,u)}function x(){var t=v(),n=C(t);if(o=arguments,r=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(S,e),f?y(t):u}(c);if(p)return a=setTimeout(S,e),y(c)}return void 0===a&&(a=setTimeout(S,e)),u}return e=m(e)||0,_(i)&&(f=!!i.leading,s=(p="maxWait"in i)?h(m(i.maxWait)||0,e):s,d="trailing"in i?!!i.trailing:d),x.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=c=r=a=void 0},x.flush=function(){return void 0===a?u:b(v())},x}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==o}(t))return i;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=u.test(t);return n||a.test(t)?c(t.slice(2),n?2:8):s.test(t)?i:+t}t.exports=function(t,e,i){var o=!0,r=!0;if("function"!=typeof t)throw new TypeError(n);return _(i)&&(o="leading"in i?!!i.leading:o,r="trailing"in i?!!i.trailing:r),y(t,e,{leading:o,maxWait:e,trailing:r})}}).call(this,n(3))},function(t,e,n){(function(e){var n=1/0,i="[object Symbol]",o=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="["+s+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",c="\\d+",l="[\\u2700-\\u27bf]",f="[a-z\\xdf-\\xf6\\xf8-\\xff]",p="[^\\ud800-\\udfff"+s+c+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",g="[A-Z\\xc0-\\xd6\\xd8-\\xde]",v="(?:"+f+"|"+p+")",y="(?:"+g+"|"+p+")",_="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",m="[\\ufe0e\\ufe0f]?"+_+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",d,h].join("|")+")[\\ufe0e\\ufe0f]?"+_+")*"),C="(?:"+[l,d,h].join("|")+")"+m,S=RegExp("['’]","g"),b=RegExp(a,"g"),x=RegExp([g+"?"+f+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[u,g,"$"].join("|")+")",y+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[u,g+v,"$"].join("|")+")",g+"?"+v+"+(?:['’](?:d|ll|m|re|s|t|ve))?",g+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",c,C].join("|"),"g"),M=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,E="object"==typeof e&&e&&e.Object===Object&&e,P="object"==typeof self&&self&&self.Object===Object&&self,R=E||P||Function("return this")();var w=function(t){return function(e){return null==t?void 0:t[e]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"});var O=Object.prototype.toString,L=R.Symbol,A=L?L.prototype:void 0,K=A?A.toString:void 0;function D(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&O.call(t)==i}(t))return K?K.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}function T(t){return null==t?"":D(t)}var k=function(t){return function(e){return function(t,e,n,i){var o=-1,r=t?t.length:0;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}(function(t,e,n){return t=T(t),void 0===(e=n?void 0:e)?function(t){return M.test(t)}(t)?function(t){return t.match(x)||[]}(t):function(t){return t.match(o)||[]}(t):t.match(e)||[]}(function(t){return(t=T(t))&&t.replace(r,w).replace(b,"")}(e).replace(S,"")),t,"")}}(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});t.exports=k}).call(this,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.modifierKeys={Alt:"M",Control:"C",Ctrl:"C",Meta:"CMD",Shift:"S"};var o={Enter:"Return",Space:"SPC",BACKSLASH:"\\",SLASH:"/",BACKTICK:"`",CLOSE_SQUARE_BRACKET:"]",OPEN_SQUARE_BRACKET:"[",COMMA:",",DOT:".",EQUAL:"=",MINUS:"-",QUOTE:"'",SEMICOLON:";"};e.monacoToEmacsKey=function(t){var n=i.KeyCode[t.keyCode];if(e.modifierKeys[n])return"";var r=0===n.indexOf("KEY_")||0===n.indexOf("NUMPAD_")?n[n.length-1]:n;return n.indexOf("Arrow")===n.length-"Arrow".length?r=n.substr(0,n.length-5):0===n.indexOf("US_")?r=o[n.substr(3)]:o[n]&&(r=o[r]),1===r.length&&(r=r.toLowerCase()),t.altKey&&(r=e.modifierKeys.Alt+"-"+r),t.ctrlKey&&(r=e.modifierKeys.Ctrl+"-"+r),t.metaKey&&(r=e.modifierKeys.Meta+"-"+r),t.shiftKey&&(r=e.modifierKeys.Shift+"-"+r),r},function(t){var e={dispose:function(){}};t.None=function(){return e}}(e.Event||(e.Event={}));var r=function(){function t(){this._listeners=[]}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(e){return t._listeners.push(e),{dispose:function(){if(!t._disposed){var n=t._listeners.indexOf(e);n<0||t._listeners.splice(n,1)}}}}),this._event},enumerable:!0,configurable:!0}),t.prototype.fire=function(t){this._listeners.length&&this._listeners.forEach(function(e){return e(t)})},t.prototype.dispose=function(){this._disposed||(this._listeners=void 0,this._disposed=!0)},t}();e.Emitter=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o="ext-emacs-basic-input";var r=function(){function t(){var t=this;this._pendingPromise=null,this.onKeyDown=function(e){(e.altKey||e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopPropagation()),13===e.which?t._pendingPromise&&(e.preventDefault(),t._pendingPromise.resolve(e.target.value),t._pendingPromise=null):27===e.which&&t._pendingPromise&&(t._pendingPromise.reject(),t._pendingPromise=null)},this.onBlur=function(){t._pendingPromise&&(t._pendingPromise.reject(),t._pendingPromise=null)},this._dom=document.createElement("div"),this._messageDom=document.createElement("div");var e=document.createElement("div");this._dom.setAttribute("class",o),this._dom.setAttribute("aria-hidden","true"),this._input=document.createElement("input"),this._dom.appendChild(this._messageDom),e.appendChild(this._input),this._dom.appendChild(e),this.addListeners(),this._style=document.createElement("style"),this._style.type="text/css",this._style.textContent="\n  ."+o+" {\n    color: #d4d4d4;\n    transition: top 200ms linear;\n    visibility: hidden;\n    width: 200px;\n    display: flex;\n    align-items: center;\n    padding: 5px;\n  }\n\n  ."+o+"."+o+"-visible {\n    visibility: visible;\n  }\n\n  ."+o+" input {\n    color: rgb(97, 97, 97);\n    background-color: transparent;\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    line-height: inherit;\n    border: none;\n    font-family: inherit;\n    font-size: inherit;\n    resize: none;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    margin-left: 5px;\n    max-width: 50px;\n  }\n\n  ."+o+" input:focus {\n    outline: none;\n  }\n\n  .vs ."+o+" {\n    color: rgb(97, 97, 97);\n    background-color: #efeff2;\n    box-shadow: 0 2px 8px #a8a8a8;\n  }\n\n  .vs-dark ."+o+" {\n    background-color: #2d2d30;\n    box-shadow: 0 2px 8px #000000;\n  }\n\n  .vs-dark ."+o+" input {\n    color: rgb(204, 204, 204);\n  }\n\n  .hc-black ."+o+" {\n    border: 2px solid #6fc3df;\n    background-color: #0c141f;\n    color: #ffffff;\n  }\n\n  .hc-black ."+o+" input {\n    color: #ffffff;\n  }\n",(document.head||document.body).appendChild(this._style)}return t.prototype.getDomNode=function(){return this._dom},t.prototype.getId=function(){return"extension.emacs.basicinput"},t.prototype.getPosition=function(){return{preference:i.editor.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}},t.prototype.addListeners=function(){this._input.addEventListener("keydown",this.onKeyDown),this._input.addEventListener("blur",this.onBlur)},t.prototype.showWidgetAndFocus=function(t){this._dom.classList.add(o+"-visible"),this._dom.setAttribute("aria-hidden","false"),this._messageDom.textContent=t,this._input.focus()},t.prototype.cleanup=function(){this._dom.classList.remove(o+"-visible"),this._dom.setAttribute("aria-hidden","true"),this._messageDom.textContent="",this._input.placeholder="",this._input.value=""},t.prototype.getInput=function(t){var e=this;return this._pendingPromise&&(this._pendingPromise.reject(),this._pendingPromise=null),new Promise(function(n,i){e._pendingPromise={resolve:function(t){n(t),e.cleanup()},reject:function(){i(),e.cleanup()}},e.showWidgetAndFocus(t)})},t.prototype.dispose=function(){this.cleanup(),this._input.removeEventListener("keydown",this.onKeyDown),this._input.removeEventListener("blur",this.onBlur),(document.head||document.body).removeChild(this._style)},t}();e.BasicInputWidget=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);e.EAT_UP_KEY="==-==";var o=function(){function t(){this._inargumentMode=!1,this._killRing=[]}return t.prototype.updateAndGetKey=function(t){return"C-g"===t&&(this._inargumentMode||this._prefixKey)?(this.resetState(),e.EAT_UP_KEY):this.updateCuMode(t)?e.EAT_UP_KEY:this._prefixKey?this._prefixKey+" "+t:i.prefixPreservingKeys[t]?(this._prefixKey=t,e.EAT_UP_KEY):t},t.prototype.setLastCommandKey=function(t){this._lastCommandKey=t},t.prototype.isLastCommandKey=function(t){return this._lastCommandKey==t},t.prototype.resetState=function(t){void 0===t&&(t=!1),this._inargumentMode=t,this._prefixKey=null,this._lastInputBuffer=t?this._inputBuffer:null,this._inputBuffer=null},t.prototype.updateCuMode=function(t){if(this._inargumentMode){if("string"==typeof t&&/^\d$/.test(t))return this._inputBuffer=(this._inputBuffer||"")+t,!0;if(i.prefixPreservingKeys[t])return this.resetState(!0),!1}else if(!this._prefixKey&&"C-u"===t)return this._inargumentMode=!0,this._inputBuffer=null,this._lastInputBuffer=null,!0},t.prototype.updateStateOnExecution=function(t){void 0===t&&(t=!1),this.resetState(t)},t.prototype.getInputBuffer=function(){return this._lastInputBuffer||this._inputBuffer},t.prototype.addToRing=function(t){this._killRing.push(t),this._killRing.length>50&&this._killRing.shift()},t.prototype.growRingTop=function(t){this._killRing.length||this.addToRing(t),this._killRing[this._killRing.length-1]+=t},t.prototype.getFromRing=function(t){return this._killRing[this._killRing.length-(t?Math.min(t,1):1)]||""},t.prototype.popFromRing=function(){return this._killRing.length>1?this._killRing.pop():this.getFromRing()},t.prototype.getReadableState=function(){var t="";return this._inargumentMode&&(t+="C-u",this._inputBuffer?t+=" "+this._inputBuffer:this._lastInputBuffer&&(t+=" "+this._lastInputBuffer)),this._prefixKey&&(t+=" "+this._prefixKey),t},t}();e.State=o}])});